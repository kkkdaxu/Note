#   C++æé«˜ç¼–ç¨‹



* æœ¬é˜¶æ®µä¸»è¦é’ˆå¯¹C++==æ³›å‹ç¼–ç¨‹==å’Œ==STL==æŠ€æœ¯åšè¯¦ç»†è®²è§£ï¼Œæ¢è®¨C++æ›´æ·±å±‚çš„ä½¿ç”¨





## 1 æ¨¡æ¿

### 1.1 æ¨¡æ¿çš„æ¦‚å¿µ



æ¨¡æ¿å°±æ˜¯å»ºç«‹**é€šç”¨çš„æ¨¡å…·**ï¼Œå¤§å¤§**æé«˜å¤ç”¨æ€§**





æ¨¡æ¿çš„ç‰¹ç‚¹ï¼š

* æ¨¡æ¿ä¸å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå®ƒåªæ˜¯ä¸€ä¸ªæ¡†æ¶
* æ¨¡æ¿çš„é€šç”¨å¹¶ä¸æ˜¯ä¸‡èƒ½çš„





### 1.2 å‡½æ•°æ¨¡æ¿



* C++å¦ä¸€ç§ç¼–ç¨‹æ€æƒ³ç§°ä¸º ==æ³›å‹ç¼–ç¨‹== ï¼Œä¸»è¦åˆ©ç”¨çš„æŠ€æœ¯å°±æ˜¯æ¨¡æ¿


* C++æä¾›ä¸¤ç§æ¨¡æ¿æœºåˆ¶:**å‡½æ•°æ¨¡æ¿**å’Œ**ç±»æ¨¡æ¿** 



#### 1.2.1 å‡½æ•°æ¨¡æ¿è¯­æ³•

å‡½æ•°æ¨¡æ¿ä½œç”¨ï¼š

å»ºç«‹ä¸€ä¸ªé€šç”¨å‡½æ•°ï¼Œå…¶**å‡½æ•°è¿”å›å€¼ç±»å‹å’Œå½¢å‚ç±»å‹**å¯ä»¥ä¸å…·ä½“åˆ¶å®šï¼Œç”¨ä¸€ä¸ª**è™šæ‹Ÿçš„ç±»å‹**æ¥ä»£è¡¨ã€‚



**è¯­æ³•ï¼š** 

```C++
template<typename T>
å‡½æ•°å£°æ˜æˆ–å®šä¹‰
```

**è§£é‡Šï¼š**

template  ---  å£°æ˜åˆ›å»ºæ¨¡æ¿

typename  --- è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿

T    	 ---   é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯

 

**ç¤ºä¾‹ï¼š**

```C++
//äº¤æ¢æ•´å‹å‡½æ•°
void swapInt(int& a, int& b) {
	int temp = a;
	a = b;
	b = temp;
}

//äº¤æ¢æµ®ç‚¹å‹å‡½æ•°
void swapDouble(double& a, double& b) {
	double temp = a;
	a = b;
	b = temp;
}

//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°
template<typename T>
void mySwap(T& a, T& b)
{
	T temp = a;
	a = b;
	b = temp;
}

void test01()
{
	int a = 10;
	int b = 20;
	
	//swapInt(a, b);

	//åˆ©ç”¨æ¨¡æ¿å®ç°äº¤æ¢
	//1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼
	mySwap(a, b);

	//2ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹
	mySwap<int>(a, b);

	cout << "a = " << a << endl;
	cout << "b = " << b << endl;

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å‡½æ•°æ¨¡æ¿åˆ©ç”¨å…³é”®å­— template
* ä½¿ç”¨å‡½æ•°æ¨¡æ¿æœ‰ä¸¤ç§æ–¹å¼ï¼šè‡ªåŠ¨ç±»å‹æ¨å¯¼ã€æ˜¾ç¤ºæŒ‡å®šç±»å‹
* æ¨¡æ¿çš„ç›®çš„æ˜¯ä¸ºäº†**æé«˜å¤ç”¨æ€§ï¼Œå°†ç±»å‹å‚æ•°åŒ–**





#### 1.2.2 å‡½æ•°æ¨¡æ¿æ³¨æ„äº‹é¡¹

æ³¨æ„äº‹é¡¹ï¼š

* è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨


* æ¨¡æ¿**å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹**ï¼Œæ‰å¯ä»¥ä½¿ç”¨



**ç¤ºä¾‹ï¼š**

```C++
//åˆ©ç”¨æ¨¡æ¿æä¾›é€šç”¨çš„äº¤æ¢å‡½æ•°
template<class T>
void mySwap(T& a, T& b)
{
	T temp = a;
	a = b;
	b = temp;
}


// 1ã€è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œå¿…é¡»æ¨å¯¼å‡ºä¸€è‡´çš„æ•°æ®ç±»å‹T,æ‰å¯ä»¥ä½¿ç”¨
void test01()
{
	int a = 10;
	int b = 20;
	char c = 'c';

	mySwap(a, b); // æ­£ç¡®ï¼Œå¯ä»¥æ¨å¯¼å‡ºä¸€è‡´çš„T
	//mySwap(a, c); // é”™è¯¯ï¼Œæ¨å¯¼ä¸å‡ºä¸€è‡´çš„Tç±»å‹
}


// 2ã€æ¨¡æ¿å¿…é¡»è¦ç¡®å®šå‡ºTçš„æ•°æ®ç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨
template<class T>
void func()
{
	cout << "func è°ƒç”¨" << endl;
}

void test02()
{
	//func(); //é”™è¯¯ï¼Œæ¨¡æ¿ä¸èƒ½ç‹¬ç«‹ä½¿ç”¨ï¼Œå¿…é¡»ç¡®å®šå‡ºTçš„ç±»å‹
	func<int>(); //åˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œç»™Tä¸€ä¸ªç±»å‹ï¼Œæ‰å¯ä»¥ä½¿ç”¨è¯¥æ¨¡æ¿
}

int main() {

	test01();
	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* **ä½¿ç”¨æ¨¡æ¿æ—¶å¿…é¡»ç¡®å®šå‡ºé€šç”¨æ•°æ®ç±»å‹T**ï¼Œå¹¶ä¸”èƒ½å¤Ÿ**æ¨å¯¼å‡ºä¸€è‡´çš„ç±»å‹**











#### â—ï¸1.2.3 å‡½æ•°æ¨¡æ¿æ¡ˆä¾‹

æ¡ˆä¾‹æè¿°ï¼š

* åˆ©ç”¨å‡½æ•°æ¨¡æ¿å°è£…ä¸€ä¸ªæ’åºçš„å‡½æ•°ï¼Œå¯ä»¥å¯¹**ä¸åŒæ•°æ®ç±»å‹æ•°ç»„**è¿›è¡Œæ’åº
* æ’åºè§„åˆ™ä»å¤§åˆ°å°ï¼Œæ’åºç®—æ³•ä¸º**é€‰æ‹©æ’åº**
* åˆ†åˆ«åˆ©ç”¨**charæ•°ç»„**å’Œ**intæ•°ç»„**è¿›è¡Œæµ‹è¯•



ç¤ºä¾‹ï¼š

```C++
//äº¤æ¢çš„å‡½æ•°æ¨¡æ¿
template<typename T>
void mySwap(T &a, T &b)
{
	T temp = a;
	a = b;
	b = temp;
}


template<class T> // ä¹Ÿå¯ä»¥æ›¿æ¢æˆtypename
//åˆ©ç”¨é€‰æ‹©æ’åºï¼Œè¿›è¡Œå¯¹æ•°ç»„ä»å¤§åˆ°å°çš„æ’åº
void mySort(T arr[], int len)
{
	for (int i = 0; i < len; i++)
	{
		int max = i; //æœ€å¤§æ•°çš„ä¸‹æ ‡
		for (int j = i + 1; j < len; j++)
		{
			if (arr[max] < arr[j])
			{
				max = j;
			}
		}
		if (max != i) //å¦‚æœæœ€å¤§æ•°çš„ä¸‹æ ‡ä¸æ˜¯iï¼Œäº¤æ¢ä¸¤è€…
		{
			mySwap(arr[max], arr[i]);
		}
	}
}

template<typename T>
void printArray(T arr[], int len) {

	for (int i = 0; i < len; i++) {
		cout << arr[i] << " ";
	}
	cout << endl;
}
void test01()
{
	//æµ‹è¯•charæ•°ç»„
	char charArr[] = "bdcfeagh";
	int num = sizeof(charArr) / sizeof(char);
	mySort(charArr, num);
	printArray(charArr, num);
}

void test02()
{
	//æµ‹è¯•intæ•°ç»„
	int intArr[] = { 7, 5, 8, 1, 3, 9, 2, 4, 6 };
	int num = sizeof(intArr) / sizeof(int);
	mySort(intArr, num);
	printArray(intArr, num);
}

int main() {

	test01();
	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šæ¨¡æ¿å¯ä»¥æé«˜ä»£ç å¤ç”¨ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡











#### 1.2.4 æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„åŒºåˆ«



**æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ï¼š**

* æ™®é€šå‡½æ•°è°ƒç”¨æ—¶å¯ä»¥å‘ç”Ÿ**è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼ˆéšå¼ç±»å‹è½¬æ¢ï¼‰**

* å‡½æ•°æ¨¡æ¿è°ƒç”¨æ—¶ï¼Œ**å¦‚æœåˆ©ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢**

* å¦‚æœ**åˆ©ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢**

  â€‹	`myAdd02<int>(a, c);` //æ­£ç¡®ï¼Œå¦‚æœç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢



**ç¤ºä¾‹ï¼š**

```C++
//æ™®é€šå‡½æ•°
int myAdd01(int a, int b)
{
	return a + b;
}

//å‡½æ•°æ¨¡æ¿
template<class T>
T myAdd02(T a, T b)  
{
	return a + b;
}

//ä½¿ç”¨å‡½æ•°æ¨¡æ¿æ—¶ï¼Œå¦‚æœç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼ï¼Œä¸ä¼šå‘ç”Ÿè‡ªåŠ¨ç±»å‹è½¬æ¢,å³éšå¼ç±»å‹è½¬æ¢
void test01()
{
	int a = 10;
	int b = 20;
	char c = 'c';
	
	cout << myAdd01(a, c) << endl; //æ­£ç¡®ï¼Œå°†charç±»å‹çš„'c'éšå¼è½¬æ¢ä¸ºintç±»å‹  'c' å¯¹åº” ASCIIç  99

	//myAdd02(a, c); // æŠ¥é”™ï¼Œä½¿ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼æ—¶ï¼Œä¸ä¼šå‘ç”Ÿéšå¼ç±»å‹è½¬æ¢

	myAdd02<int>(a, c); //æ­£ç¡®ï¼Œå¦‚æœç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹ï¼Œå¯ä»¥å‘ç”Ÿéšå¼ç±»å‹è½¬æ¢
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

> æ€»ç»“ï¼š**â—ï¸å»ºè®®ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œè°ƒç”¨å‡½æ•°æ¨¡æ¿ï¼Œå› ä¸ºå¯ä»¥è‡ªå·±ç¡®å®šé€šç”¨ç±»å‹T**
>











#### 1.2.5 æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿çš„è°ƒç”¨è§„åˆ™



è°ƒç”¨è§„åˆ™å¦‚ä¸‹ï¼š

1. å¦‚æœå‡½æ•°æ¨¡æ¿å’Œæ™®é€šå‡½æ•°éƒ½å¯ä»¥å®ç°ï¼Œ**ä¼˜å…ˆè°ƒç”¨æ™®é€šå‡½æ•°**
2. å¯ä»¥é€šè¿‡**ç©ºæ¨¡æ¿å‚æ•°åˆ—è¡¨**æ¥å¼ºåˆ¶è°ƒç”¨å‡½æ•°æ¨¡æ¿
3. **å‡½æ•°æ¨¡æ¿**ä¹Ÿ**å¯ä»¥å‘ç”Ÿé‡è½½**
4. å¦‚æœå‡½æ•°æ¨¡æ¿å¯ä»¥äº§ç”Ÿæ›´å¥½çš„åŒ¹é…,ä¼˜å…ˆè°ƒç”¨å‡½æ•°æ¨¡æ¿





**ç¤ºä¾‹ï¼š**

```C++
//æ™®é€šå‡½æ•°ä¸å‡½æ•°æ¨¡æ¿è°ƒç”¨è§„åˆ™
void myPrint(int a, int b)
{
	cout << "è°ƒç”¨çš„æ™®é€šå‡½æ•°" << endl;
}

template<typename T>
void myPrint(T a, T b) 
{ 
	cout << "è°ƒç”¨çš„æ¨¡æ¿" << endl;
}

template<typename T>
void myPrint(T a, T b, T c) 
{ 
	cout << "è°ƒç”¨é‡è½½çš„æ¨¡æ¿" << endl; 
}

void test01()
{
	//1ã€å¦‚æœå‡½æ•°æ¨¡æ¿å’Œæ™®é€šå‡½æ•°éƒ½å¯ä»¥å®ç°ï¼Œä¼˜å…ˆè°ƒç”¨æ™®é€šå‡½æ•°
	// æ³¨æ„ å¦‚æœå‘Šè¯‰ç¼–è¯‘å™¨  æ™®é€šå‡½æ•°æ˜¯æœ‰çš„ï¼Œä½†åªæ˜¯å£°æ˜æ²¡æœ‰å®ç°ï¼Œæˆ–è€…ä¸åœ¨å½“å‰æ–‡ä»¶å†…å®ç°ï¼Œå°±ä¼šæŠ¥é”™æ‰¾ä¸åˆ°
	int a = 10;
	int b = 20;
	myPrint(a, b); //è°ƒç”¨æ™®é€šå‡½æ•°

	//â—ï¸2ã€å¯ä»¥é€šè¿‡ ç©ºæ¨¡æ¿å‚æ•°åˆ—è¡¨ æ¥å¼ºåˆ¶è°ƒç”¨å‡½æ•°æ¨¡æ¿
	myPrint<>(a, b); //è°ƒç”¨å‡½æ•°æ¨¡æ¿

	//3ã€å‡½æ•°æ¨¡æ¿ä¹Ÿå¯ä»¥å‘ç”Ÿé‡è½½
	int c = 30;
	myPrint(a, b, c); //è°ƒç”¨é‡è½½çš„å‡½æ•°æ¨¡æ¿

	//4ã€ å¦‚æœå‡½æ•°æ¨¡æ¿å¯ä»¥äº§ç”Ÿæ›´å¥½çš„åŒ¹é…,ä¼˜å…ˆè°ƒç”¨å‡½æ•°æ¨¡æ¿
	char c1 = 'a';
	char c2 = 'b';
	myPrint(c1, c2); //è°ƒç”¨å‡½æ•°æ¨¡æ¿
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šæ—¢ç„¶æä¾›äº†å‡½æ•°æ¨¡æ¿ï¼Œæœ€å¥½å°±ä¸è¦æä¾›æ™®é€šå‡½æ•°ï¼Œå¦åˆ™å®¹æ˜“å‡ºç°äºŒä¹‰æ€§











#### â€¼ï¸1.2.6 æ¨¡æ¿çš„å±€é™æ€§

**å±€é™æ€§ï¼š**

* æ¨¡æ¿çš„é€šç”¨æ€§å¹¶ä¸æ˜¯ä¸‡èƒ½çš„



**ä¾‹å¦‚ï¼š**

```C++
	template<class T>
	void f(T a, T b)
	{ 
    	a = b;
    }
```

åœ¨ä¸Šè¿°ä»£ç ä¸­æä¾›çš„èµ‹å€¼æ“ä½œï¼Œå¦‚æœä¼ å…¥çš„aå’Œbæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå°±æ— æ³•å®ç°äº†



å†ä¾‹å¦‚ï¼š

```C++
	template<class T>
	void f(T a, T b)
	{ 
    	if(a > b) { ... }
    }
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¦‚æœTçš„æ•°æ®ç±»å‹ä¼ å…¥çš„æ˜¯åƒPersonè¿™æ ·çš„è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¹Ÿæ— æ³•æ­£å¸¸è¿è¡Œ





ğŸŸ¥å› æ­¤C++ä¸ºäº†è§£å†³è¿™ç§é—®é¢˜ï¼Œæä¾›**æ¨¡æ¿çš„é‡è½½**ï¼Œå¯ä»¥ä¸ºè¿™äº›**ç‰¹å®šçš„ç±»å‹**æä¾›**å…·ä½“åŒ–çš„æ¨¡æ¿**



**ç¤ºä¾‹ï¼š**

```C++
#include<iostream>
using namespace std;

#include <string>

class Person
{
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}
	string m_Name;
	int m_Age;
};

//æ™®é€šå‡½æ•°æ¨¡æ¿
template<class T>
bool myCompare(T &a, T &b)
{
	if (a == b)
	{
		return true;
	}
	else
	{
		return false;
	}
}


//å…·ä½“åŒ–ï¼Œæ˜¾ç¤ºå…·ä½“åŒ–çš„åŸå‹å’Œå®šæ„æ€ä»¥template<>å¼€å¤´ï¼Œå¹¶é€šè¿‡åç§°æ¥æŒ‡å‡ºç±»å‹
//å…·ä½“åŒ–ä¼˜å…ˆäºå¸¸è§„æ¨¡æ¿
template<> 
bool myCompare(Person &p1, Person &p2)
{
	if ( p1.m_Name  == p2.m_Name && p1.m_Age == p2.m_Age)
	{
		return true;
	}
	else
	{
		return false;
	}
}

void test01()
{
	int a = 10;
	int b = 20;
	//å†…ç½®æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ä½¿ç”¨é€šç”¨çš„å‡½æ•°æ¨¡æ¿
	bool ret = myCompare(a, b);
	if (ret)
	{
		cout << "a == b " << endl;
	}
	else
	{
		cout << "a != b " << endl;
	}
}

void test02()
{
	Person p1("Tom", 10);
	Person p2("Tom", 10);
	//è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œä¸ä¼šè°ƒç”¨æ™®é€šçš„å‡½æ•°æ¨¡æ¿
	//å¯ä»¥åˆ›å»ºå…·ä½“åŒ–çš„Personæ•°æ®ç±»å‹çš„æ¨¡æ¿ï¼Œç”¨äºç‰¹æ®Šå¤„ç†è¿™ä¸ªç±»å‹
	bool ret = myCompare(p1, p2);
	if (ret)
	{
		cout << "p1 == p2 " << endl;
	}
	else
	{
		cout << "p1 != p2 " << endl;
	}
}

int main() {

	test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* åˆ©ç”¨å…·ä½“åŒ–çš„æ¨¡æ¿ï¼Œå¯ä»¥è§£å†³è‡ªå®šä¹‰ç±»å‹çš„é€šç”¨åŒ–
* å­¦ä¹ æ¨¡æ¿å¹¶ä¸æ˜¯ä¸ºäº†å†™æ¨¡æ¿ï¼Œ**è€Œæ˜¯åœ¨STLèƒ½å¤Ÿè¿ç”¨ç³»ç»Ÿæä¾›çš„æ¨¡æ¿**





## ï¼ˆè¡¥å……ï¼‰æ¨¡æ¿çš„ç‰¹åŒ–

> åœ¨C++ä¸­ï¼Œæ¨¡æ¿æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºç¼–å†™æ³›å‹ä»£ç ï¼Œå³å¯¹å¤šç§æ•°æ®ç±»å‹éƒ½èƒ½å·¥ä½œçš„ä»£ç ã€‚ä½†æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç‰¹å®šç±»å‹çš„æ¨¡æ¿å®ä¾‹åŒ–è¿›è¡Œç‰¹æ®Šå¤„ç†ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒC++æä¾›äº†æ¨¡æ¿çš„ç‰¹åŒ–å’Œé‡è½½ã€‚
>
> ### æ¨¡æ¿ç‰¹åŒ–
>
> æ¨¡æ¿ç‰¹åŒ–å…è®¸ä½ ä¸ºæŸä¸ªç‰¹å®šç±»å‹æä¾›ä¸€ä¸ªç‰¹æ®Šçš„å®ç°ç‰ˆæœ¬ã€‚è¿™ç§ç‰¹åŒ–å¯ä»¥æ˜¯å®Œå…¨ç‰¹åŒ–ï¼Œä¹Ÿå¯ä»¥æ˜¯éƒ¨åˆ†ç‰¹åŒ–ã€‚
>
> #### å®Œå…¨ç‰¹åŒ–
>
> å®Œå…¨ç‰¹åŒ–æ˜¯é’ˆå¯¹ç‰¹å®šç±»å‹æä¾›ä¸€ä¸ªæ¨¡æ¿çš„å®Œæ•´å®šä¹‰ã€‚å½“æ¨¡æ¿å®ä¾‹åŒ–ä¸ºè¿™ä¸ªç‰¹å®šç±»å‹æ—¶ï¼Œç¼–è¯‘å™¨ä¼šä½¿ç”¨è¿™ä¸ªç‰¹åŒ–ç‰ˆæœ¬è€Œä¸æ˜¯é€šç”¨æ¨¡æ¿ã€‚
>
> **ç¤ºä¾‹**ï¼š
>
> ```cpp
> template<typename T>
> class MyTemplate {
> public:
>     void doSomething() {
>         // é€šç”¨å®ç°
>     }
> };
> 
> // å®Œå…¨ç‰¹åŒ–ä¸º int ç±»å‹
> template<>
> class MyTemplate<int> {
> public:
>     void doSomething() {
>         // é’ˆå¯¹ int ç±»å‹çš„ç‰¹æ®Šå®ç°
>     }
> };
> ```
>
> #### éƒ¨åˆ†ç‰¹åŒ– ï¼ˆåç‰¹åŒ–ï¼‰
>
> éƒ¨åˆ†ç‰¹åŒ–æ˜¯é’ˆå¯¹ç‰¹å®šç±»å‹çš„ä¸€ç»„å˜ä½“æä¾›çš„æ¨¡æ¿å®šä¹‰ã€‚è¿™å¯¹äºç±»æ¨¡æ¿æ¯”è¾ƒå¸¸è§ï¼Œæ¯”å¦‚å½“æ¨¡æ¿æœ‰å¤šä¸ªç±»å‹å‚æ•°ï¼Œè€Œä½ åªæƒ³ç‰¹åŒ–å…¶ä¸­ä¸€éƒ¨åˆ†ã€‚
>
> **ç¤ºä¾‹**ï¼š
>
> ```cpp
> template<typename T, typename U>
> class MyTemplate {
>     // é€šç”¨å®ç°
> };
> 
> // éƒ¨åˆ†ç‰¹åŒ–ï¼šç¬¬äºŒä¸ªç±»å‹å‚æ•°ä¸º int
> template<typename T>
> class MyTemplate<T, int> {
>     // é’ˆå¯¹ç¬¬äºŒä¸ªç±»å‹å‚æ•°ä¸º int çš„ç‰¹æ®Šå®ç°
> };
> ```
>
> 
>
> 
>
> ### æ¨¡æ¿é‡è½½
>
> æ¨¡æ¿é‡è½½æ˜¯æŒ‡**å®šä¹‰ä¸¤ä¸ªæˆ–å¤šä¸ªç»“æ„æˆ–åŠŸèƒ½ç›¸ä¼¼ä½†å‚æ•°ç±»å‹ä¸åŒçš„æ¨¡æ¿**ã€‚è¿™ä¸å‡½æ•°é‡è½½ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå®ƒæ¶‰åŠæ¨¡æ¿ã€‚
>
> **ç¤ºä¾‹**ï¼š
>
> ```cpp
> template<typename T>
> void doSomething(T a) {
>     // é€šç”¨å®ç°
> }
> 
> template<typename T>
> void doSomething(std::vector<T> a) {
>     // é’ˆå¯¹ vector ç±»å‹çš„é‡è½½å®ç°
> }
> ```
>
> åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`doSomething` è¢«é‡è½½äº†ï¼šä¸€ä¸ªç‰ˆæœ¬å¤„ç†ä¸€èˆ¬ç±»å‹ï¼Œå¦ä¸€ä¸ªç‰ˆæœ¬ä¸“é—¨å¤„ç† `std::vector` ç±»å‹ã€‚
>
> ### æ€»ç»“
>
> æ¨¡æ¿ç‰¹åŒ–å’Œé‡è½½æ˜¯C++æ¨¡æ¿ç¼–ç¨‹ä¸­éå¸¸å¼ºå¤§çš„ç‰¹æ€§ï¼Œå…è®¸ç¨‹åºå‘˜ä¸ºç‰¹å®šç±»å‹æˆ–ä¸€ç»„ç±»å‹æä¾›ä¼˜åŒ–æˆ–ç‰¹å®šçš„å®ç°ï¼ŒåŒæ—¶ä¿æŒä»£ç çš„æ³›å‹æ€§å’Œå¯é‡ç”¨æ€§ã€‚é€šè¿‡ç‰¹åŒ–å’Œé‡è½½ï¼Œå¯ä»¥æé«˜ä»£ç çš„æ•ˆç‡å’Œçµæ´»æ€§ï¼Œä½¿å…¶æ›´åŠ é€‚åº”ä¸åŒçš„ç¼–ç¨‹åœºæ™¯ã€‚





### 1.3 ç±»æ¨¡æ¿

#### â—ï¸1.3.1 ç±»æ¨¡æ¿è¯­æ³•

ç±»æ¨¡æ¿ä½œç”¨ï¼š

* å»ºç«‹ä¸€ä¸ªé€šç”¨ç±»ï¼Œ**ç±»ä¸­çš„æˆå‘˜ æ•°æ®ç±»å‹å¯ä»¥ä¸å…·ä½“åˆ¶å®š**ï¼Œç”¨ä¸€ä¸ª**è™šæ‹Ÿçš„ç±»å‹**æ¥ä»£è¡¨ã€‚



**è¯­æ³•ï¼š** 

```c++
template<typename T>
ç±»
```

**è§£é‡Šï¼š**

template  ---  å£°æ˜åˆ›å»ºæ¨¡æ¿

typename  --- è¡¨é¢å…¶åé¢çš„ç¬¦å·æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯ä»¥ç”¨classä»£æ›¿

T    ---   é€šç”¨çš„æ•°æ®ç±»å‹ï¼Œåç§°å¯ä»¥æ›¿æ¢ï¼Œé€šå¸¸ä¸ºå¤§å†™å­—æ¯



**ç¤ºä¾‹ï¼š**

```C++
#include <string>
//ç±»æ¨¡æ¿
template<class NameType, class AgeType> 
class Person
{
public:
	Person(NameType name, AgeType age)
	{
		this->mName = name;
		this->mAge = age;
	}
	void showPerson()
	{
		cout << "name: " << this->mName << " age: " << this->mAge << endl;
	}
public:
	NameType mName;
	AgeType mAge;
};


void test01()
{
	// â€¼ï¸æŒ‡å®šNameType ä¸ºstringç±»å‹ï¼ŒAgeType ä¸º intç±»å‹
	Person<string, int>P1("å­™æ‚Ÿç©º", 999);
	P1.showPerson();
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šç±»æ¨¡æ¿å’Œå‡½æ•°æ¨¡æ¿è¯­æ³•ç›¸ä¼¼ï¼Œåœ¨å£°æ˜æ¨¡æ¿templateåé¢åŠ ç±»ï¼Œæ­¤ç±»ç§°ä¸ºç±»æ¨¡æ¿











#### 1.3.2 ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«

> 
>
> ç±»æ¨¡æ¿ä¸å‡½æ•°æ¨¡æ¿åŒºåˆ«ä¸»è¦æœ‰ä¸¤ç‚¹ï¼š
>
> 1. â—ï¸ç±»æ¨¡æ¿**æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼**
> 2. â—ï¸ç±»æ¨¡æ¿åœ¨**æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°**
>



**ç¤ºä¾‹ï¼š**

```C++
#include <string>
//ç±»æ¨¡æ¿ åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°
template<class NameType, class AgeType = int> 
class Person
{
public:
	Person(NameType name, AgeType age)
	{
		this->mName = name;
		this->mAge = age;
	}
	void showPerson()
	{
		cout << "name: " << this->mName << " age: " << this->mAge << endl;
	}
public:
	NameType mName;
	AgeType mAge;
};

//1ã€ç±»æ¨¡æ¿æ²¡æœ‰è‡ªåŠ¨ç±»å‹æ¨å¯¼çš„ä½¿ç”¨æ–¹å¼
void test01()
{
	// Person p("å­™æ‚Ÿç©º", 1000); // é”™è¯¯ ç±»æ¨¡æ¿ä½¿ç”¨æ—¶å€™ï¼Œä¸å¯ä»¥ç”¨è‡ªåŠ¨ç±»å‹æ¨å¯¼
	Person <string ,int>p("å­™æ‚Ÿç©º", 1000); //ğŸŸ¥å¿…é¡»ä½¿ç”¨æ˜¾ç¤ºæŒ‡å®šç±»å‹çš„æ–¹å¼ï¼Œä½¿ç”¨ç±»æ¨¡æ¿
	p.showPerson();
}

//2ã€ç±»æ¨¡æ¿åœ¨æ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­å¯ä»¥æœ‰é»˜è®¤å‚æ•°
void test02()
{
	Person <string> p("çŒªå…«æˆ’", 999); //ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨ å¯ä»¥æŒ‡å®šé»˜è®¤å‚æ•°ï¼Œä½¿ç”¨æ—¶å¯ä»¥ä¸å†™int
  // â—ï¸é»˜è®¤å‚æ•°ç±»å‹åœ¨å®šä¹‰ç±»æ¨¡æ¿æ—¶æŒ‡å®šï¼Œä½†åœ¨å®é™…ä½¿ç”¨æ—¶å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œæ›¿æ¢
  Person<string> p1;           // ä½¿ç”¨é»˜è®¤å‚æ•°ç±»å‹ int
	Person<string, double> p2;   // æ›¿æ¢é»˜è®¤å‚æ•°ç±»å‹ä¸º double
	Person<string, long> p3;     // æ›¿æ¢é»˜è®¤å‚æ•°ç±»å‹ä¸º long
	p.showPerson();
}

int main() {

	test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* ç±»æ¨¡æ¿ä½¿ç”¨åªèƒ½ç”¨**æ˜¾ç¤ºæŒ‡å®šç±»å‹æ–¹å¼**
* ç±»æ¨¡æ¿ä¸­çš„æ¨¡æ¿å‚æ•°åˆ—è¡¨å¯ä»¥æœ‰é»˜è®¤å‚æ•°











#### 1.3.3 ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœº



ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°å’Œæ™®é€šç±»ä¸­æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯æœ‰åŒºåˆ«çš„ï¼š

* **æ™®é€šç±»ä¸­çš„æˆå‘˜å‡½æ•°ä¸€å¼€å§‹å°±å¯ä»¥åˆ›å»º**
* ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°**åœ¨è°ƒç”¨æ—¶æ‰åˆ›å»º**





**ç¤ºä¾‹ï¼š**

```C++
class Person1
{
public:
	void showPerson1()
	{
		cout << "Person1 show" << endl;
	}
};

class Person2
{
public:
	void showPerson2()
	{
		cout << "Person2 show" << endl;
	}
};

template<class T>
class MyClass
{
public:
	T obj;
  
	// ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œè€Œæ˜¯åœ¨æ¨¡æ¿è°ƒç”¨æ—¶å†ç”Ÿæˆã€‚
  // å› æ­¤ä¸è°ƒç”¨è¿™ä¸ªç±»çš„æ—¶å€™ï¼Œç¼–è¯‘èƒ½é€šè¿‡
	void fun1() { obj.showPerson1(); }
	void fun2() { obj.showPerson2(); }
};

void test01()
{
	MyClass<Person1> m;
	
	m.fun1();

  	// person1 æ²¡æœ‰showPerson2()æˆå‘˜å‡½æ•°
	//m.fun2(); //ç¼–è¯‘ä¼šå‡ºé”™ï¼Œè¯´æ˜å‡½æ•°è°ƒç”¨æ‰ä¼šå»åˆ›å»ºæˆå‘˜å‡½æ•°
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

> æ€»ç»“ï¼š**ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°**å¹¶ä¸æ˜¯ä¸€å¼€å§‹å°±åˆ›å»ºçš„ï¼Œ**åœ¨è°ƒç”¨æ—¶æ‰å»åˆ›å»º**
>









#### â€¼ï¸1.3.4 ç±»æ¨¡æ¿å¯¹è±¡åšå‡½æ•°å‚æ•°

å­¦ä¹ ç›®æ ‡ï¼š

* ç±»æ¨¡æ¿å®ä¾‹åŒ–å‡ºçš„å¯¹è±¡ï¼Œå‘å‡½æ•°ä¼ å‚çš„æ–¹å¼



ä¸€å…±æœ‰ä¸‰ç§ä¼ å…¥æ–¹å¼ï¼š

1. **æŒ‡å®šä¼ å…¥çš„ç±»å‹        --- ç›´æ¥æ˜¾ç¤ºå¯¹è±¡çš„æ•°æ®ç±»å‹**
2. å‚æ•°æ¨¡æ¿åŒ–           --- å°†å¯¹è±¡ä¸­çš„å‚æ•°å˜ä¸ºæ¨¡æ¿è¿›è¡Œä¼ é€’
3. æ•´ä¸ªç±»æ¨¡æ¿åŒ–        --- å°†è¿™ä¸ªå¯¹è±¡ç±»å‹ æ¨¡æ¿åŒ–è¿›è¡Œä¼ é€’





**ç¤ºä¾‹ï¼š**

```C++
#include <string>
//ç±»æ¨¡æ¿
template<class NameType, class AgeType = int> 
class Person
{
public:
	Person(NameType name, AgeType age)
	{
		this->mName = name;
		this->mAge = age;
	}
	void showPerson()
	{
		cout << "name: " << this->mName << " age: " << this->mAge << endl;
	}
public:
	NameType mName;
	AgeType mAge;
};

//1ã€æŒ‡å®šä¼ å…¥çš„ç±»å‹
//æƒ³ä¼ å…¥ ç±»æ¨¡æ¿å¯¹è±¡
void printPerson1(Person<string, int> &p) 
{
	p.showPerson();
}
void test01()
{
	Person <string, int>p("å­™æ‚Ÿç©º", 100);
	printPerson1(p);
}

//2ã€å‚æ•°æ¨¡æ¿åŒ–
template <class T1, class T2>
void printPerson2(Person<T1, T2> &p) //ç¼–è¯‘å™¨æ¨å¯¼å‡ºT1ã€T2çš„ç±»å‹
{
	p.showPerson();
	cout << "T1çš„ç±»å‹ä¸ºï¼š " << typeid(T1).name() << endl; //æ˜¾ç¤ºæ•°æ®ç±»å‹
	cout << "T2çš„ç±»å‹ä¸ºï¼š " << typeid(T2).name() << endl;
}
void test02()
{
	Person <string, int >p("çŒªå…«æˆ’", 90);
	printPerson2(p);
}

//3ã€æ•´ä¸ªç±»æ¨¡æ¿åŒ–
template<class T>
void printPerson3(T & p) //ç¼–è¯‘å™¨æ¨å¯¼å‡º T ä¸º person æ•°æ®ç±»å‹
{
	cout << "Tçš„ç±»å‹ä¸ºï¼š " << typeid(T).name() << endl;
	p.showPerson();

}

void test03()
{
	Person <string, int >p("å”åƒ§", 30);
	printPerson3(p);
}

int main() {

	test01();
	test02();
	test03();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* é€šè¿‡ç±»æ¨¡æ¿åˆ›å»ºçš„å¯¹è±¡ï¼Œå¯ä»¥æœ‰ä¸‰ç§æ–¹å¼å‘å‡½æ•°ä¸­è¿›è¡Œä¼ å‚
* **ä½¿ç”¨æ¯”è¾ƒå¹¿æ³›æ˜¯ç¬¬ä¸€ç§ï¼šæŒ‡å®šä¼ å…¥çš„ç±»å‹**







#### â€¼ï¸1.3.5 ç±»æ¨¡æ¿ä¸ç»§æ‰¿



å½“ç±»æ¨¡æ¿ç¢°åˆ°ç»§æ‰¿æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹å‡ ç‚¹ï¼š

* å½“å­ç±»ç»§æ‰¿çš„**çˆ¶ç±»æ˜¯ä¸€ä¸ªç±»æ¨¡æ¿æ—¶ï¼Œå­ç±»åœ¨å£°æ˜çš„æ—¶å€™ï¼Œè¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹**
* å¦‚æœä¸æŒ‡å®šï¼Œç¼–è¯‘å™¨æ— æ³•ç»™å­ç±»åˆ†é…å†…å­˜
* å¦‚æœ**æƒ³ çµæ´» æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„ç±»å‹ï¼Œå­ç±»ä¹Ÿéœ€å˜ä¸ºç±»æ¨¡æ¿**



**ç¤ºä¾‹ï¼š**

```C++
template<class T>
class Base
{
	T m;
};

//class Son:public Base  
//é”™è¯¯ï¼Œc++ç¼–è¯‘éœ€è¦ç»™å­ç±»åˆ†é…å†…å­˜ï¼Œå¿…é¡»çŸ¥é“çˆ¶ç±»ä¸­Tçš„ç±»å‹æ‰å¯ä»¥å‘ä¸‹ç»§æ‰¿
class Son :public Base<int> //å¿…é¡»æŒ‡å®šä¸€ä¸ªç±»å‹ 
{
};
void test01()
{
	Son c;
} 

//ç±»æ¨¡æ¿ç»§æ‰¿ç±»æ¨¡æ¿ ,å¯ä»¥ç”¨T2æŒ‡å®šçˆ¶ç±»ä¸­çš„Tç±»å‹
template<class T1, class T2>
class Son2 :public Base<T2>
{
public:
	Son2()
	{
		cout << typeid(T1).name() << endl;
		cout << typeid(T2).name() << endl;
	}
  
  T1 obj;
};

void test02()
{
	Son2<int, char> child1;
}


int main() {

	test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå¦‚æœçˆ¶ç±»æ˜¯ç±»æ¨¡æ¿ï¼Œå­ç±»éœ€è¦æŒ‡å®šå‡ºçˆ¶ç±»ä¸­Tçš„æ•°æ®ç±»å‹









#### â€¼ï¸1.3.6 ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°ç±»å¤–å®ç°



å­¦ä¹ ç›®æ ‡ï¼šèƒ½å¤ŸæŒæ¡ç±»æ¨¡æ¿ä¸­çš„æˆå‘˜å‡½æ•°ç±»å¤–å®ç°



**ç¤ºä¾‹ï¼š**

```C++
#include <string>

//ç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°
template<class T1, class T2>
class Person {
public:
	//æˆå‘˜å‡½æ•°ç±»å†…å£°æ˜
	Person(T1 name, T2 age);
	void showPerson();

public:
	T1 m_Name;
	T2 m_Age;
};

//ç±»æ¨¡æ¿æ„é€ å‡½æ•° ç±»å¤–å®ç° // Person::Person(T1 name, T2 age) åˆ™è¡¨ç¤ºæ™®é€šæˆå‘˜å‡½æ•°çš„ç±»å¤–å®ç°
template<class T1, class T2>
Person<T1, T2>::Person(T1 name, T2 age)  
{
	this->m_Name = name;
	this->m_Age = age;
}

//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°ï¼ŒåŒä¸Šï¼Œæœ‰è¿™ä¸ªæ¨¡æ¿å‚æ•°åˆ—è¡¨Person<T1, T2>ï¼Œä¸»æ„ä½ç½®
template<class T1, class T2>
void Person<T1, T2>::showPerson() {
	cout << "å§“å: " << this->m_Name << " å¹´é¾„:" << this->m_Age << endl;
}

void test01()
{
	Person<string, int> p("Tom", 20);
	p.showPerson();
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šç±»æ¨¡æ¿ä¸­æˆå‘˜å‡½æ•°ç±»å¤–å®ç°æ—¶ï¼Œ**éœ€è¦åŠ ä¸Šæ¨¡æ¿å‚æ•°åˆ—è¡¨**









#### â•1.3.7 ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™

å­¦ä¹ ç›®æ ‡ï¼š

* æŒæ¡**ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°åˆ†æ–‡ä»¶ç¼–å†™äº§ç”Ÿçš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼**



 é—®é¢˜ï¼š

* ç±»æ¨¡æ¿ä¸­**æˆå‘˜å‡½æ•°åˆ›å»ºæ—¶æœºæ˜¯åœ¨è°ƒç”¨é˜¶æ®µ**ï¼Œå¯¼è‡´**åˆ†æ–‡ä»¶ç¼–å†™æ—¶é“¾æ¥ä¸åˆ°**


è§£å†³ï¼š

* è§£å†³æ–¹å¼1ï¼šç›´æ¥åŒ…å«.cppæºæ–‡ä»¶
* è§£å†³æ–¹å¼2ï¼š**å°†å£°æ˜å’Œå®ç°å†™åˆ°åŒä¸€ä¸ªæ–‡ä»¶ä¸­**ï¼Œå¹¶æ›´æ”¹åç¼€åä¸º**.hppï¼ˆæ”¾åœ¨å¤´æ–‡ä»¶æ–‡ä»¶å¤¹é‡Œï¼‰**ï¼Œhppæ˜¯çº¦å®šçš„åç§°ï¼Œå¹¶ä¸æ˜¯å¼ºåˆ¶

 

**ç¤ºä¾‹ï¼š**

person.hppä¸­ä»£ç ï¼š

```C++
#pragma once
#include <iostream>
using namespace std;
#include <string>

template<class T1, class T2>
class Person {
public:
	Person(T1 name, T2 age);
	void showPerson();
public:
	T1 m_Name;
	T2 m_Age;
};

//æ„é€ å‡½æ•° ç±»å¤–å®ç°
template<class T1, class T2>
Person<T1, T2>::Person(T1 name, T2 age) {
	this->m_Name = name;
	this->m_Age = age;
}

//æˆå‘˜å‡½æ•° ç±»å¤–å®ç°
template<class T1, class T2>
void Person<T1, T2>::showPerson() {
	cout << "å§“å: " << this->m_Name << " å¹´é¾„:" << this->m_Age << endl;
}
```



ç±»æ¨¡æ¿åˆ†æ–‡ä»¶ç¼–å†™.cppä¸­ä»£ç 

```C++
#include<iostream>
using namespace std;

//#include "person.h"
#include "person.cpp" //è§£å†³æ–¹å¼1ï¼ŒåŒ…å«cppæºæ–‡ä»¶

//è§£å†³æ–¹å¼2ï¼Œå°†å£°æ˜å’Œå®ç°å†™åˆ°ä¸€èµ·ï¼Œæ–‡ä»¶åç¼€åæ”¹ä¸º.hpp
#include "person.hpp"
void test01()
{
	Person<string, int> p("Tom", 10);
	p.showPerson();
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š**ä¸»æµçš„è§£å†³æ–¹å¼æ˜¯ç¬¬äºŒç§ï¼Œå°†ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°å†™åˆ°ä¸€èµ·ï¼Œå¹¶å°†åç¼€åæ”¹ä¸º.hpp**









### é—®é¢˜è¯¦è§£

> 
>
> å½“ä½ åªåŒ…å«ç±»æ¨¡æ¿çš„å¤´æ–‡ä»¶è€Œä¸åŒ…å«å…¶æˆå‘˜å‡½æ•°å®ç°æ—¶ï¼Œæ˜¯å¦èƒ½æ‰¾åˆ°æˆå‘˜å‡½æ•°çš„å®ç°å–å†³äºæˆå‘˜å‡½æ•°çš„å®ç°æ˜¯å¦‚ä½•ç»„ç»‡çš„ã€‚åœ¨C++ä¸­ï¼Œç±»æ¨¡æ¿çš„å¤„ç†æœ‰ä¸€äº›ç‰¹åˆ«çš„è€ƒè™‘ï¼š
>
> ### ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°å®ç°çš„å¸¸è§ç»„ç»‡æ–¹å¼
>
> 1. **å®ç°å†…è”åœ¨ç±»å®šä¹‰ä¸­**ï¼šå¦‚æœæ¨¡æ¿ç±»çš„æˆå‘˜å‡½æ•°æ˜¯ç›´æ¥åœ¨ç±»å®šä¹‰ä¸­å®ç°çš„ï¼ˆå³åœ¨å¤´æ–‡ä»¶ä¸­ï¼‰ï¼Œé‚£ä¹ˆå½“ä½ åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶æ—¶ï¼Œè¿™äº›æˆå‘˜å‡½æ•°çš„å®šä¹‰ä¹Ÿä¼šè¢«åŒ…å«è¿›æ¥ã€‚è¿™æ˜¯æœ€å¸¸è§ä¸”æ¨èçš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒç¡®ä¿äº†æ¨¡æ¿çš„æ¯ä¸ªå®ä¾‹åŒ–éƒ½èƒ½æ‰¾åˆ°å…¶æˆå‘˜å‡½æ•°çš„å®ç°ã€‚
>
>    ```cpp
>    template <typename T>
>    class MyClass {
>    public:
>        void myFunction() {
>            // å®ç°
>        }
>    };
>    ```
>
> 2. **å®ç°åœ¨æºæ–‡ä»¶ä¸­**ï¼šå¦‚æœæˆå‘˜å‡½æ•°çš„å®ç°åœ¨æºæ–‡ä»¶ï¼ˆå¦‚ `.cpp` æ–‡ä»¶ï¼‰ä¸­ï¼Œåˆ™ä¼šå‡ºç°é“¾æ¥é—®é¢˜ã€‚è¿™æ˜¯å› ä¸ºæ¨¡æ¿çš„å®ä¾‹åŒ–å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼Œè€Œç¼–è¯‘å™¨å¤„ç†æºæ–‡ä»¶æ—¶å¹¶ä¸çŸ¥é“åº”è¯¥ä¸ºå“ªäº›å…·ä½“ç±»å‹å®ä¾‹åŒ–æ¨¡æ¿ã€‚
>
> ### ä¸ºä»€ä¹ˆéœ€è¦å¤´æ–‡ä»¶ä¸­çš„å®ç°ï¼Ÿ
>
> æ¨¡æ¿çš„å·¥ä½œåŸç†è¦æ±‚ç¼–è¯‘å™¨åœ¨å®é™…ç¼–è¯‘è¿‡ç¨‹ä¸­çŸ¥é“å…³äºæ¨¡æ¿çš„å®Œæ•´ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®ƒæ˜¯å¦‚ä½•è¢«å®ä¾‹åŒ–çš„ã€‚è¿™æ„å‘³ç€ï¼š
>
> - **ç¼–è¯‘æ—¶å®ä¾‹åŒ–**ï¼šæ¨¡æ¿çš„å®ä¾‹åŒ–å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ã€‚ç¼–è¯‘å™¨éœ€è¦åœ¨å¤„ç†æ¨¡æ¿å®ä¾‹åŒ–ä»£ç çš„æ—¶å€™ï¼Œå°±èƒ½å¤Ÿè®¿é—®åˆ°æ¨¡æ¿çš„å®Œæ•´å®šä¹‰ã€‚
>
> - **å¤´æ–‡ä»¶åŒ…å«**ï¼šå°†æ¨¡æ¿å®šä¹‰ï¼ˆåŒ…æ‹¬å…¶æˆå‘˜å‡½æ•°çš„å®ç°ï¼‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨éœ€è¦ä½¿ç”¨æ¨¡æ¿çš„åœ°æ–¹åŒ…å«è¿™ä¸ªå¤´æ–‡ä»¶ï¼Œå¯ä»¥ç¡®ä¿ç¼–è¯‘å™¨åœ¨å®ä¾‹åŒ–æ¨¡æ¿æ—¶æ‹¥æœ‰æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯ã€‚
>
> å¦‚æœæ¨¡æ¿æˆå‘˜å‡½æ•°çš„å®ç°æ”¾åœ¨æºæ–‡ä»¶ä¸­ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘å…¶ä»–åŒ…å«äº†è¯¥æ¨¡æ¿å¤´æ–‡ä»¶çš„æºæ–‡ä»¶æ—¶ï¼Œç¼–è¯‘å™¨æ— æ³•è®¿é—®åˆ°è¿™äº›å®ç°ï¼Œä»è€Œæ— æ³•å®Œæˆæ¨¡æ¿å®ä¾‹åŒ–ï¼Œå¯¼è‡´é“¾æ¥æ—¶æ‰¾ä¸åˆ°è¿™äº›å‡½æ•°çš„å®šä¹‰ã€‚
>
> ### ç»“è®º
>
> å› æ­¤ï¼Œåœ¨ä½¿ç”¨ç±»æ¨¡æ¿æ—¶ï¼Œæ¨èçš„åšæ³•æ˜¯å°†æ¨¡æ¿å®šä¹‰ï¼ˆåŒ…æ‹¬æˆå‘˜å‡½æ•°çš„å®ç°ï¼‰æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œæˆ–è€…ä½¿ç”¨å…¶ä»–æ–¹æ³•ï¼ˆå¦‚æ˜¾å¼æ¨¡æ¿å®ä¾‹åŒ–æˆ–åŒ…å«`.inl`æˆ–`.tpp`æ–‡ä»¶ï¼‰æ¥ç¡®ä¿æ¨¡æ¿å®ç°åœ¨å®ä¾‹åŒ–æ—¶å¯ç”¨ã€‚è¿™ç§åšæ³•é¿å…äº†é“¾æ¥æ—¶æ‰¾ä¸åˆ°æˆå‘˜å‡½æ•°å®ç°çš„é—®é¢˜ã€‚
>
> 
>
> 
>
> 
>
> 
>
> 
>
> C++ä¸­ç±»æ¨¡æ¿çš„æˆå‘˜å‡½æ•°å®ä¾‹åŒ–æ–¹å¼ä»¥åŠå…¶å¯¹åˆ†æ–‡ä»¶ç¼–å†™çš„å½±å“æ˜¯ä¸€ä¸ªé‡è¦çš„æ¦‚å¿µã€‚è¿™é‡Œè¯¦ç»†è§£é‡Šä¸€ä¸‹ï¼š
>
> ### ç±»æ¨¡æ¿æˆå‘˜å‡½æ•°çš„å®ä¾‹åŒ–
>
> 1. **å®ä¾‹åŒ–æ—¶æœº**ï¼šåœ¨æ™®é€šç±»ä¸­ï¼Œæˆå‘˜å‡½æ•°çš„ç¼–è¯‘å‘ç”Ÿåœ¨å®šä¹‰æ—¶ã€‚ä½†åœ¨æ¨¡æ¿ç±»ä¸­ï¼Œ**æˆå‘˜å‡½æ•°çš„å®ä¾‹åŒ–æ˜¯åœ¨å®ƒä»¬è¢«è°ƒç”¨æ—¶æ ¹æ®æ¨¡æ¿å‚æ•°çš„å…·ä½“ç±»å‹è¿›è¡Œçš„ã€‚**
>
> 2. **å»¶è¿Ÿå®ä¾‹åŒ–**ï¼šè¿™æ„å‘³ç€ï¼Œå¦‚æœæŸä¸ªæ¨¡æ¿ç±»çš„æˆå‘˜å‡½æ•°åœ¨ä»£ç ä¸­ä»æœªè¢«è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªå‡½æ•°å°±ä¸ä¼šè¢«å®ä¾‹åŒ–ã€‚
>
> 3. **æ¨¡æ¿å‚æ•°**ï¼šç±»æ¨¡æ¿çš„æ¯ä¸ªå®ä¾‹åŒ–å¯èƒ½éœ€è¦ä¸åŒçš„æˆå‘˜å‡½æ•°ä»£ç ï¼Œå› ä¸ºæ¨¡æ¿å‚æ•°å¯èƒ½å¯¼è‡´å‡½æ•°è¡Œä¸ºçš„å˜åŒ–ã€‚
>
> ### åˆ†æ–‡ä»¶ç¼–å†™é—®é¢˜
>
> åœ¨C++ä¸­ï¼Œé€šå¸¸æˆ‘ä»¬ä¼šå°†ç±»çš„å£°æ˜æ”¾åœ¨å¤´æ–‡ä»¶ï¼ˆ`.h`æˆ–`.hpp`ï¼‰ä¸­ï¼Œè€Œå°†å®šä¹‰ï¼ˆå®ç°ï¼‰æ”¾åœ¨æºæ–‡ä»¶ï¼ˆ`.cpp`ï¼‰ä¸­ã€‚ä½†æ˜¯ï¼Œå¯¹äºæ¨¡æ¿ç±»ï¼Œè¿™ç§åšæ³•å¯èƒ½ä¼šå¯¼è‡´é“¾æ¥é”™è¯¯ï¼š
>
> 1. **ç¼–è¯‘å™¨å¤„ç†**ï¼šå½“ç¼–è¯‘å™¨ç¼–è¯‘`.cpp`æ–‡ä»¶æ—¶ï¼Œå®ƒä¸çŸ¥é“æœªæ¥ä¼šç”¨å“ªäº›å…·ä½“ç±»å‹æ¥å®ä¾‹åŒ–æ¨¡æ¿ã€‚å› æ­¤ï¼Œå®ƒæ— æ³•ç”Ÿæˆæ¨¡æ¿æˆå‘˜å‡½æ•°çš„å®ä¾‹ã€‚
>
> 2. **é“¾æ¥æ—¶é”™è¯¯**ï¼šå½“ä»£ç å°è¯•ä½¿ç”¨æŸä¸ªæ¨¡æ¿å®ä¾‹æ—¶ï¼Œé“¾æ¥å™¨æ‰¾ä¸åˆ°å¯¹åº”çš„æˆå‘˜å‡½æ•°å®ç°ï¼Œå› ä¸ºå®ƒä»¬ä»æœªè¢«ç¼–è¯‘å™¨å®ä¾‹åŒ–ã€‚
>
> ### è§£å†³æ–¹æ¡ˆ
>
> ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š
>
> 1. **å¤´æ–‡ä»¶ä¸­åŒ…å«å®šä¹‰**ï¼šæœ€å¸¸è§çš„åšæ³•æ˜¯å°†æ¨¡æ¿ç±»çš„å®šä¹‰ç›´æ¥æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ã€‚è¿™ç¡®ä¿äº†åœ¨æ¨¡æ¿ç±»è¢«å®ä¾‹åŒ–æ—¶ï¼Œå…¶æˆå‘˜å‡½æ•°çš„å®šä¹‰æ˜¯å¯è§çš„ã€‚
>
> 2. **æ˜¾å¼å®ä¾‹åŒ–**ï¼šåœ¨`.cpp`æ–‡ä»¶ä¸­æ˜¾å¼å®ä¾‹åŒ–æ¨¡æ¿ç±»ã€‚è¿™å‘Šè¯‰ç¼–è¯‘å™¨ä¸ºç‰¹å®šçš„ç±»å‹ç”Ÿæˆæ‰€æœ‰æˆå‘˜å‡½æ•°çš„å®ä¾‹ã€‚
>
>    ```cpp
>    template class MyTemplate<int>; // ä¸º int ç±»å‹æ˜¾å¼å®ä¾‹åŒ–
>    ```
>
> 3. **åŒ…å«æ¨¡å¼**ï¼šå°†æ¨¡æ¿å®šä¹‰æ”¾åœ¨ä¸€ä¸ª`.inl`æˆ–`.tpp`æ–‡ä»¶ä¸­ï¼Œå¹¶åœ¨å¤´æ–‡ä»¶æœ«å°¾åŒ…å«å®ƒã€‚è¿™ç§æ–¹æ³•åŒæ—¶ä¿æŒäº†ä»£ç çš„ç»„ç»‡æ€§å’Œæ¨¡æ¿çš„å¯ç”¨æ€§ã€‚
>
>    ```cpp
>    // MyClass.h
>    #include "MyClass.tpp"
>    ```
>
> ### æ€»ç»“
>
> ç”±äºç±»æ¨¡æ¿æˆå‘˜å‡½æ•°çš„å®ä¾‹åŒ–æ˜¯åœ¨è°ƒç”¨æ—¶è¿›è¡Œçš„ï¼Œå› æ­¤å°†æ¨¡æ¿çš„å£°æ˜å’Œå®šä¹‰åˆ†å¼€æ”¾åœ¨ä¸åŒçš„æ–‡ä»¶ä¸­ä¼šå¯¼è‡´é“¾æ¥æ—¶é”™è¯¯ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæœ€ä½³åšæ³•æ˜¯åœ¨å¤´æ–‡ä»¶ä¸­æä¾›å®Œæ•´çš„æ¨¡æ¿å®šä¹‰ï¼Œæˆ–è€…ä½¿ç”¨æ˜¾å¼å®ä¾‹åŒ–æˆ–åŒ…å«æ¨¡å¼ç¡®ä¿åœ¨ä½¿ç”¨æ¨¡æ¿æ—¶èƒ½å¤Ÿæ‰¾åˆ°å…¶æˆå‘˜å‡½æ•°çš„å®šä¹‰ã€‚è¿™æ ·å¯ä»¥ä¿è¯æ¨¡æ¿ç±»çš„æ­£ç¡®ç¼–è¯‘å’Œé“¾æ¥ã€‚









#### 1.3.8 ç±»æ¨¡æ¿ä¸å‹å…ƒ



å­¦ä¹ ç›®æ ‡ï¼š

* æŒæ¡ç±»æ¨¡æ¿é…åˆå‹å…ƒå‡½æ•°çš„ç±»å†…å’Œç±»å¤–å®ç°



å…¨å±€å‡½æ•°ç±»å†…å®ç° -  **ç›´æ¥åœ¨ç±»å†…å£°æ˜å‹å…ƒå³å¯**

å…¨å±€å‡½æ•°ç±»å¤–å®ç° - éœ€è¦æå‰è®©ç¼–è¯‘å™¨çŸ¥é“å…¨å±€å‡½æ•°çš„å­˜åœ¨



**ç¤ºä¾‹ï¼š**

```C++
#include <string>

//2ã€å…¨å±€å‡½æ•°é…åˆå‹å…ƒ  ç±»å¤–å®ç° - å…ˆåšå‡½æ•°æ¨¡æ¿å£°æ˜ï¼Œä¸‹æ–¹åœ¨åšå‡½æ•°æ¨¡æ¿å®šä¹‰ï¼Œåœ¨åšå‹å…ƒ

//å¦‚æœå£°æ˜äº†å‡½æ•°æ¨¡æ¿ï¼Œå¯ä»¥å°†å®ç°å†™åˆ°åé¢ï¼Œå¦åˆ™éœ€è¦å°†å®ç°ä½“å†™åˆ°ç±»çš„å‰é¢è®©ç¼–è¯‘å™¨æå‰çœ‹åˆ°
//template<class T1, class T2> void printPerson2(Person<T1, T2> & p); 

template<class T1, class T2> class Person;
template<class T1, class T2>
void printPerson2(Person<T1, T2> & p)
{
	cout << "ç±»å¤–å®ç° ---- å§“åï¼š " << p.m_Name << " å¹´é¾„ï¼š" << p.m_Age << endl;
}

template<class T1, class T2>
class Person
{
	//1ã€å…¨å±€å‡½æ•°é…åˆå‹å…ƒ   ç±»å†…å®ç°
	friend void printPerson(Person<T1, T2> & p)
	{
		cout << "å§“åï¼š " << p.m_Name << " å¹´é¾„ï¼š" << p.m_Age << endl;
	}
  
	//2ã€å…¨å±€å‡½æ•°é…åˆå‹å…ƒ  ç±»å¤–å®ç°ï¼Œ è¦åŠ ç©ºæ¨¡æ¿å‚æ•°åˆ—è¡¨
	friend void printPerson2<>(Person<T1, T2> & p);

public:
	Person(T1 name, T2 age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}

private:
	T1 m_Name;
	T2 m_Age;

};


//1ã€å…¨å±€å‡½æ•°åœ¨ç±»å†…å®ç°
void test01()
{
	Person <string, int >p("Tom", 20);
	printPerson(p);
}

//2ã€å…¨å±€å‡½æ•°åœ¨ç±»å¤–å®ç°
void test02()
{
	Person <string, int >p("Jerry", 30);
	printPerson2(p);
}

int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š**å»ºè®®å…¨å±€å‡½æ•°åšç±»å†…å®ç°**ï¼Œç”¨æ³•ç®€å•ï¼Œè€Œä¸”ç¼–è¯‘å™¨å¯ä»¥ç›´æ¥è¯†åˆ«











#### â—ï¸1.3.9 ç±»æ¨¡æ¿æ¡ˆä¾‹

æ¡ˆä¾‹æè¿°:  å®ç°ä¸€ä¸ªé€šç”¨çš„æ•°ç»„ç±»ï¼Œè¦æ±‚å¦‚ä¸‹ï¼š



* å¯ä»¥å¯¹å†…ç½®æ•°æ®ç±»å‹ä»¥åŠè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ•°æ®è¿›è¡Œå­˜å‚¨
* å°†æ•°ç»„ä¸­çš„æ•°æ®å­˜å‚¨åˆ°**å †åŒº**
* æ„é€ å‡½æ•°ä¸­å¯ä»¥ä¼ å…¥æ•°ç»„çš„å®¹é‡
* æä¾›å¯¹åº”çš„æ‹·è´æ„é€ å‡½æ•°ä»¥åŠ **operator=** é˜²æ­¢**æµ…æ‹·è´**é—®é¢˜
* æä¾›**å°¾æ’æ³•å’Œå°¾åˆ æ³•**å¯¹æ•°ç»„ä¸­çš„æ•°æ®è¿›è¡Œå¢åŠ å’Œåˆ é™¤
* å¯ä»¥**é€šè¿‡ä¸‹æ ‡çš„æ–¹å¼**è®¿é—®æ•°ç»„ä¸­çš„å…ƒç´ 
* å¯ä»¥è·å–æ•°ç»„ä¸­å½“å‰å…ƒç´ ä¸ªæ•°å’Œæ•°ç»„çš„å®¹é‡





**ç¤ºä¾‹ï¼š**

myArray.hppä¸­ä»£ç 

```C++
#pragma once
#include <iostream>
using namespace std;

template<class T>
class MyArray
{
public:
    
	//æ„é€ å‡½æ•°
	MyArray(int capacity)
	{
		this->m_Capacity = capacity;
		this->m_Size = 0;
		this->pAddress = new T[this->m_Capacity];
	}

	//æ‹·è´æ„é€ 
	MyArray(const MyArray & arr)
	{
		this->m_Capacity = arr.m_Capacity;
		this->m_Size = arr.m_Size;
		this->pAddress = new T[this->m_Capacity];
    // å°†arrä¸­çš„æ•°æ®å…¨éƒ¨æ‹·è´è¿‡æ¥ 
		for (int i = 0; i < this->m_Size; i++)
		{
			//å¦‚æœTä¸ºå¯¹è±¡ï¼Œè€Œä¸”è¿˜åŒ…å«æŒ‡é’ˆï¼Œå¿…é¡»éœ€è¦é‡è½½ = æ“ä½œç¬¦ï¼Œå› ä¸ºè¿™ä¸ªç­‰å·ä¸æ˜¯ æ„é€  è€Œæ˜¯èµ‹å€¼ï¼Œ
			// æ™®é€šç±»å‹å¯ä»¥ç›´æ¥ = ä½†æ˜¯æŒ‡é’ˆç±»å‹éœ€è¦æ·±æ‹·è´
			this->pAddress[i] = arr.pAddress[i];
		}
	}

	//é‡è½½= æ“ä½œç¬¦  é˜²æ­¢æµ…æ‹·è´é—®é¢˜
	MyArray& operator=(const MyArray& myarray) {
    // åˆ¤æ–­åŸæ¥å †åŒºæ˜¯å¦æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰å…ˆé‡Šæ”¾
		if (this->pAddress != NULL) {
			delete[] this->pAddress;
			this->m_Capacity = 0;
			this->m_Size = 0;
		}
		// æ·±æ‹·è´
		this->m_Capacity = myarray.m_Capacity;
		this->m_Size = myarray.m_Size;
		this->pAddress = new T[this->m_Capacity];
    // æ•°æ®æ‹·è´è¿‡æ¥
		for (int i = 0; i < this->m_Size; i++) {
			this->pAddress[i] = myarray[i];
		}
		return *this;
	}

	//é‡è½½[] æ“ä½œç¬¦  arr[0]
	T& operator [](int index)
	{
		return this->pAddress[index]; //ä¸è€ƒè™‘è¶Šç•Œï¼Œç”¨æˆ·è‡ªå·±å»å¤„ç†
	}

	//å°¾æ’æ³•
	void Push_back(const T & val)
	{
		if (this->m_Capacity == this->m_Size)
		{
			return;
		}
		this->pAddress[this->m_Size] = val;
		this->m_Size++;
	}

	//å°¾åˆ æ³•
	void Pop_back()
	{
		if (this->m_Size == 0)
		{
			return;
		}
		this->m_Size--; //è®©ç”¨æˆ·è®¿é—®ä¸åˆ°æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé€»è¾‘åˆ é™¤
	}

	//è·å–æ•°ç»„å®¹é‡
	int getCapacity()
	{
		return this->m_Capacity;
	}

	//è·å–æ•°ç»„å¤§å°
	int	getSize()
	{
		return this->m_Size;
	}


	//ææ„   
	~MyArray()
	{
		if (this->pAddress != NULL)
		{
			delete[] this->pAddress;
			this->pAddress = NULL;
			this->m_Capacity = 0;
			this->m_Size = 0;
		}
	}

private:
	T * pAddress;  //æŒ‡å‘ä¸€ä¸ªå †ç©ºé—´ï¼Œè¿™ä¸ªç©ºé—´å­˜å‚¨çœŸæ­£çš„æ•°æ®
	int m_Capacity; //å®¹é‡
	int m_Size;   // å¤§å°
};
```



ç±»æ¨¡æ¿æ¡ˆä¾‹â€”æ•°ç»„ç±»å°è£….cppä¸­

```C++
#include "myArray.hpp"
#include <string>

void printIntArray(MyArray<int>& arr) {
	for (int i = 0; i < arr.getSize(); i++) {
		cout << arr[i] << " ";
	}
	cout << endl;
}

//æµ‹è¯•å†…ç½®æ•°æ®ç±»å‹
void test01()
{
	MyArray<int> array1(10);
	for (int i = 0; i < 10; i++)
	{
		array1.Push_back(i);
	}
	cout << "array1æ‰“å°è¾“å‡ºï¼š" << endl;
	printIntArray(array1);
	cout << "array1çš„å¤§å°ï¼š" << array1.getSize() << endl;
	cout << "array1çš„å®¹é‡ï¼š" << array1.getCapacity() << endl;

	cout << "--------------------------" << endl;

	MyArray<int> array2(array1);
	array2.Pop_back();
	cout << "array2æ‰“å°è¾“å‡ºï¼š" << endl;
	printIntArray(array2); 
	cout << "array2çš„å¤§å°ï¼š" << array2.getSize() << endl;
	cout << "array2çš„å®¹é‡ï¼š" << array2.getCapacity() << endl;
}



//æµ‹è¯•è‡ªå®šä¹‰æ•°æ®ç±»å‹
class Person {
public:
	Person() {} 
	Person(string name, int age) 
  {
		this->m_Name = name;
		this->m_Age = age;
	}
public:
	string m_Name;
	int m_Age;
};

void printPersonArray(MyArray<Person>& personArr)
{
	for (int i = 0; i < personArr.getSize(); i++) {
		cout << "å§“åï¼š" << personArr[i].m_Name << " å¹´é¾„ï¼š " << personArr[i].m_Age << endl;
	}

}

void test02()
{
	//åˆ›å»ºæ•°ç»„
	MyArray<Person> pArray(10);
	Person p1("å­™æ‚Ÿç©º", 30);
	Person p2("éŸ©ä¿¡", 20);
	Person p3("å¦²å·±", 18);
	Person p4("ç‹æ˜­å›", 15);
	Person p5("èµµäº‘", 24);

	//æ’å…¥æ•°æ®
	pArray.Push_back(p1);
	pArray.Push_back(p2);
	pArray.Push_back(p3);
	pArray.Push_back(p4);
	pArray.Push_back(p5);

	printPersonArray(pArray);

	cout << "pArrayçš„å¤§å°ï¼š" << pArray.getSize() << endl;
	cout << "pArrayçš„å®¹é‡ï¼š" << pArray.getCapacity() << endl;

}

int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

èƒ½å¤Ÿåˆ©ç”¨æ‰€å­¦çŸ¥è¯†ç‚¹å®ç°é€šç”¨çš„æ•°ç»„

































## â€¼ï¸2 STLåˆè¯†

### 2.1 STLçš„è¯ç”Ÿ

* é•¿ä¹…ä»¥æ¥ï¼Œ**è½¯ä»¶ç•Œä¸€ç›´å¸Œæœ›å»ºç«‹ä¸€ç§å¯é‡å¤åˆ©ç”¨çš„ä¸œè¥¿**

* C++çš„**é¢å‘å¯¹è±¡**å’Œ**æ³›å‹ç¼–ç¨‹**æ€æƒ³ï¼Œç›®çš„å°±æ˜¯**å¤ç”¨æ€§çš„æå‡**

* **å¤§å¤šæƒ…å†µä¸‹ï¼Œæ•°æ®ç»“æ„å’Œç®—æ³•éƒ½æœªèƒ½æœ‰ä¸€å¥—æ ‡å‡†,å¯¼è‡´è¢«è¿«ä»äº‹å¤§é‡é‡å¤å·¥ä½œ**

* **ä¸ºäº†å»ºç«‹==æ•°æ®ç»“æ„å’Œç®—æ³•çš„ä¸€å¥—æ ‡å‡†==**,è¯ç”Ÿäº†**STL**

  


### 2.2 STLåŸºæœ¬æ¦‚å¿µ

* STL(Standard Template Library,**æ ‡å‡†æ¨¡æ¿åº“**)

* STL ä»å¹¿ä¹‰ä¸Šåˆ†ä¸º: **å®¹å™¨(container) ç®—æ³•(algorithm) è¿­ä»£å™¨(iterator)**

* **å®¹å™¨**å’Œ**ç®—æ³•**ä¹‹é—´é€šè¿‡**è¿­ä»£å™¨**è¿›è¡Œæ— ç¼è¿æ¥ã€‚

* â—ï¸STL **å‡ ä¹æ‰€æœ‰çš„ä»£ç éƒ½é‡‡ç”¨äº†æ¨¡æ¿ç±»æˆ–è€…æ¨¡æ¿å‡½æ•°**

  

### 2.3 STLå…­å¤§ç»„ä»¶

STLå¤§ä½“åˆ†ä¸ºå…­å¤§ç»„ä»¶ï¼Œåˆ†åˆ«æ˜¯:**å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨ã€ä»¿å‡½æ•°ã€é€‚é…å™¨ï¼ˆé…æ¥å™¨ï¼‰ã€ç©ºé—´é…ç½®å™¨**



1. å®¹å™¨ï¼šå„ç§æ•°æ®ç»“æ„ï¼Œå¦‚vectorã€listã€dequeã€setã€mapç­‰,ç”¨æ¥å­˜æ”¾æ•°æ®ã€‚
2. ç®—æ³•ï¼šå„ç§å¸¸ç”¨çš„ç®—æ³•ï¼Œå¦‚sortã€findã€copyã€for_eachç­‰
3. è¿­ä»£å™¨ï¼šæ‰®æ¼”äº†å®¹å™¨ä¸ç®—æ³•ä¹‹é—´çš„èƒ¶åˆå‰‚ã€‚
4. ä»¿å‡½æ•°ï¼š**è¡Œä¸ºç±»ä¼¼å‡½æ•°ï¼Œå¯ä½œä¸ºç®—æ³•çš„æŸç§ç­–ç•¥ã€‚**
5. é€‚é…å™¨ï¼šä¸€ç§ç”¨æ¥**ä¿®é¥°**å®¹å™¨æˆ–è€…ä»¿å‡½æ•°æˆ–è¿­ä»£å™¨æ¥å£çš„ä¸œè¥¿ã€‚
6. åˆ†é…å™¨ï¼š**è´Ÿè´£ç©ºé—´çš„é…ç½®ä¸ç®¡ç†**ã€‚





### 2.4  STLä¸­å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨



â€¼ï¸**å®¹å™¨ï¼š**ç½®ç‰©ä¹‹æ‰€ä¹Ÿ

==STLå®¹å™¨å°±æ˜¯å°†è¿ç”¨**æœ€å¹¿æ³›çš„ä¸€äº›æ•°æ®ç»“æ„**å®ç°å‡ºæ¥==

å¸¸ç”¨çš„æ•°æ®ç»“æ„ï¼š**æ•°ç»„, é“¾è¡¨,æ ‘, æ ˆ, é˜Ÿåˆ—, é›†åˆ, æ˜ å°„è¡¨** ç­‰

è¿™äº›å®¹å™¨åˆ†ä¸º**åºåˆ—å¼å®¹å™¨**å’Œ**å…³è”å¼å®¹å™¨**ä¸¤ç§:

â€‹	

**åºåˆ—å¼å®¹å™¨**:å¼ºè°ƒå€¼çš„**æ’åº**ï¼Œåºåˆ—å¼å®¹å™¨ä¸­çš„æ¯ä¸ªå…ƒç´ å‡æœ‰å›ºå®šçš„ä½ç½®ã€‚
	**å…³è”å¼å®¹å™¨**:äºŒå‰æ ‘ç»“æ„ï¼Œå„å…ƒç´ ä¹‹é—´æ²¡æœ‰ä¸¥æ ¼çš„ç‰©ç†ä¸Šçš„é¡ºåºå…³ç³»



â€¼ï¸**ç®—æ³•ï¼š**é—®é¢˜ä¹‹è§£æ³•ä¹Ÿ

æœ‰é™çš„æ­¥éª¤ï¼Œè§£å†³é€»è¾‘æˆ–æ•°å­¦ä¸Šçš„é—®é¢˜ï¼Œè¿™ä¸€é—¨å­¦ç§‘æˆ‘ä»¬å«åš**ç®—æ³•(Algorithms)**

ç®—æ³•åˆ†ä¸º:**è´¨å˜ç®—æ³•**å’Œ**éè´¨å˜ç®—æ³•**ã€‚

è´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­ä¼š**æ›´æ”¹**åŒºé—´å†…çš„å…ƒç´ çš„å†…å®¹ã€‚ä¾‹å¦‚æ‹·è´ï¼Œæ›¿æ¢ï¼Œåˆ é™¤ç­‰ç­‰

éè´¨å˜ç®—æ³•ï¼šæ˜¯æŒ‡è¿ç®—è¿‡ç¨‹ä¸­**ä¸ä¼šæ›´æ”¹**åŒºé—´å†…çš„å…ƒç´ å†…å®¹ï¼Œä¾‹å¦‚æŸ¥æ‰¾ã€è®¡æ•°ã€éå†ã€å¯»æ‰¾æå€¼ç­‰ç­‰



**è¿­ä»£å™¨ï¼š**å®¹å™¨å’Œç®—æ³•ä¹‹é—´ç²˜åˆå‰‚

æä¾›ä¸€ç§æ–¹æ³•ï¼Œä½¿ä¹‹èƒ½å¤Ÿä¾åºå¯»è®¿æŸä¸ªå®¹å™¨æ‰€å«çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆæ— éœ€æš´éœ²è¯¥å®¹å™¨çš„å†…éƒ¨è¡¨ç¤ºæ–¹å¼ã€‚

ï¼ˆç®—æ³•é€šè¿‡è¿­ä»£å™¨æ‰èƒ½ è®¿é—®å®¹å™¨ä¸­çš„å…ƒç´ ï¼‰

**æ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±ä¸“å±çš„è¿­ä»£å™¨**

è¿­ä»£å™¨ä½¿ç”¨**éå¸¸ç±»ä¼¼äºæŒ‡é’ˆ**ï¼Œåˆå­¦é˜¶æ®µæˆ‘ä»¬å¯ä»¥å…ˆç†è§£è¿­ä»£å™¨ä¸ºæŒ‡é’ˆ



è¿­ä»£å™¨ç§ç±»ï¼š

| ç§ç±»               | åŠŸèƒ½                                                     | æ”¯æŒè¿ç®—                                |
| :----------------- | :------------------------------------------------------- | --------------------------------------- |
| è¾“å…¥è¿­ä»£å™¨         | å¯¹æ•°æ®çš„åªè¯»è®¿é—®                                         | åªè¯»ï¼Œæ”¯æŒ++ã€==ã€ï¼=                   |
| è¾“å‡ºè¿­ä»£å™¨         | å¯¹æ•°æ®çš„åªå†™è®¿é—®                                         | åªå†™ï¼Œæ”¯æŒ++                            |
| å‰å‘è¿­ä»£å™¨         | è¯»å†™æ“ä½œï¼Œå¹¶èƒ½å‘å‰æ¨è¿›è¿­ä»£å™¨                             | è¯»å†™ï¼Œæ”¯æŒ++ã€==ã€ï¼=                   |
| **åŒå‘è¿­ä»£å™¨**     | è¯»å†™æ“ä½œï¼Œå¹¶èƒ½å‘å‰å’Œå‘åæ“ä½œ                             | è¯»å†™ï¼Œæ”¯æŒ++ã€--ï¼Œ                      |
| **éšæœºè®¿é—®è¿­ä»£å™¨** | è¯»å†™æ“ä½œï¼Œå¯ä»¥ä»¥è·³è·ƒçš„æ–¹å¼è®¿é—®ä»»æ„æ•°æ®ï¼ŒåŠŸèƒ½æœ€å¼ºçš„è¿­ä»£å™¨ | è¯»å†™ï¼Œæ”¯æŒ++ã€--ã€[n]ã€-nã€<ã€<=ã€>ã€>= |

**å¸¸ç”¨çš„å®¹å™¨ä¸­è¿­ä»£å™¨ç§ç±»ä¸ºåŒå‘è¿­ä»£å™¨ï¼Œå’Œéšæœºè®¿é—®è¿­ä»£å™¨**





### 2.5 å®¹å™¨ç®—æ³•è¿­ä»£å™¨åˆè¯†



äº†è§£STLä¸­å®¹å™¨ã€ç®—æ³•ã€è¿­ä»£å™¨æ¦‚å¿µä¹‹åï¼Œæˆ‘ä»¬åˆ©ç”¨ä»£ç æ„Ÿå—STLçš„é­…åŠ›

â—ï¸STLä¸­æœ€å¸¸ç”¨çš„å®¹å™¨ä¸ºVectorï¼Œå¯ä»¥ç†è§£ä¸º**æ•°ç»„**ï¼Œä¸‹é¢æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•å‘è¿™ä¸ªå®¹å™¨ä¸­æ’å…¥æ•°æ®ã€å¹¶éå†è¿™ä¸ªå®¹å™¨



#### 2.5.1 vectorå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹



å®¹å™¨ï¼š     `vector`

ç®—æ³•ï¼š     `for_each`

è¿­ä»£å™¨ï¼š `vector<int>::iterator`



**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>

void MyPrint(int val)
{
	cout << val << endl;
}

void test01() {

	//åˆ›å»ºvectorå®¹å™¨å¯¹è±¡ï¼Œå¹¶ä¸”é€šè¿‡ æ¨¡æ¿å‚æ•° æŒ‡å®šå®¹å™¨ä¸­å­˜æ”¾çš„æ•°æ®çš„ç±»å‹
	vector<int> v;
	//å‘å®¹å™¨ä¸­æ”¾æ•°æ®
	v.push_back(10);
	v.push_back(20);
	v.push_back(30);
	v.push_back(40);

	//æ¯ä¸€ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±çš„è¿­ä»£å™¨ï¼Œè¿­ä»£å™¨æ˜¯ç”¨æ¥éå†å®¹å™¨ä¸­çš„å…ƒç´ 
	//v.begin()è¿”å›è¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®
	//v.end()è¿”å›è¿­ä»£å™¨ï¼Œè¿™ä¸ªè¿­ä»£å™¨æŒ‡å‘å®¹å™¨å…ƒç´ çš„æœ€åä¸€ä¸ªå…ƒç´ çš„ ä¸‹ä¸€ä¸ªä½ç½®
	//vector<int>::iterator æ‹¿åˆ°vector<int>è¿™ç§å®¹å™¨çš„è¿­ä»£å™¨ç±»å‹

	vector<int>::iterator pBegin = v.begin();
	vector<int>::iterator pEnd = v.end();

	//ç¬¬ä¸€ç§éå†æ–¹å¼ï¼š
	while (pBegin != pEnd) {
		cout << *pBegin << endl; // *pBegin æ˜¯int ç±»å‹
		pBegin++;
	}

	
	//ç¬¬äºŒç§éå†æ–¹å¼ï¼š
	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << endl;
	}
	cout << endl;

	//ç¬¬ä¸‰ç§éå†æ–¹å¼ï¼š
	//ä½¿ç”¨STLæä¾›æ ‡å‡†éå†ç®—æ³•  å¤´æ–‡ä»¶ algorithm
	for_each(v.begin(), v.end(), MyPrint); //æ­¤æ—¶çš„ä»¿å‡½æ•°æ˜¯  MyPrint
}

int main() {

	test01();

	system("pause");

	return 0;
}
```



#### 2.5.2 Vectorå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹



å­¦ä¹ ç›®æ ‡ï¼švectorä¸­å­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¹¶æ‰“å°è¾“å‡º



**ç¤ºä¾‹ï¼š**

```c++
#include <vector>
#include <string>

//è‡ªå®šä¹‰æ•°æ®ç±»å‹
class Person {
public:
	Person(string name, int age) {
		mName = name;
		mAge = age;
	}
public:
	string mName;
	int mAge;
};
//å­˜æ”¾å¯¹è±¡
void test01() {

	vector<Person> v;

	//åˆ›å»ºæ•°æ®
	Person p1("aaa", 10);
	Person p2("bbb", 20);
	Person p3("ccc", 30);
	Person p4("ddd", 40);
	Person p5("eee", 50);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);
	v.push_back(p5);

  
  //  *it çš„æ•°æ®ç±»å‹æ˜¯ <> é‡Œé¢çš„æ•°æ®ç±»å‹ 
  //  it æ˜¯ä¸ªæŒ‡é’ˆ
 	for (vector<Person>::iterator it = v.begin(); it != v.end(); it++) {
		cout << "Name:" << (*it).mName << " Age:" << (*it).mAge << endl;
		cout << "Name:" << it->mName << " Age:" <<  it->mAge << endl;
	}
}


//æ”¾å¯¹è±¡æŒ‡é’ˆ
void test02() {

	vector<Person*> v;

	//åˆ›å»ºæ•°æ®
	Person p1("aaa", 10);
	Person p2("bbb", 20);
	Person p3("ccc", 30);
	Person p4("ddd", 40);
	Person p5("eee", 50);

	v.push_back(&p1);
	v.push_back(&p2);
	v.push_back(&p3);
	v.push_back(&p4);
	v.push_back(&p5);

	for (vector<Person*>::iterator it = v.begin(); it != v.end(); it++) {
		Person * p = (*it);
		cout << "Name:" << p->mName << " Age:" << (*it)->mAge << endl;
	}
}


int main() {

	test01();
    
	test02();

	system("pause");

	return 0;
}
```



#### 2.5.3 Vectorå®¹å™¨åµŒå¥—å®¹å™¨



å­¦ä¹ ç›®æ ‡ï¼šå®¹å™¨ä¸­åµŒå¥—å®¹å™¨ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰æ•°æ®è¿›è¡Œéå†è¾“å‡º



**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

//å®¹å™¨åµŒå¥—å®¹å™¨
void test01() {

	vector< vector<int> >  v;

	vector<int> v1;
	vector<int> v2;
	vector<int> v3;
	vector<int> v4;

	for (int i = 0; i < 4; i++) {
		v1.push_back(i + 1);
		v2.push_back(i + 2);
		v3.push_back(i + 3);
		v4.push_back(i + 4);
	}

	//å°†å®¹å™¨å…ƒç´ æ’å…¥åˆ°vector vä¸­
	v.push_back(v1);
	v.push_back(v2);
	v.push_back(v3);
	v.push_back(v4);

ğŸŸ¥//ä¸¤å±‚å¾ªç¯ 
  
	for (vector<vector<int>>::iterator it = v.begin(); it != v.end(); it++) {

    	//   *it çš„æ•°æ®ç±»å‹ä¸º   vector<int>
		for (vector<int>::iterator vit = (*it).begin(); vit != (*it).end(); vit++) {
			cout << *vit << " ";// *vit	ä¸º  int
		}
		cout << endl;
	}

}

int main() {

	test01();

	system("pause");

	return 0;
}
```





## 3 STL- å¸¸ç”¨å®¹å™¨

### 3.1 stringå®¹å™¨



#### 3.1.1 stringåŸºæœ¬æ¦‚å¿µ

**æœ¬è´¨ï¼š**

* stringæ˜¯C++é£æ ¼çš„å­—ç¬¦ä¸²ï¼Œè€Œstringæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç±»

**stringå’Œchar * åŒºåˆ«ï¼š**

* char * æ˜¯ä¸€ä¸ªæŒ‡é’ˆ
* stringæ˜¯ä¸€ä¸ªç±»ï¼Œç±»å†…éƒ¨å°è£…äº†char\*ï¼Œç®¡ç†è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œæ˜¯ä¸€ä¸ªchar*å‹çš„å®¹å™¨ã€‚

â—ï¸**ç‰¹ç‚¹ï¼š**

**string ç±»å†…éƒ¨å°è£…äº†å¾ˆå¤šæˆå‘˜æ–¹æ³•**

ä¾‹å¦‚ï¼šæŸ¥æ‰¾findï¼Œæ‹·è´copyï¼Œåˆ é™¤delete æ›¿æ¢replaceï¼Œæ’å…¥insert

**stringç®¡ç†char*æ‰€åˆ†é…çš„å†…å­˜ï¼Œä¸ç”¨æ‹…å¿ƒå¤åˆ¶è¶Šç•Œå’Œå–å€¼è¶Šç•Œç­‰ï¼Œç”±ç±»å†…éƒ¨è¿›è¡Œè´Ÿè´£**



#### 3.1.2 stringæ„é€ å‡½æ•°

æ„é€ å‡½æ•°åŸå‹ï¼š

* `string();`          			 //åˆ›å»ºä¸€ä¸ªç©ºçš„å­—ç¬¦ä¸² ä¾‹å¦‚: string str;
* `string(const char* s);`	        //ä½¿ç”¨å­—ç¬¦ä¸²såˆå§‹åŒ–
* `string(const string& str);`    //ä½¿ç”¨ä¸€ä¸ªstringå¯¹è±¡åˆå§‹åŒ–å¦ä¸€ä¸ªstringå¯¹è±¡
* `string(int n, char c);`           //ä½¿ç”¨nä¸ªå­—ç¬¦cåˆå§‹åŒ– 



**ç¤ºä¾‹ï¼š**

```C++
#include <string>
//stringæ„é€ 


void test01()
{
	string s1; //åˆ›å»ºç©ºå­—ç¬¦ä¸²ï¼Œè°ƒç”¨æ— å‚æ„é€ å‡½æ•°
	cout << "str1 = " << s1 << endl;

	const char* str = "hello world";
	string s2(str); //æŠŠc_stringè½¬æ¢æˆäº†string

	cout << "str2 = " << s2 << endl;

	string s3(s2); //è°ƒç”¨æ‹·è´æ„é€ å‡½æ•°
	cout << "str3 = " << s3 << endl;

	string s4(10, 'a');
	cout << "str3 = " << s3 << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šstringçš„å¤šç§æ„é€ æ–¹å¼æ²¡æœ‰å¯æ¯”æ€§ï¼Œçµæ´»ä½¿ç”¨å³å¯









#### 3.1.3 stringèµ‹å€¼æ“ä½œ

åŠŸèƒ½æè¿°ï¼š

* ç»™stringå­—ç¬¦ä¸²è¿›è¡Œèµ‹å€¼ï¼Œassign

èµ‹å€¼çš„å‡½æ•°åŸå‹ï¼š

* `string& operator=(const char* s);`             //char*ç±»å‹å­—ç¬¦ä¸² èµ‹å€¼ç»™å½“å‰çš„å­—ç¬¦ä¸²

* `string& operator=(const string &s);`         //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²

* `string& operator=(char c);`                          //**å­—ç¬¦èµ‹å€¼**ç»™å½“å‰çš„å­—ç¬¦ä¸²

  

* `string& assign(const char *s);`                  //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²

* `string& assign(const char *s, int n);`     //æŠŠå­—ç¬¦ä¸²sçš„**å‰nä¸ªå­—ç¬¦**èµ‹ç»™å½“å‰çš„å­—ç¬¦ä¸²

* `string& assign(const string &s);`              //æŠŠå­—ç¬¦ä¸²sèµ‹ç»™å½“å‰å­—ç¬¦ä¸²

* `string& assign(int n, char c);`                  //ç”¨nä¸ªå­—ç¬¦cèµ‹ç»™å½“å‰å­—ç¬¦ä¸²




**ç¤ºä¾‹ï¼š**

```C++
//èµ‹å€¼
void test01()
{
	string str1;
	str1 = "hello world";
	cout << "str1 = " << str1 << endl;

	string str2;
	str2 = str1;
	cout << "str2 = " << str2 << endl;

	string str3;
	str3 = 'a';
	cout << "str3 = " << str3 << endl;

	string str4;
	str4.assign("hello c++");
	cout << "str4 = " << str4 << endl;

	string str5;
	str5.assign("hello c++",5);
	cout << "str5 = " << str5 << endl;


	string str6;
	str6.assign(str5);
	cout << "str6 = " << str6 << endl;

	string str7;
	str7.assign(5, 'x');
	cout << "str7 = " << str7 << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

â€‹	stringçš„èµ‹å€¼æ–¹å¼å¾ˆå¤šï¼Œ`operator=`  è¿™ç§æ–¹å¼æ˜¯æ¯”è¾ƒå®ç”¨çš„









#### 3.1.4 stringå­—ç¬¦ä¸²æ‹¼æ¥

**åŠŸèƒ½æè¿°ï¼š**

* å®ç°åœ¨å­—ç¬¦ä¸²æœ«å°¾æ‹¼æ¥å­—ç¬¦ä¸², append



**å‡½æ•°åŸå‹ï¼š**

* `string& operator+=(const char* str);`                   //é‡è½½+=æ“ä½œç¬¦

* `string& operator+=(const char c);`                         //é‡è½½+=æ“ä½œç¬¦

* `string& operator+=(const string& str);`                //é‡è½½+=æ“ä½œç¬¦

  

* `string& append(const char *s); `                               //æŠŠå­—ç¬¦ä¸²sè¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾

* `string& append(const char *s, int n);`                 //æŠŠå­—ç¬¦ä¸²sçš„å‰nä¸ªå­—ç¬¦è¿æ¥åˆ°å½“å‰å­—ç¬¦ä¸²ç»“å°¾

* `string& append(const string &s);`                           //åŒoperator+=(const string& str)

* `string& append(const string &s, int pos, int n);`//å­—ç¬¦ä¸²**sä¸­ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦è¿æ¥åˆ°å­—ç¬¦ä¸²ç»“å°¾**



**ç¤ºä¾‹ï¼š**


```C++
//å­—ç¬¦ä¸²æ‹¼æ¥
void test01()
{
	string str1 = "æˆ‘";

	str1 += "çˆ±ç©æ¸¸æˆ";

	cout << "str1 = " << str1 << endl;
	
	str1 += ':';

	cout << "str1 = " << str1 << endl;

	string str2 = "LOL DNF";

	str1 += str2;

	cout << "str1 = " << str1 << endl;

	string str3 = "I";
	str3.append(" love ");
	str3.append("game abcde", 4);
	//str3.append(str2);
	str3.append(str2, 4, 3); // ä»ä¸‹æ ‡4ä½ç½®å¼€å§‹ ï¼Œæˆªå–3ä¸ªå­—ç¬¦ï¼Œæ‹¼æ¥åˆ°å­—ç¬¦ä¸²æœ«å°¾
	cout << "str3 = " << str3 << endl;
}
int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå­—ç¬¦ä¸²æ‹¼æ¥çš„é‡è½½ç‰ˆæœ¬å¾ˆå¤šï¼Œåˆå­¦é˜¶æ®µè®°ä½å‡ ç§å³å¯







#### 3.1.5 stringæŸ¥æ‰¾å’Œæ›¿æ¢

**åŠŸèƒ½æè¿°ï¼š**

* æŸ¥æ‰¾ï¼šæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²æ˜¯å¦å­˜åœ¨ find, rfind
* æ›¿æ¢ï¼šåœ¨æŒ‡å®šçš„ä½ç½®æ›¿æ¢å­—ç¬¦ä¸² replace



**å‡½æ•°åŸå‹ï¼š**

* `int find(const string& str, int pos = 0) const;`              //æŸ¥æ‰¾**strç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®**,**ä»poså¼€å§‹æŸ¥æ‰¾**

* `int find(const char* s, int pos = 0) const; `                     //æŸ¥æ‰¾sç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾

* `int find(const char* s, int pos, int n) const; `               //**ä»posä½ç½®æŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦**ç¬¬ä¸€æ¬¡ä½ç½®

* `int find(const char c, int pos = 0) const; `                       //æŸ¥æ‰¾å­—ç¬¦cç¬¬ä¸€æ¬¡å‡ºç°ä½ç½®

  

* `int rfind(const string& str, int pos = npos) const;`      //æŸ¥æ‰¾**stræœ€åä¸€æ¬¡ä½ç½®**,**ä»poså¼€å§‹æŸ¥æ‰¾**
* `int rfind(const char* s, int pos = npos) const;`              //æŸ¥æ‰¾sæœ€åä¸€æ¬¡å‡ºç°ä½ç½®,ä»poså¼€å§‹æŸ¥æ‰¾
* `int rfind(const char* s, int pos, int n) const;`              //ä»posæŸ¥æ‰¾sçš„å‰nä¸ªå­—ç¬¦æœ€åä¸€æ¬¡ä½ç½®
* `int rfind(const char c, int pos = 0) const;  `                      //æŸ¥æ‰¾å­—ç¬¦cæœ€åä¸€æ¬¡å‡ºç°ä½ç½®



* `string& replace(int pos, int n, const string& str); `       //**æ›¿æ¢ä»poså¼€å§‹nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²str**
* `string& replace(int pos, int n,const char* s); `                 //æ›¿æ¢ä»poså¼€å§‹çš„nä¸ªå­—ç¬¦ä¸ºå­—ç¬¦ä¸²s




**ç¤ºä¾‹ï¼š**

```C++
//æŸ¥æ‰¾å’Œæ›¿æ¢
void test01()
{
	//æŸ¥æ‰¾
	string str1 = "abcdefgde";

	int pos = str1.find("de");

	if (pos == -1)
	{
		cout << "æœªæ‰¾åˆ°" << endl;
	}
	else
	{
		cout << "pos = " << pos << endl;
	}
	

	pos = str1.rfind("de");

	cout << "pos = " << pos << endl;

}

void test02()
{
	//æ›¿æ¢
  
	string str1 = "abcdefgde";
  // a1111efgde ä»1å·ä½ç½®èµ·ï¼Œ3ä¸ªå­—ç¬¦æ›¿æ¢ä¸º 1111
	str1.replace(1, 3, "1111");

	cout << "str1 = " << str1 << endl;
}

int main() {

	//test01();
	//test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* **findæŸ¥æ‰¾æ˜¯ä»å·¦å¾€åï¼Œrfindä»å³å¾€å·¦**
* **findæ‰¾åˆ°å­—ç¬¦ä¸²åè¿”å›æŸ¥æ‰¾çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½ç½®ï¼Œæ‰¾ä¸åˆ°è¿”å›-1**
* replaceåœ¨æ›¿æ¢æ—¶ï¼Œ**è¦æŒ‡å®šä»å“ªä¸ªä½ç½®èµ·ï¼Œå¤šå°‘ä¸ªå­—ç¬¦**ï¼Œæ›¿æ¢æˆ**ä»€ä¹ˆæ ·çš„å­—ç¬¦ä¸²**






####    3.1.6 stringå­—ç¬¦ä¸²æ¯”è¾ƒ

**åŠŸèƒ½æè¿°ï¼š**

* å­—ç¬¦ä¸²ä¹‹é—´çš„æ¯”è¾ƒ compare

**æ¯”è¾ƒæ–¹å¼ï¼š**

* å­—ç¬¦ä¸²æ¯”è¾ƒæ˜¯æŒ‰å­—ç¬¦çš„ASCIIç è¿›è¡Œå¯¹æ¯”

= è¿”å›   0

\> è¿”å›   1 

< è¿”å›  -1



**å‡½æ•°åŸå‹ï¼š**

* `int compare(const string &s) const; `  //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ
* `int compare(const char *s) const;`      //ä¸å­—ç¬¦ä¸²sæ¯”è¾ƒ





**ç¤ºä¾‹ï¼š**

```C++
//å­—ç¬¦ä¸²æ¯”è¾ƒ
void test01()
{

	string s1 = "hello";
	string s2 = "aello";

	int ret = s1.compare(s2);

	if (ret == 0) {
		cout << "s1 ç­‰äº s2" << endl;
	}
	else if (ret > 0)
	{
		cout << "s1 å¤§äº s2" << endl;
	}
	else
	{
		cout << "s1 å°äº s2" << endl;
	}

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå­—ç¬¦ä¸²å¯¹æ¯”ä¸»è¦æ˜¯ç”¨äºæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œåˆ¤æ–­è°å¤§è°å°çš„æ„ä¹‰å¹¶ä¸æ˜¯å¾ˆå¤§





#### â•3.1.7 stringå­—ç¬¦å­˜å–



stringä¸­å•ä¸ªå­—ç¬¦**å­˜å–æ–¹å¼**æœ‰ä¸¤ç§ 



* `char& operator[](int n); `     //é€šè¿‡[]æ–¹å¼å–å­—ç¬¦
* `char& at(int n);   `                    //é€šè¿‡atæ–¹æ³•è·å–å­—ç¬¦





**ç¤ºä¾‹ï¼š**

```C++
void test01()
{
	string str = "hello world";

	for (int i = 0; i < str.size(); i++)    ////str.size()
	{
		cout << str[i] << " ";
	}
	cout << endl;

	for (int i = 0; i < str.size(); i++)
	{
		cout << str.at(i) << " ";
	}
	cout << endl;


	//å­—ç¬¦ä¿®æ”¹
	str[0] = 'x';
	str.at(1) = 'x';
	cout << str << endl;
	
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šstringå­—ç¬¦ä¸²ä¸­å•ä¸ªå­—ç¬¦å­˜å–æœ‰ä¸¤ç§æ–¹å¼ï¼Œ**åˆ©ç”¨ [ ] æˆ– at**









#### 3.1.8 stringæ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹stringå­—ç¬¦ä¸²è¿›è¡Œæ’å…¥å’Œåˆ é™¤å­—ç¬¦æ“ä½œ insert erase

**å‡½æ•°åŸå‹ï¼š**

* `string& insert(int pos, const char* s);  `                //æ’å…¥å­—ç¬¦ä¸²
* `string& insert(int pos, const string& str); `        //æ’å…¥å­—ç¬¦ä¸²
* `string& insert(int pos, int n, char c);`                //åœ¨æŒ‡å®šä½ç½®**æ’å…¥nä¸ªå­—ç¬¦c**



* `string& erase(int pos, int n = npos);`                    //åˆ é™¤ä»Poså¼€å§‹çš„nä¸ªå­—ç¬¦ 





**ç¤ºä¾‹ï¼š**

```C++
//å­—ç¬¦ä¸²æ’å…¥å’Œåˆ é™¤
void test01()
{
	string str = "hello";
	str.insert(1, "111");
	cout << str << endl;

	str.erase(1, 3);  //ä»1å·ä½ç½®å¼€å§‹3ä¸ªå­—ç¬¦
	cout << str << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**æ’å…¥å’Œåˆ é™¤çš„èµ·å§‹ä¸‹æ ‡éƒ½æ˜¯ä»0å¼€å§‹





#### â—ï¸3.1.9 stringå­ä¸²

**åŠŸèƒ½æè¿°ï¼š**

* ä»å­—ç¬¦ä¸²ä¸­è·å–æƒ³è¦çš„å­ä¸² substr



**å‡½æ•°åŸå‹ï¼š**

* `string substr(int pos = 0, int n = npos) const;`   //è¿”å›**ç”±poså¼€å§‹çš„nä¸ªå­—ç¬¦**ç»„æˆçš„å­—ç¬¦ä¸²

â€¼ï¸**C++ æ ¸å¿ƒç¼–ç¨‹4.3.4 å¸¸å‡½æ•°**

const` åœ¨å‡½æ•°å£°æ˜çš„æœ«å°¾è¡¨ç¤ºè¯¥æˆå‘˜å‡½æ•°æ˜¯ä¸€ä¸ªå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œæˆå‘˜å˜é‡çš„å€¼æ˜¯ä¸å…è®¸è¢«ä¿®æ”¹çš„ã€‚

å¸¸é‡æˆå‘˜å‡½æ•°å¯ä»¥åœ¨ä¸€ä¸ª**å¸¸é‡å¯¹è±¡**ä¸Šè¢«è°ƒç”¨ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†ç¡®ä¿è¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚åœ¨è¿™ä¸ªç‰¹å®šçš„å‡½æ•°ä¸­ï¼Œå®ƒè¡¨æ˜è¯¥å‡½æ•°ä¸ä¼šä¿®æ”¹è°ƒç”¨å¯¹è±¡çš„çŠ¶æ€ã€‚



#### å¸¸é‡å¯¹è±¡

å¸¸é‡å¯¹è±¡æ˜¯æŒ‡åœ¨ç¨‹åºè¿è¡ŒæœŸé—´å…¶æˆå‘˜å˜é‡çš„å€¼ä¸èƒ½è¢«ä¿®æ”¹çš„å¯¹è±¡ã€‚åœ¨C++ä¸­ï¼Œå¯ä»¥é€šè¿‡åœ¨å¯¹è±¡çš„å£°æ˜å‰åŠ ä¸Š`const`å…³é”®å­—æ¥åˆ›å»ºå¸¸é‡å¯¹è±¡ã€‚å¸¸é‡å¯¹è±¡çš„æˆå‘˜å˜é‡åœ¨å¯¹è±¡åˆ›å»ºåå°±ä¸èƒ½å†è¢«ä¿®æ”¹ï¼Œä»»ä½•è¯•å›¾ä¿®æ”¹æˆå‘˜å˜é‡çš„æ“ä½œéƒ½ä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯ã€‚

å¸¸é‡å¯¹è±¡çš„ä¸»è¦ç‰¹ç‚¹å¦‚ä¸‹ï¼š

1. å¯¹è±¡åˆ›å»ºåæˆå‘˜å˜é‡ä¸å¯ä¿®æ”¹ï¼šå¸¸é‡å¯¹è±¡åœ¨åˆ›å»ºåï¼Œå…¶æˆå‘˜å˜é‡çš„å€¼è¢«å›ºå®šï¼Œä¸èƒ½å†è¢«ä¿®æ”¹ã€‚

2. åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ï¼šç”±äºæˆå‘˜å˜é‡æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œå¸¸é‡å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°ã€‚å¸¸é‡æˆå‘˜å‡½æ•°æ˜¯æŒ‡åœ¨å‡½æ•°å£°æ˜ååŠ ä¸Š`const`å…³é”®å­—çš„æˆå‘˜å‡½æ•°ï¼Œå®ƒä»¬æ‰¿è¯ºä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚

3. åˆå§‹åŒ–æ—¶å¿…é¡»èµ‹å€¼ï¼šå¸¸é‡å¯¹è±¡åœ¨åˆ›å»ºæ—¶å¿…é¡»è¢«åˆå§‹åŒ–ï¼Œå¹¶ä¸”ä¸€æ—¦åˆå§‹åŒ–åï¼Œå…¶æˆå‘˜å˜é‡å°†ä¿æŒä¸å˜ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œå±•ç¤ºäº†å¸¸é‡å¯¹è±¡çš„ä½¿ç”¨ï¼š

```cpp
#include <iostream>

class MyClass {
public:
    int x;

    MyClass(int value) : x(value) {}

    // å¸¸é‡æˆå‘˜å‡½æ•°
    void printX() const {
        std::cout << "x = " << x << std::endl;
    }
};

int main() {
    const MyClass obj1(10); // åˆ›å»ºå¸¸é‡å¯¹è±¡
    obj1.printX(); // å¯ä»¥è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°
    // obj1.x = 20; // é”™è¯¯ï¼å¸¸é‡å¯¹è±¡çš„æˆå‘˜å˜é‡ä¸å¯ä¿®æ”¹

    MyClass obj2(5); // åˆ›å»ºéå¸¸é‡å¯¹è±¡
    obj2.printX();
    obj2.x = 15; // å¯ä»¥ä¿®æ”¹éå¸¸é‡å¯¹è±¡çš„æˆå‘˜å˜é‡

    return 0;
}
```

åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ`obj1`æ˜¯ä¸€ä¸ªå¸¸é‡å¯¹è±¡ï¼Œ`obj2`æ˜¯ä¸€ä¸ªéå¸¸é‡å¯¹è±¡ã€‚å¸¸é‡å¯¹è±¡`obj1`çš„æˆå‘˜å˜é‡`x`åœ¨åˆ›å»ºåå°±ä¸èƒ½å†è¢«ä¿®æ”¹ï¼Œè€Œéå¸¸é‡å¯¹è±¡`obj2`çš„æˆå‘˜å˜é‡`x`å¯ä»¥è¢«ä¿®æ”¹ã€‚åŒæ—¶ï¼Œ`obj1`åªèƒ½è°ƒç”¨å¸¸é‡æˆå‘˜å‡½æ•°`printX()`ï¼Œè€Œ`obj2`å¯ä»¥è°ƒç”¨ä»»æ„æˆå‘˜å‡½æ•°ã€‚





**ç¤ºä¾‹ï¼š**

```C++
//å­ä¸²
void test01()
{

	string str = "abcdefg";
	string subStr = str.substr(1, 3);
	cout << "subStr = " << subStr << endl;

	string email = "hello@sina.com";
	int pos = email.find("@");
	string username = email.substr(0, pos);
	cout << "username: " << username << endl;

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**çµæ´»çš„è¿ç”¨æ±‚å­ä¸²åŠŸèƒ½ï¼Œå¯ä»¥åœ¨å®é™…å¼€å‘ä¸­è·å–æœ‰æ•ˆçš„ä¿¡æ¯







### ==3.2 vectorå®¹å™¨==



#### 3.2.1 vectoråŸºæœ¬æ¦‚å¿µ

**åŠŸèƒ½ï¼š**

* vectoræ•°æ®ç»“æ„å’Œ**æ•°ç»„éå¸¸ç›¸ä¼¼**ï¼Œä¹Ÿç§°ä¸º**å•ç«¯æ•°ç»„**



**vectorä¸æ™®é€šæ•°ç»„åŒºåˆ«ï¼š**

* ä¸åŒä¹‹å¤„åœ¨äºæ•°ç»„æ˜¯é™æ€ç©ºé—´ï¼Œè€Œvectorå¯ä»¥**åŠ¨æ€æ‰©å±•**

![æˆªå±2023-06-15 22.54.57](C++æé«˜ç¼–ç¨‹.assets/æˆªå±2023-06-15 22.54.57.png)

**åŠ¨æ€æ‰©å±•ï¼š**

* å¹¶ä¸æ˜¯åœ¨åŸç©ºé—´ä¹‹åç»­æ¥æ–°ç©ºé—´ï¼Œ**è€Œæ˜¯æ‰¾æ›´å¤§çš„å†…å­˜ç©ºé—´ï¼Œç„¶åå°†åŸæ•°æ®æ‹·è´æ–°ç©ºé—´ï¼Œé‡Šæ”¾åŸç©ºé—´**

* vectorå®¹å™¨çš„è¿­ä»£å™¨æ˜¯**æ”¯æŒéšæœºè®¿é—®çš„è¿­ä»£å™¨**





> æ˜¯çš„ï¼ŒC++ä¸­çš„ `std::vector` åœ¨å®ç°æ—¶åº•å±‚ä½¿ç”¨çš„æ˜¯åŠ¨æ€æ•°ç»„ï¼ˆdynamic arrayï¼‰ä½œä¸ºå…¶æ•°æ®ç»“æ„ã€‚è¿™æ„å‘³ç€ `std::vector` é€šè¿‡åœ¨å †ä¸Šåˆ†é…ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨å…¶å…ƒç´ ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°è°ƒæ•´å…¶å¤§å°ã€‚
>
> ### åŠ¨æ€æ•°ç»„çš„ç‰¹ç‚¹
>
> 1. **è¿ç»­å†…å­˜**ï¼š`std::vector` åœ¨å†…å­˜ä¸­ä»¥è¿ç»­æ–¹å¼å­˜å‚¨å…¶å…ƒç´ ï¼Œå°±åƒä¸€ä¸ªæ™®é€šçš„æ•°ç»„ã€‚è¿™ä½¿å¾—å¯ä»¥é€šè¿‡ç´¢å¼•å¿«é€Ÿè®¿é—®å…ƒç´ ï¼Œå¹¶ä¸”å¯ä»¥æœ‰æ•ˆåœ°åˆ©ç”¨ç¼“å­˜ã€‚
>
> 2. **è‡ªåŠ¨æ‰©å®¹**ï¼šå½“ç°æœ‰çš„å®¹é‡ä¸è¶³ä»¥å­˜å‚¨æ›´å¤šå…ƒç´ æ—¶ï¼Œ`std::vector` ä¼šè‡ªåŠ¨é‡æ–°åˆ†é…ä¸€ä¸ªæ›´å¤§çš„å†…å­˜å—ï¼Œå¹¶å°†æ‰€æœ‰ç°æœ‰å…ƒç´ å¤åˆ¶ï¼ˆæˆ–ç§»åŠ¨ï¼‰åˆ°æ–°çš„å†…å­˜ä½ç½®ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºæ‰©å®¹ã€‚
>
> 3. **ç©ºé—´å¤æ‚åº¦**ï¼šä¸ºäº†å‡å°‘é¢‘ç¹æ‰©å®¹å¯¼è‡´çš„æ€§èƒ½é—®é¢˜ï¼Œ`std::vector` é€šå¸¸ä¼šé¢„åˆ†é…ä¸€äº›é¢å¤–ç©ºé—´ã€‚æ‰©å®¹æ“ä½œé€šå¸¸ä¼šå°†å®¹é‡å¢åŠ ä¸€å®šæ¯”ä¾‹ï¼ˆæ¯”å¦‚å¢åŠ åˆ°å½“å‰å¤§å°çš„1.5å€æˆ–2å€ï¼‰ï¼Œä»¥å‡å°‘å°†æ¥çš„æ‰©å®¹æ¬¡æ•°ã€‚
>
> ### `std::vector` çš„å®ç°ç»†èŠ‚
>
> - **åˆå§‹å®¹é‡**ï¼š`std::vector` çš„åˆå§‹å®¹é‡å¯èƒ½å› å®ç°è€Œå¼‚ã€‚æœ‰çš„å®ç°åœ¨åˆ›å»ºç©ºçš„ `vector` æ—¶ä¸åˆ†é…ä»»ä½•å†…å­˜ï¼Œè€Œæœ‰çš„å®ç°å¯èƒ½ä¼šåˆ†é…ä¸€ä¸ªå°çš„åˆå§‹å®¹é‡ã€‚
>
> - **æ‰©å®¹ç­–ç•¥**ï¼šä¸åŒçš„æ ‡å‡†åº“å®ç°å¯èƒ½æœ‰ä¸åŒçš„æ‰©å®¹ç­–ç•¥ã€‚æ‰©å®¹é€šå¸¸æ˜¯é€šè¿‡ç”³è¯·ä¸€ä¸ªæ›´å¤§çš„å†…å­˜å—å¹¶å¤åˆ¶ï¼ˆæˆ–ç§»åŠ¨ï¼‰ç°æœ‰å…ƒç´ å®Œæˆçš„ã€‚è¿™ä¸ªè¿‡ç¨‹æ¶‰åŠåŠ¨æ€å†…å­˜åˆ†é…å’Œå…ƒç´ çš„å¤åˆ¶ï¼ˆæˆ–ç§»åŠ¨ï¼‰æ“ä½œã€‚
>
> - **éšæœºè®¿é—®**ï¼šç”±äºåº•å±‚ä½¿ç”¨æ•°ç»„ï¼Œ`std::vector` æä¾›äº†å¿«é€Ÿçš„éšæœºè®¿é—®èƒ½åŠ›ã€‚
>
> ### æ€»ç»“
>
> å› æ­¤ï¼Œå¯ä»¥è¯´ `std::vector` åœ¨C++ä¸­æ˜¯åŸºäºåŠ¨æ€æ•°ç»„å®ç°çš„ï¼Œå…¶è®¾è®¡å…è®¸åŠ¨æ€è°ƒæ•´å¤§å°ï¼ŒåŒæ—¶æä¾›äº†ä¸æ™®é€šæ•°ç»„ç±»ä¼¼çš„é«˜æ•ˆè®¿é—®ç‰¹æ€§ã€‚å®ƒæ˜¯ä¸€ç§çµæ´»ä¸”å¼ºå¤§çš„å®¹å™¨ï¼Œå¹¿æ³›ç”¨äºéœ€è¦éšæœºè®¿é—®å…ƒç´ ä¸”å…ƒç´ æ•°é‡å¯èƒ½å˜åŒ–çš„åœºåˆã€‚



#### 3.2.2 vectoræ„é€ å‡½æ•°



**åŠŸèƒ½æè¿°ï¼š**

* åˆ›å»ºvectorå®¹å™¨



**å‡½æ•°åŸå‹ï¼š**

* `vector<T> v; `               		             //é‡‡ç”¨æ¨¡æ¿å®ç°ç±»å®ç°ï¼Œé»˜è®¤æ„é€ å‡½æ•°
* `vector(v.begin(), v.end());   `       //å°†v**[**begin(), end()**)**åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚ å‰é—­åå¼€
* `vector(n, elem);`                            //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚
* `vector(const vector &vec);`         //æ‹·è´æ„é€ å‡½æ•°ã€‚




**ç¤ºä¾‹ï¼š**


```C++
#include <vector>

void printVector(vector<int>& v) {

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

void test01()
{
	vector<int> v1; //æ— å‚æ„é€ 
	for (int i = 0; i < 10; i++)
	{
		v1.push_back(i);
	}
	printVector(v1);

	vector<int> v2(v1.begin(), v1.end());
	printVector(v2);

	vector<int> v3(10, 100);
	printVector(v3);
	
	vector<int> v4(v3);
	printVector(v4);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**vectorçš„å¤šç§æ„é€ æ–¹å¼æ²¡æœ‰å¯æ¯”æ€§ï¼Œçµæ´»ä½¿ç”¨å³å¯









#### 3.2.3 vectorèµ‹å€¼æ“ä½œ



**åŠŸèƒ½æè¿°ï¼š**

* ç»™vectorå®¹å™¨è¿›è¡Œèµ‹å€¼  =  assign 



**å‡½æ•°åŸå‹ï¼š**

* `vector& operator=(const vector &vec);`//é‡è½½ç­‰å·æ“ä½œç¬¦




* `assign(beg, end);`       //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚
* `assign(n, elem);`        //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

void printVector(vector<int>& v) {

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

//èµ‹å€¼æ“ä½œ
void test01()
{
	vector<int> v1; //æ— å‚æ„é€ 
	for (int i = 0; i < 10; i++)
	{
		v1.push_back(i);
	}
	printVector(v1);
 
	vector<int>v2;
	v2 = v1;
	printVector(v2);

	vector<int>v3;
	v3.assign(v1.begin(), v1.end());
	printVector(v3);

	vector<int>v4;
	v4.assign(10, 100);
	printVector(v4);
}

int main() {

	test01();

	system("pause");

	return 0;
}

```

æ€»ç»“ï¼š vectorèµ‹å€¼æ–¹å¼æ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨operator=ï¼Œæˆ–è€…assignéƒ½å¯ä»¥







#### â—ï¸3.2.4  vectorå®¹é‡å’Œå¤§å°

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹vectorå®¹å™¨çš„**å®¹é‡å’Œå¤§å°**æ“ä½œ



**â€¼ï¸å‡½æ•°åŸå‹ï¼š**

* `empty(); `                            //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©ºï¼Œè¿”å› çœŸ ä»£è¡¨ç©º

* `capacity();`                      //å®¹å™¨çš„å®¹é‡

* `size();`                              //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°

* `resize(int num);`             //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥**é»˜è®¤å€¼ 0** å¡«å……æ–°ä½ç½®ã€‚

  â€‹					                           //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚

* `resize(int num, elem);`  //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚

  â€‹				                                //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤




**ç¤ºä¾‹ï¼š**


```C++
#include <vector>

void printVector(vector<int>& v) {

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

void test01()
{
	vector<int> v1;
	for (int i = 0; i < 10; i++)
	{
		v1.push_back(i);
	}
	printVector(v1);
	if (v1.empty())
	{
		cout << "v1ä¸ºç©º" << endl;
	}
	else
	{
		cout << "v1ä¸ä¸ºç©º" << endl;
		cout << "v1çš„å®¹é‡ = " << v1.capacity() << endl;
		cout << "v1çš„å¤§å° = " << v1.size() << endl;
	}

	//resize é‡æ–°æŒ‡å®šå¤§å° ï¼Œè‹¥æŒ‡å®šçš„æ›´å¤§ï¼Œé»˜è®¤ç”¨0å¡«å……æ–°ä½ç½®ï¼Œå¯ä»¥åˆ©ç”¨é‡è½½ç‰ˆæœ¬æ›¿æ¢é»˜è®¤å¡«å……
	v1.resize(15,10);
	printVector(v1);

	//resize é‡æ–°æŒ‡å®šå¤§å° ï¼Œè‹¥æŒ‡å®šçš„æ›´å°ï¼Œè¶…å‡ºéƒ¨åˆ†å…ƒç´ è¢«åˆ é™¤
	v1.resize(5);
	printVector(v1);
}

int main() {

	test01();

	system("pause");

	return 0;
}

```

æ€»ç»“ï¼š

* åˆ¤æ–­æ˜¯å¦ä¸ºç©º  --- empty
* è¿”å›å…ƒç´ ä¸ªæ•°  --- size
* è¿”å›å®¹å™¨å®¹é‡  --- capacity
* é‡æ–°æŒ‡å®šå¤§å°  ---  resize













#### 3.2.5 vectoræ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹vectorå®¹å™¨è¿›è¡Œæ’å…¥ã€åˆ é™¤æ“ä½œ



**å‡½æ•°åŸå‹ï¼š**

* `push_back(ele);`                                         //å°¾éƒ¨æ’å…¥å…ƒç´ ele
* `pop_back();`                                                 //åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ 
* `insert(const_iterator pos, ele);`        //è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥å…ƒç´ ele
* `insert(const_iterator pos, int count,ele);`//è¿­ä»£å™¨æŒ‡å‘ä½ç½®posæ’å…¥countä¸ªå…ƒç´ ele
* `erase(const_iterator pos);`                     //åˆ é™¤è¿­ä»£å™¨æŒ‡å‘çš„å…ƒç´ 
* `erase(const_iterator start, const_iterator end);`//åˆ é™¤è¿­ä»£å™¨ä»startåˆ°endä¹‹é—´çš„å…ƒç´ 
* `clear();`                                                        //åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰å…ƒç´ 





**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

void printVector(vector<int>& v) {

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

//æ’å…¥å’Œåˆ é™¤
void test01()
{
	vector<int> v1;
	//å°¾æ’
	v1.push_back(10);
	v1.push_back(20);
	v1.push_back(30);
	v1.push_back(40);
	v1.push_back(50);
	printVector(v1);
	//å°¾åˆ 
	v1.pop_back();
	printVector(v1);
	//æ’å…¥
	v1.insert(v1.begin(), 100);
	printVector(v1);

	v1.insert(v1.begin(), 2, 1000);
	printVector(v1);

	//åˆ é™¤
	v1.erase(v1.begin());
	printVector(v1);

	//æ¸…ç©º
	v1.erase(v1.begin(), v1.end());
	v1.clear();
	printVector(v1);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å°¾æ’  --- push_back
* å°¾åˆ   --- pop_back
* æ’å…¥  --- insert    (ä½ç½®è¿­ä»£å™¨)
* åˆ é™¤  --- erase  ï¼ˆä½ç½®è¿­ä»£å™¨ï¼‰
* æ¸…ç©º  ---  clear  













#### 3.2.6 vectoræ•°æ®å­˜å–



**åŠŸèƒ½æè¿°ï¼š**

* å¯¹vectorä¸­çš„æ•°æ®çš„å­˜å–æ“ä½œ



**å‡½æ•°åŸå‹ï¼š**

* `at(int idx); `     //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®
* `operator[]; `       //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®
* `front(); `            //è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ 
* `back();`              //è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ 





**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

void test01()
{
	vector<int>v1;
	for (int i = 0; i < 10; i++)
	{
		v1.push_back(i);
	}

	for (int i = 0; i < v1.size(); i++)
	{
		cout << v1[i] << " ";
	}
	cout << endl;

	for (int i = 0; i < v1.size(); i++)
	{
		cout << v1.at(i) << " ";
	}
	cout << endl;

	cout << "v1çš„ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š " << v1.front() << endl;
	cout << "v1çš„æœ€åä¸€ä¸ªå…ƒç´ ä¸ºï¼š " << v1.back() << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* é™¤äº†ç”¨è¿­ä»£å™¨è·å–vectorå®¹å™¨ä¸­å…ƒç´ ï¼Œ[ ]å’Œatä¹Ÿå¯ä»¥
* frontè¿”å›å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ 
* backè¿”å›å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ 











#### â€¼ï¸3.2.7 vectoräº’æ¢å®¹å™¨

**åŠŸèƒ½æè¿°ï¼š**

* å®ç°ä¸¤ä¸ªå®¹å™¨å†…å…ƒç´ è¿›è¡Œäº’æ¢



**å‡½æ•°åŸå‹ï¼š**

* `swap(vec);`  // å°†vecä¸æœ¬èº«çš„å…ƒç´ äº’æ¢





**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

void printVector(vector<int>& v)
{
	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) 
  {
		cout << *it << " ";
	}
	cout << endl;
}

void test01()
{
	vector<int>v1;
	for (int i = 0; i < 10; i++)
	{
		v1.push_back(i);
	}
	printVector(v1);

	vector<int>v2;
	for (int i = 10; i > 0; i--)
	{
		v2.push_back(i);
	}
	printVector(v2);

	//äº’æ¢å®¹å™¨
	cout << "äº’æ¢å" << endl;
	v1.swap(v2);
	printVector(v1);
	printVector(v2);
}

void test02()
{
	vector<int> v;
	for (int i = 0; i < 100000; i++) {
		v.push_back(i);
	}

	cout << "vçš„å®¹é‡ä¸ºï¼š" << v.capacity() << endl; //138255
	cout << "vçš„å¤§å°ä¸ºï¼š" << v.size() << endl;     //100000

	v.resize(3);

	cout << "vçš„å®¹é‡ä¸ºï¼š" << v.capacity() << endl;  //138255
	cout << "vçš„å¤§å°ä¸ºï¼š" << v.size() << endl;      //3

	//ğŸŸ¥æ”¶ç¼©å†…å­˜
	vector<int>(v).swap(v); 	// åŒ¿åå¯¹è±¡ï¼Œç¼–è¯‘å™¨æ‰§è¡Œå®Œè¿™ä¸€è¡Œï¼Œé©¬ä¸Šå›æ”¶åŒ¿åå¯¹è±¡çš„å†…å­˜
    												// vector<int>(v)  ç”¨æ‹·è´æ„é€ çš„ åŒ¿åå¯¹è±¡  

	cout << "vçš„å®¹é‡ä¸ºï¼š" << v.capacity() << endl;  //3
	cout << "vçš„å¤§å°ä¸ºï¼š" << v.size() << endl;      //3
}

int main() {

	test01();

	test02();

	system("pause");

	return 0;
}

```

æ€»ç»“ï¼šswapå¯ä»¥ä½¿ä¸¤ä¸ªå®¹å™¨äº’æ¢ï¼Œå¯ä»¥è¾¾åˆ°å®ç”¨çš„**æ”¶ç¼©å†…å­˜æ•ˆæœ**

åŒ¿åå¯¹è±¡ï¼Œç¼–è¯‘å™¨æ‰§è¡Œå®Œè¿™ä¸€è¡Œï¼Œé©¬ä¸Šå›æ”¶åŒ¿åå¯¹è±¡çš„å†…å­˜









#### â—ï¸3.2.8 vectoré¢„ç•™ç©ºé—´

**åŠŸèƒ½æè¿°ï¼š**

* å‡å°‘vectoråœ¨åŠ¨æ€æ‰©å±•å®¹é‡æ—¶çš„æ‰©å±•æ¬¡æ•° 



**å‡½æ•°åŸå‹ï¼š**

* `reserve(int len); `    //å®¹å™¨é¢„ç•™lenä¸ªå…ƒç´ é•¿åº¦ï¼Œé¢„ç•™ä½ç½®ä¸åˆå§‹åŒ–ï¼Œå…ƒç´ ä¸å¯è®¿é—®ã€‚

  

**ç¤ºä¾‹ï¼š**

```C++
#include <vector>

void test01()
{
	vector<int> v;

	//é¢„ç•™ç©ºé—´
	v.reserve(100000);

	int num = 0; //ğŸŸ¥ç»Ÿè®¡å¼€è¾Ÿæ¬¡æ•°
	int* p = NULL;
	for (int i = 0; i < 100000; i++) {
		v.push_back(i);
		if (p != &v[0]) {
			p = &v[0];
			num++;
		}
	}

	cout << "num:" << num << endl;
}

int main() {

	test01();
    
	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå¦‚æœæ•°æ®é‡è¾ƒå¤§ï¼Œå¯ä»¥ä¸€å¼€å§‹åˆ©ç”¨reserveé¢„ç•™ç©ºé—´











### 3.3 dequeå®¹å™¨

#### 3.3.1 dequeå®¹å™¨åŸºæœ¬æ¦‚å¿µ



**åŠŸèƒ½ï¼š**

* â€¼ï¸**åŒç«¯æ•°ç»„**ï¼Œå¯ä»¥å¯¹å¤´ç«¯è¿›è¡Œæ’å…¥åˆ é™¤æ“ä½œ



**dequeä¸vectoråŒºåˆ«ï¼š**

* vectorå¯¹äºå¤´éƒ¨çš„æ’å…¥åˆ é™¤æ•ˆç‡ä½ï¼Œæ•°æ®é‡è¶Šå¤§ï¼Œæ•ˆç‡è¶Šä½
* dequeç›¸å¯¹è€Œè¨€ï¼Œå¯¹å¤´éƒ¨çš„æ’å…¥åˆ é™¤é€Ÿåº¦å›æ¯”vectorå¿«
* vector**è®¿é—®å…ƒç´ æ—¶çš„é€Ÿåº¦**ä¼šæ¯”dequeå¿«,è¿™å’Œä¸¤è€…å†…éƒ¨å®ç°æœ‰å…³



![æˆªå±2023-05-03 19.15.04](/Users/daxu/Library/Application Support/typora-user-images/æˆªå±2023-05-03 19.15.04.png)

dequeå†…éƒ¨å·¥ä½œåŸç†:

dequeå†…éƒ¨æœ‰ä¸ª**ä¸­æ§å™¨**ï¼Œç»´æŠ¤æ¯æ®µç¼“å†²åŒºä¸­çš„å†…å®¹ï¼Œç¼“å†²åŒºä¸­å­˜æ”¾çœŸå®æ•°æ®

ä¸­æ§å™¨**ç»´æŠ¤çš„æ˜¯æ¯ä¸ªç¼“å†²åŒºçš„åœ°å€**ï¼Œä½¿å¾—ä½¿ç”¨dequeæ—¶åƒä¸€ç‰‡è¿ç»­çš„å†…å­˜ç©ºé—´

![æˆªå±2023-05-03 19.16.29](/Users/daxu/Library/Application Support/typora-user-images/æˆªå±2023-05-03 19.16.29.png)

* dequeå®¹å™¨çš„è¿­ä»£å™¨ä¹Ÿæ˜¯æ”¯æŒéšæœºè®¿é—®çš„



#### 3.3.2 dequeæ„é€ å‡½æ•°

**åŠŸèƒ½æè¿°ï¼š**

* dequeå®¹å™¨æ„é€ 



**å‡½æ•°åŸå‹ï¼š**

* `deque<T>` deqT;                      //é»˜è®¤æ„é€ å½¢å¼
* `deque(beg, end);`                  //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚
* `deque(n, elem);`                    //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚
* `deque(const deque &deq);`   //æ‹·è´æ„é€ å‡½æ•°





**ç¤ºä¾‹ï¼š**

```C++
#include <deque>

// å¸¸å¯¹è±¡çš„çŠ¶æ€æ˜¯ä¸å¯ä¿®æ”¹çš„ï¼Œå› æ­¤åªèƒ½è°ƒç”¨å¸¸å‡½æ•°ï¼Œä»¥ç¡®ä¿å¯¹è±¡çš„çŠ¶æ€ä¸ä¼šè¢«ä¿®æ”¹ã€‚å¸¸å‡½æ•°åœ¨å‡½æ•°å£°æ˜å’Œå®šä¹‰ä¸­çš„æœ«å°¾åŠ ä¸Š const å…³é”®å­—ï¼Œè¡¨ç¤ºåœ¨å‡½æ•°å†…éƒ¨ä¸ä¼šä¿®æ”¹å¯¹è±¡çš„çŠ¶æ€ã€‚
//å› æ­¤è¿™é‡Œæ˜¯ const_iterator

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) 
  {
		cout << *it << " ";

	}
	cout << endl;
}
//dequeæ„é€ 
void test01() {

	deque<int> d1; //æ— å‚æ„é€ å‡½æ•°
	for (int i = 0; i < 10; i++)
	{
		d1.push_back(i);
	}
	printDeque(d1);
	deque<int> d2(d1.begin(),d1.end());
	printDeque(d2);

	deque<int>d3(10,100);
	printDeque(d3);

	deque<int>d4 = d3;
	printDeque(d4);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**dequeå®¹å™¨å’Œvectorå®¹å™¨çš„æ„é€ æ–¹å¼å‡ ä¹ä¸€è‡´ï¼Œçµæ´»ä½¿ç”¨å³å¯









#### 3.3.3 dequeèµ‹å€¼æ“ä½œ



**åŠŸèƒ½æè¿°ï¼š**

* ç»™dequeå®¹å™¨è¿›è¡Œèµ‹å€¼



**å‡½æ•°åŸå‹ï¼š**

* `deque& operator=(const deque &deq); `         //é‡è½½ç­‰å·æ“ä½œç¬¦


* `assign(beg, end);`                                           //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚
* `assign(n, elem);`                                             //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <deque>

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) {
		cout << *it << " ";

	}
	cout << endl;
}
//èµ‹å€¼æ“ä½œ
void test01()
{
	deque<int> d1;
	for (int i = 0; i < 10; i++)
	{
		d1.push_back(i);
	}
	printDeque(d1);

	deque<int>d2;
	d2 = d1;
	printDeque(d2);

	deque<int>d3;
	d3.assign(d1.begin(), d1.end());
	printDeque(d3);

	deque<int>d4;
	d4.assign(10, 100);
	printDeque(d4);

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šdequeèµ‹å€¼æ“ä½œä¹Ÿä¸vectorç›¸åŒï¼Œéœ€ç†Ÿç»ƒæŒæ¡







#### â•3.3.4 dequeå¤§å°æ“ä½œ

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹dequeå®¹å™¨çš„å¤§å°è¿›è¡Œæ“ä½œ



**å‡½æ•°åŸå‹ï¼š**

* `deque.empty();`                       //åˆ¤æ–­å®¹å™¨**æ˜¯å¦ä¸ºç©º**

* `deque.size();`                         //è¿”å›**å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°**

* `deque.resize(num);`                //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚

  â€‹			                               	     //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚

* `deque.resize(num, elem);`     //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnum,**è‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚**

  â€‹                                                     //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚

  



**ç¤ºä¾‹ï¼š**

```C++
#include <deque>

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) {
		cout << *it << " ";

	}
	cout << endl;
}

//å¤§å°æ“ä½œ
void test01()
{
	deque<int> d1;
	for (int i = 0; i < 10; i++)
	{
		d1.push_back(i);
	}
	printDeque(d1);

	//åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º
	if (d1.empty()) {
		cout << "d1ä¸ºç©º!" << endl;
	}
	else {
		cout << "d1ä¸ä¸ºç©º!" << endl;
		//ç»Ÿè®¡å¤§å°
		cout << "d1çš„å¤§å°ä¸ºï¼š" << d1.size() << endl;
	}

	//é‡æ–°æŒ‡å®šå¤§å°
	d1.resize(15, 1);
	printDeque(d1);

	d1.resize(5);
	printDeque(d1);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* **dequeæ²¡æœ‰å®¹é‡çš„æ¦‚å¿µ**
* åˆ¤æ–­æ˜¯å¦ä¸ºç©º   --- empty
* è¿”å›å…ƒç´ ä¸ªæ•°   --- size
* é‡æ–°æŒ‡å®šä¸ªæ•°   --- resize









#### â€¼ï¸3.3.5 deque æ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

* å‘dequeå®¹å™¨ä¸­æ’å…¥å’Œåˆ é™¤æ•°æ®



**å‡½æ•°åŸå‹ï¼š**

ä¸¤ç«¯æ’å…¥æ“ä½œï¼š

- `push_back(elem);`          //åœ¨å®¹å™¨å°¾éƒ¨æ·»åŠ ä¸€ä¸ªæ•°æ®
- `push_front(elem);`        //åœ¨å®¹å™¨**å¤´éƒ¨æ’å…¥**ä¸€ä¸ªæ•°æ®
- `pop_back();`                   //åˆ é™¤å®¹å™¨æœ€åä¸€ä¸ªæ•°æ®
- `pop_front();`                 //**åˆ é™¤å®¹å™¨ç¬¬ä¸€ä¸ªæ•°æ®**

æŒ‡å®šä½ç½®æ“ä½œï¼š

* `insert(pos,elem);`         //åœ¨posä½ç½®æ’å…¥ä¸€ä¸ªelemå…ƒç´ çš„æ‹·è´ï¼Œ**è¿”å›æ–°æ•°æ®çš„ä½ç½®ã€‚**

* `insert(pos,n,elem);`     //åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚

* `insert(pos,beg,end);`    //åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚

* `clear();`                           //æ¸…ç©ºå®¹å™¨çš„æ‰€æœ‰æ•°æ®

* `erase(beg,end);`             //**åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®**ã€‚

* `erase(pos);`                    //**åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®**ã€‚

  

  



**ç¤ºä¾‹ï¼š**

```C++
#include <deque>

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) {
		cout << *it << " ";

	}
	cout << endl;
}
//ä¸¤ç«¯æ“ä½œ
void test01()
{
	deque<int> d;
	//å°¾æ’
	d.push_back(10);
	d.push_back(20);
	//å¤´æ’
	d.push_front(100);
	d.push_front(200);

	printDeque(d);

	//å°¾åˆ 
	d.pop_back();
	//å¤´åˆ 
	d.pop_front();
	printDeque(d);
}

//æ’å…¥
void test02()
{
	deque<int> d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);
	printDeque(d);

	d.insert(d.begin(), 1000);
	printDeque(d);

	d.insert(d.begin(), 2,10000);
	printDeque(d);

	deque<int>d2;
	d2.push_back(1);
	d2.push_back(2);
	d2.push_back(3);

  // æŒ‰åŒºé—´è¿›è¡Œæ’å…¥
	d.insert(d.begin(), d2.begin(), d2.end());
	printDeque(d);

}

//åˆ é™¤
void test03()
{
	deque<int> d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);
	printDeque(d);
  /* é€šè¿‡åˆ›å»ºå‡ºè¿­ä»£å™¨å¯¹è±¡ï¼Œå¯ä»¥åˆ°ä¸åŒä½ç½®
  deque<int>::iterator it = d.begin();
  it++;
  d.erase(it);
  */
  
	d.erase(d.begin());
	printDeque(d);

	d.erase(d.begin(), d.end());
	d.clear();
	printDeque(d);
}

int main() {

	//test01();

	//test02();

    test03();
    
	system("pause");

	return 0;
}

```

æ€»ç»“ï¼š

* **æ’å…¥å’Œåˆ é™¤æä¾›çš„ä½ç½®æ˜¯è¿­ä»£å™¨**ï¼
* å°¾æ’   ---  push_back
* å°¾åˆ    ---  pop_back
* å¤´æ’   ---  push_front
* å¤´åˆ    ---  pop_front











#### 3.3.6 deque æ•°æ®å­˜å–



**åŠŸèƒ½æè¿°ï¼š**

* å¯¹deque ä¸­çš„æ•°æ®çš„å­˜å–æ“ä½œ



**å‡½æ•°åŸå‹ï¼š**

- `at(int idx); `     //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®
- `operator[]; `      //è¿”å›ç´¢å¼•idxæ‰€æŒ‡çš„æ•°æ®
- `front(); `            //**è¿”å›å®¹å™¨ä¸­ç¬¬ä¸€ä¸ªæ•°æ®å…ƒç´ **
- `back();`              //**è¿”å›å®¹å™¨ä¸­æœ€åä¸€ä¸ªæ•°æ®å…ƒç´ **



**ç¤ºä¾‹ï¼š**

```C++
#include <deque>

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) {
		cout << *it << " ";

	}
	cout << endl;
}

//æ•°æ®å­˜å–
void test01()
{

	deque<int> d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);

	for (int i = 0; i < d.size(); i++) {
		cout << d[i] << " ";
	}
	cout << endl;


	for (int i = 0; i < d.size(); i++) {
		cout << d.at(i) << " ";
	}
	cout << endl;

	cout << "front:" << d.front() << endl;

	cout << "back:" << d.back() << endl;

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

- é™¤äº†ç”¨è¿­ä»£å™¨è·å–dequeå®¹å™¨ä¸­å…ƒç´ ï¼Œ[ ]å’Œatä¹Ÿå¯ä»¥
- frontè¿”å›å®¹å™¨ç¬¬ä¸€ä¸ªå…ƒç´ 
- backè¿”å›å®¹å™¨æœ€åä¸€ä¸ªå…ƒç´ 













#### 3.3.7  deque æ’åº

**åŠŸèƒ½æè¿°ï¼š**

* åˆ©ç”¨ç®—æ³•å®ç°å¯¹dequeå®¹å™¨è¿›è¡Œæ’åº



**ç®—æ³•ï¼š**

* `sort(iterator beg, iterator end)`  //**å¯¹begå’ŒendåŒºé—´å†…å…ƒç´ è¿›è¡Œæ’åº**

Â· Sort é»˜è®¤æ’åºè§„åˆ™ ä»å°åˆ°å¤§ å‡åº

Â· å¯¹äºæ”¯æŒéšæœºè®¿é—®çš„è¿­ä»£å™¨çš„å®¹å™¨ï¼Œéƒ½å¯ä»¥åˆ©ç”¨sortç®—æ³•å¯¹å…¶è¿›è¡Œæ’åº

**ç¤ºä¾‹ï¼š**

```C++
#include <deque>
#include <algorithm>

void printDeque(const deque<int>& d) 
{
	for (deque<int>::const_iterator it = d.begin(); it != d.end(); it++) {
		cout << *it << " ";

	}
	cout << endl;
}

void test01()
{

	deque<int> d;
	d.push_back(10);
	d.push_back(20);
	d.push_front(100);
	d.push_front(200);

	printDeque(d);
	sort(d.begin(), d.end());
	printDeque(d);

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š**sortç®—æ³•éå¸¸å®ç”¨ï¼Œä½¿ç”¨æ—¶åŒ…å«å¤´æ–‡ä»¶ algorithmå³å¯**











### â—ï¸3.4 æ¡ˆä¾‹-è¯„å§”æ‰“åˆ†



#### 3.4.1 æ¡ˆä¾‹æè¿°

æœ‰5åé€‰æ‰‹ï¼šé€‰æ‰‹ABCDEï¼Œ10ä¸ªè¯„å§”åˆ†åˆ«å¯¹æ¯ä¸€åé€‰æ‰‹æ‰“åˆ†ï¼Œå»é™¤æœ€é«˜åˆ†ï¼Œå»é™¤è¯„å§”ä¸­æœ€ä½åˆ†ï¼Œå–å¹³å‡åˆ†ã€‚



#### 3.4.2 å®ç°æ­¥éª¤

1. åˆ›å»ºäº”åé€‰æ‰‹ï¼Œæ”¾åˆ°vectorä¸­
2. éå†vectorå®¹å™¨ï¼Œå–å‡ºæ¥æ¯ä¸€ä¸ªé€‰æ‰‹ï¼Œæ‰§è¡Œforå¾ªç¯ï¼Œå¯ä»¥æŠŠ10ä¸ªè¯„åˆ†æ‰“åˆ†å­˜åˆ°dequeå®¹å™¨ä¸­
3. sortç®—æ³•å¯¹dequeå®¹å™¨ä¸­åˆ†æ•°æ’åºï¼Œå»é™¤æœ€é«˜å’Œæœ€ä½åˆ†
4. dequeå®¹å™¨éå†ä¸€éï¼Œç´¯åŠ æ€»åˆ†
5. è·å–å¹³å‡åˆ†





**ç¤ºä¾‹ä»£ç ï¼š**

```C++
//é€‰æ‰‹ç±»
class Person
{
public:
	Person(string name, int score)
	{
		this->m_Name = name;
		this->m_Score = score;
	}

	string m_Name; //å§“å
	int m_Score;  //å¹³å‡åˆ†
};

void createPerson(vector<Person>&v)
{
	string nameSeed = "ABCDE";     // â­ï¸å°æŠ€å·§
	for (int i = 0; i < 5; i++)
	{
		string name = "é€‰æ‰‹";
		name += nameSeed[i];  // stringå®¹å™¨ä¹Ÿå¯ä»¥ç”¨appendè¿½åŠ 
		int score = 0;

		Person p(name, score);

		//å°†åˆ›å»ºçš„personå¯¹è±¡ æ”¾å…¥åˆ°å®¹å™¨ä¸­
		v.push_back(p);
	}
}

//æ‰“åˆ†
void setScore(vector<Person>&v)
{
	for (vector<Person>::iterator it = v.begin(); it != v.end(); it++)
	{
		//å°†è¯„å§”çš„åˆ†æ•° æ”¾å…¥åˆ°dequeå®¹å™¨ä¸­ï¼Œå‡†å¤‡dequeå®¹å™¨
		deque<int>d;
		for (int i = 0; i < 10; i++)
		{
			int score = rand() % 41 + 60;  // â­ï¸60 ~ 100ä¹‹é—´çš„éšæœºæ•°
			d.push_back(score);
		}

		//cout << "é€‰æ‰‹ï¼š " << it->m_Name << " æ‰“åˆ†ï¼š " << endl;
		//for (deque<int>::iterator dit = d.begin(); dit != d.end(); dit++)
		//{
		//	cout << *dit << " ";
		//}
		//cout << endl;

		//å…ˆæ’åº
		sort(d.begin(), d.end());

		//å»é™¤æœ€é«˜å’Œæœ€ä½åˆ†
		d.pop_back();
		d.pop_front();

		//å–å¹³å‡åˆ†
		int sum = 0;
		for (deque<int>::iterator dit = d.begin(); dit != d.end(); dit++)
		{
			sum += *dit; //ç´¯åŠ æ¯ä¸ªè¯„å§”çš„åˆ†æ•°
		}

		int avg = sum / d.size(); //æ­¤æ—¶d.sizeï¼ˆï¼‰ä¸º8

		//å°†å¹³å‡åˆ† èµ‹å€¼ç»™é€‰æ‰‹èº«ä¸Š
		it->m_Score = avg;
	}

}

void showScore(vector<Person>&v)
{
	for (vector<Person>::iterator it = v.begin(); it != v.end(); it++)
	{
		cout << "å§“åï¼š " << it->m_Name << " å¹³å‡åˆ†ï¼š " << it->m_Score << endl;
	}
}

int main() {

	//éšæœºæ•°ç§å­
	srand((unsigned int)time(NULL));

	//1ã€åˆ›å»º5åé€‰æ‰‹
	vector<Person>v;  //å­˜æ”¾é€‰æ‰‹å®¹å™¨
	createPerson(v);

	//æµ‹è¯•
	//for (vector<Person>::iterator it = v.begin(); it != v.end(); it++)
	//{
	//	cout << "å§“åï¼š " << (*it).m_Name << " åˆ†æ•°ï¼š " << (*it).m_Score << endl;
	//}

	//2ã€ç»™5åé€‰æ‰‹æ‰“åˆ†
	setScore(v);

	//3ã€æ˜¾ç¤ºæœ€åå¾—åˆ†
	showScore(v);

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** **é€‰å–ä¸åŒçš„å®¹å™¨æ“ä½œæ•°æ®ï¼Œå¯ä»¥æå‡ä»£ç çš„æ•ˆç‡**







### 3.5 stackå®¹å™¨

#### 3.5.1 stack åŸºæœ¬æ¦‚å¿µ



**æ¦‚å¿µï¼š**stackæ˜¯ä¸€ç§**å…ˆè¿›åå‡º**(First In Last Out,FILO)çš„æ•°æ®ç»“æ„ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå‡ºå£

<img src="/Users/daxu/Library/Mobile Documents/com~apple~CloudDocs/0000å­¦ä¹ /0000 C++é»‘é©¬è®²ä¹‰/pic/æˆªå±2023-06-16 21.22.46.png" alt="æˆªå±2023-06-16 21.22.46" style="zoom:50%;" />

æ ˆä¸­**åªæœ‰é¡¶ç«¯çš„å…ƒç´ æ‰å¯ä»¥è¢«å¤–ç•Œä½¿ç”¨**ï¼Œå› æ­¤æ ˆ**ä¸å…è®¸æœ‰éå†è¡Œä¸º**

æ ˆä¸­è¿›å…¥æ•°æ®ç§°ä¸º  --- **å…¥æ ˆ**  `push`

æ ˆä¸­å¼¹å‡ºæ•°æ®ç§°ä¸º  --- **å‡ºæ ˆ**  `pop`



ç”Ÿæ´»ä¸­çš„æ ˆï¼šå¼¹å¤¹



#### 3.5.2 stack å¸¸ç”¨æ¥å£

åŠŸèƒ½æè¿°ï¼šæ ˆå®¹å™¨å¸¸ç”¨çš„å¯¹å¤–æ¥å£



æ„é€ å‡½æ•°ï¼š

* `stack<T> stk;`                                 //stacké‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œ stackå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼
* `stack(const stack &stk);`            //æ‹·è´æ„é€ å‡½æ•°

èµ‹å€¼æ“ä½œï¼š

* `stack& operator=(const stack &stk);`           //é‡è½½ç­‰å·æ“ä½œç¬¦

æ•°æ®å­˜å–ï¼š

* `push(elem);`      //å‘æ ˆé¡¶æ·»åŠ å…ƒç´ 
* `pop();`                //ä»æ ˆé¡¶ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
* `top(); `                //è¿”å›æ ˆé¡¶å…ƒç´ 

å¤§å°æ“ä½œï¼š

* `empty();`            //**åˆ¤æ–­å †æ ˆæ˜¯å¦ä¸ºç©º**
* `size(); `              //**è¿”å›æ ˆçš„å¤§å°**ï¼Œå³å…ƒç´ ä¸ªæ•°





**ç¤ºä¾‹ï¼š**

```C++
#include <stack>

//æ ˆå®¹å™¨å¸¸ç”¨æ¥å£
void test01()
{
	//åˆ›å»ºæ ˆå®¹å™¨ æ ˆå®¹å™¨å¿…é¡»ç¬¦åˆå…ˆè¿›åå‡º
	stack<int> s;

	//å‘æ ˆä¸­æ·»åŠ å…ƒç´ ï¼Œå«åš å‹æ ˆ å…¥æ ˆ
	s.push(10);
	s.push(20);
	s.push(30);

  // åªè¦æ ˆä¸ä¸ºç©ºï¼ŒæŸ¥çœ‹æ ˆé¡¶ï¼Œå¹¶æ‰§è¡Œå‡ºæ ˆ
	while (!s.empty()) {
		//è¾“å‡ºæ ˆé¡¶å…ƒç´ 
		cout << "æ ˆé¡¶å…ƒç´ ä¸ºï¼š " << s.top() << endl;
		//å¼¹å‡ºæ ˆé¡¶å…ƒç´ 
		s.pop();
	}
	cout << "æ ˆçš„å¤§å°ä¸ºï¼š" << s.size() << endl;

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å…¥æ ˆ   --- push
* å‡ºæ ˆ   --- pop
* è¿”å›æ ˆé¡¶   --- top
* åˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º   --- empty
* è¿”å›æ ˆå¤§å°   --- size









### 3.6 queue å®¹å™¨

#### 3.6.1 queue åŸºæœ¬æ¦‚å¿µ



**æ¦‚å¿µï¼š**Queueæ˜¯ä¸€ç§**å…ˆè¿›å…ˆå‡º**(First In First Out,FIFO)çš„æ•°æ®ç»“æ„ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‡ºå£

<img src="/Users/daxu/Library/Mobile Documents/com~apple~CloudDocs/0000å­¦ä¹ /0000 C++é»‘é©¬è®²ä¹‰/pic/æˆªå±2023-06-16 21.31.03.png" alt="æˆªå±2023-06-16 21.31.03" style="zoom:50%;" />

é˜Ÿåˆ—å®¹å™¨**å…è®¸ä»ä¸€ç«¯æ–°å¢å…ƒç´ ï¼Œä»å¦ä¸€ç«¯ç§»é™¤å…ƒç´ **ï¼Œé™å®šäº†ä»ä¸€ç«¯è¿›ï¼Œå¦ä¸€æ®µå‡º

é˜Ÿåˆ—ä¸­**åªæœ‰é˜Ÿå¤´å’Œé˜Ÿå°¾æ‰å¯ä»¥è¢«å¤–ç•Œä½¿ç”¨**ï¼Œå› æ­¤é˜Ÿåˆ—**ä¸å…è®¸æœ‰éå†è¡Œä¸º**

é˜Ÿåˆ—ä¸­è¿›æ•°æ®ç§°ä¸º --- **å…¥é˜Ÿ**    `push`

é˜Ÿåˆ—ä¸­å‡ºæ•°æ®ç§°ä¸º --- **å‡ºé˜Ÿ**    `pop`



ç”Ÿæ´»ä¸­çš„é˜Ÿåˆ—ï¼šæ’é˜Ÿ





#### 3.6.2 queue å¸¸ç”¨æ¥å£



åŠŸèƒ½æè¿°ï¼šæ ˆå®¹å™¨å¸¸ç”¨çš„å¯¹å¤–æ¥å£



æ„é€ å‡½æ•°ï¼š

- `queue<T> que;`                                 //queueé‡‡ç”¨æ¨¡æ¿ç±»å®ç°ï¼Œqueueå¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼
- `queue(const queue &que);`            //æ‹·è´æ„é€ å‡½æ•°

èµ‹å€¼æ“ä½œï¼š

- `queue& operator=(const queue &que);`           //é‡è½½ç­‰å·æ“ä½œç¬¦

æ•°æ®å­˜å–ï¼š

- `push(elem);`                             //å¾€é˜Ÿå°¾æ·»åŠ å…ƒç´ 
- `pop();`                                      //ä»**é˜Ÿå¤´**ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ 
- `back();`                                    //è¿”å›**æœ€åä¸€ä¸ªå…ƒç´ **
- `front(); `                                  //è¿”å›**ç¬¬ä¸€ä¸ªå…ƒç´ **

å¤§å°æ“ä½œï¼š

- `empty();`            //åˆ¤æ–­**å †æ ˆæ˜¯å¦ä¸ºç©º**
- `size(); `              //è¿”å›**æ ˆçš„å¤§å°**



**ç¤ºä¾‹ï¼š**

```C++
#include <queue>
#include <string>
class Person
{
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}

	string m_Name;
	int m_Age;
};

void test01() {

	//åˆ›å»ºé˜Ÿåˆ—
	queue<Person> q;

	//å‡†å¤‡æ•°æ®
	Person p1("å”åƒ§", 30);
	Person p2("å­™æ‚Ÿç©º", 1000);
	Person p3("çŒªå…«æˆ’", 900);
	Person p4("æ²™åƒ§", 800);

	//å‘é˜Ÿåˆ—ä¸­æ·»åŠ å…ƒç´   å…¥é˜Ÿæ“ä½œ
	q.push(p1);
	q.push(p2);
	q.push(p3);
	q.push(p4);

	//é˜Ÿåˆ—ä¸æä¾›è¿­ä»£å™¨ï¼Œæ›´ä¸æ”¯æŒéšæœºè®¿é—®	
  //åªè¦é˜Ÿåˆ—ä¸ä¸ºç©ºï¼ŒæŸ¥çœ‹é˜Ÿå¤´ï¼Œé˜Ÿå°¾ï¼Œå‡ºé˜Ÿ
	while (!q.empty()) {
		//è¾“å‡ºé˜Ÿå¤´å…ƒç´ 
		cout << "é˜Ÿå¤´å…ƒç´ -- å§“åï¼š " << q.front().m_Name 
              << " å¹´é¾„ï¼š "<< q.front().m_Age << endl;
        
		cout << "é˜Ÿå°¾å…ƒç´ -- å§“åï¼š " << q.back().m_Name  
              << " å¹´é¾„ï¼š " << q.back().m_Age << endl;
        
		cout << endl;
		//å¼¹å‡ºé˜Ÿå¤´å…ƒç´ 
		q.pop();
	}

	cout << "é˜Ÿåˆ—å¤§å°ä¸ºï¼š" << q.size() << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

- å…¥é˜Ÿ   --- push
- å‡ºé˜Ÿ   --- pop
- è¿”å›é˜Ÿå¤´å…ƒç´    --- front
- è¿”å›é˜Ÿå°¾å…ƒç´    --- back
- åˆ¤æ–­é˜Ÿæ˜¯å¦ä¸ºç©º   --- empty
- è¿”å›é˜Ÿåˆ—å¤§å°   --- size















### â€¼ï¸3.7 listå®¹å™¨

#### â—ï¸3.7.1 liståŸºæœ¬æ¦‚å¿µ



**åŠŸèƒ½ï¼š**å°†æ•°æ®è¿›è¡Œé“¾å¼å­˜å‚¨

**é“¾è¡¨**ï¼ˆlistï¼‰æ˜¯ä¸€ç§ç‰©ç†å­˜å‚¨å•å…ƒä¸Šéè¿ç»­çš„å­˜å‚¨ç»“æ„ï¼Œæ•°æ®å…ƒç´ çš„é€»è¾‘é¡ºåºæ˜¯é€šè¿‡é“¾è¡¨ä¸­çš„æŒ‡é’ˆé“¾æ¥å®ç°çš„



é“¾è¡¨çš„ç»„æˆï¼šé“¾è¡¨ç”±ä¸€ç³»åˆ—**ç»“ç‚¹**ç»„æˆ

ç»“ç‚¹çš„ç»„æˆï¼šä¸€ä¸ªæ˜¯å­˜å‚¨æ•°æ®å…ƒç´ çš„**æ•°æ®åŸŸ**ï¼Œå¦ä¸€ä¸ªæ˜¯å­˜å‚¨ä¸‹ä¸€ä¸ªç»“ç‚¹åœ°å€çš„**æŒ‡é’ˆåŸŸ**



â€¼ï¸STLä¸­çš„é“¾è¡¨æ˜¯ä¸€ä¸ª**åŒå‘å¾ªç¯é“¾è¡¨**

<img src="/Users/daxu/Library/Mobile Documents/com~apple~CloudDocs/0000å­¦ä¹ /0000 C++é»‘é©¬è®²ä¹‰/pic/æˆªå±2023-06-16 21.53.23.png" alt="æˆªå±2023-06-16 21.53.23" style="zoom:50%;" />

â€¼ï¸ç”±äºé“¾è¡¨çš„å­˜å‚¨æ–¹å¼**å¹¶ä¸æ˜¯è¿ç»­çš„å†…å­˜ç©ºé—´**ï¼Œå› æ­¤**é“¾è¡¨listä¸­çš„è¿­ä»£å™¨åªæ”¯æŒå‰ç§»å’Œåç§»**ï¼Œå±äº**åŒå‘è¿­ä»£å™¨**



listçš„ä¼˜ç‚¹ï¼š

* é‡‡ç”¨**åŠ¨æ€å­˜å‚¨åˆ†é…**ï¼Œä¸ä¼šé€ æˆå†…å­˜æµªè´¹å’Œæº¢å‡º
* é“¾è¡¨æ‰§è¡Œ**æ’å…¥å’Œåˆ é™¤æ“ä½œååˆ†æ–¹ä¾¿**ï¼Œä¿®æ”¹æŒ‡é’ˆå³å¯ï¼Œä¸éœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼Œ
* å¯ä»¥å¯¹ä»»æ„ä½ç½®è¿›è¡Œå¿«é€Ÿçš„æ’å…¥æˆ–åˆ é™¤

listçš„ç¼ºç‚¹ï¼š

* é“¾è¡¨çµæ´»ï¼Œä½†æ˜¯**ç©ºé—´(æŒ‡é’ˆåŸŸ) å’Œ æ—¶é—´ï¼ˆéå†ï¼‰**é¢å¤–è€—è´¹è¾ƒå¤§ï¼Œå®¹å™¨éå†é€Ÿåº¦æ²¡æœ‰æ•°ç»„å¿«ï¼Œå ç”¨ç©ºé—´å¤§



â­ï¸Listæœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼Œæ’å…¥æ“ä½œå’Œåˆ é™¤æ“ä½œ**éƒ½ä¸ä¼šé€ æˆåŸæœ‰listè¿­ä»£å™¨çš„å¤±æ•ˆ**ï¼ˆä¹Ÿå³è¿­ä»£å™¨æ‰€æŒ‡çš„ä½ç½®ä¸å˜ï¼‰ï¼Œè¿™åœ¨vectoræ˜¯ä¸æˆç«‹çš„ã€‚



â€¼ï¸æ€»ç»“ï¼šSTLä¸­**Listå’Œvectoræ˜¯ä¸¤ä¸ªæœ€å¸¸è¢«ä½¿ç”¨çš„å®¹å™¨**ï¼Œå„æœ‰ä¼˜ç¼ºç‚¹





#### 3.7.2  listæ„é€ å‡½æ•°

**åŠŸèƒ½æè¿°ï¼š**

* åˆ›å»ºlistå®¹å™¨



**å‡½æ•°åŸå‹ï¼š**

* `list<T> lst;`                               //listé‡‡ç”¨é‡‡ç”¨æ¨¡æ¿ç±»å®ç°,å¯¹è±¡çš„é»˜è®¤æ„é€ å½¢å¼ï¼š
* `list(beg,end);`                           //æ„é€ å‡½æ•°å°†[beg, end)åŒºé—´ä¸­çš„å…ƒç´ æ‹·è´ç»™æœ¬èº«ã€‚
* `list(n,elem);`                             //æ„é€ å‡½æ•°å°†nä¸ªelemæ‹·è´ç»™æœ¬èº«ã€‚
* `list(const list &lst);`            //æ‹·è´æ„é€ å‡½æ•°ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <list>

// ç”¨å¼•ç”¨çš„æ–¹å¼ä¼ é€’ï¼Œä¸ºäº†é¿å…åœ¨å‡½æ•°ä¸­ä¿®æ”¹å®¹å™¨å†…å®¹ï¼ŒåŠ ä¸Šconstï¼Œç›¸åº”çš„ä¸‹é¢è¿­ä»£å™¨å˜æˆ const_iterator
void printList(const list<int>& L) 
{
	for (list<int>::const_iterator it = L.begin(); it != L.end(); it++)
  {
		cout << *it << " ";
	}
	cout << endl;
}

void test01()
{
	list<int>L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	printList(L1);

	list<int>L2(L1.begin(),L1.end());
	printList(L2);

	list<int>L3(L2);
	printList(L3);

	list<int>L4(10, 1000);
	printList(L4);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šlistæ„é€ æ–¹å¼åŒå…¶ä»–å‡ ä¸ªSTLå¸¸ç”¨å®¹å™¨ï¼Œç†Ÿç»ƒæŒæ¡å³å¯













#### 3.7.3 list èµ‹å€¼å’Œäº¤æ¢

**åŠŸèƒ½æè¿°ï¼š**

* ç»™listå®¹å™¨è¿›è¡Œèµ‹å€¼ï¼Œä»¥åŠäº¤æ¢listå®¹å™¨

**å‡½æ•°åŸå‹ï¼š**

* `assign(beg, end);`            //å°†[beg, end)åŒºé—´ä¸­çš„æ•°æ®æ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚
* `assign(n, elem);`              //å°†nä¸ªelemæ‹·è´èµ‹å€¼ç»™æœ¬èº«ã€‚
* `list& operator=(const list &lst);`         //é‡è½½ç­‰å·æ“ä½œç¬¦
* `swap(lst);`                         //å°†lstä¸æœ¬èº«çš„å…ƒç´ äº’æ¢ã€‚



**ç¤ºä¾‹ï¼š**

```C++
#include <list>

void printList(const list<int>& L) {

	for (list<int>::const_iterator it = L.begin(); it != L.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

//èµ‹å€¼å’Œäº¤æ¢
void test01()
{
	list<int>L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);
	printList(L1);

	//èµ‹å€¼
	list<int>L2;
	L2 = L1;
	printList(L2);

	list<int>L3;
	L3.assign(L2.begin(), L2.end());
	printList(L3);

	list<int>L4;
	L4.assign(10, 100);
	printList(L4);

}

//äº¤æ¢
void test02()
{

	list<int>L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	list<int>L2;
	L2.assign(10, 100);

	cout << "äº¤æ¢å‰ï¼š " << endl;
	printList(L1);
	printList(L2);

	cout << endl;

	L1.swap(L2);

	cout << "äº¤æ¢åï¼š " << endl;
	printList(L1);
	printList(L2);

}

int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šlistèµ‹å€¼å’Œäº¤æ¢æ“ä½œèƒ½å¤Ÿçµæ´»è¿ç”¨å³å¯















#### 3.7.4 list å¤§å°æ“ä½œ

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹listå®¹å™¨çš„å¤§å°è¿›è¡Œæ“ä½œ



**å‡½æ•°åŸå‹ï¼š**

* `size(); `                             //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„ä¸ªæ•°

* `empty(); `                           //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º

* `resize(num);`                   //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥é»˜è®¤å€¼å¡«å……æ–°ä½ç½®ã€‚

  â€‹					    //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚

* `resize(num, elem); `       //é‡æ–°æŒ‡å®šå®¹å™¨çš„é•¿åº¦ä¸ºnumï¼Œè‹¥å®¹å™¨å˜é•¿ï¼Œåˆ™ä»¥elemå€¼å¡«å……æ–°ä½ç½®ã€‚

   			 	 						    //å¦‚æœå®¹å™¨å˜çŸ­ï¼Œåˆ™æœ«å°¾è¶…å‡ºå®¹å™¨é•¿åº¦çš„å…ƒç´ è¢«åˆ é™¤ã€‚



**ç¤ºä¾‹ï¼š**

```C++
#include <list>

void printList(const list<int>& L) {

	for (list<int>::const_iterator it = L.begin(); it != L.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

//å¤§å°æ“ä½œ
void test01()
{
	list<int>L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	if (L1.empty())
	{
		cout << "L1ä¸ºç©º" << endl;
	}
	else
	{
		cout << "L1ä¸ä¸ºç©º" << endl;
		cout << "L1çš„å¤§å°ä¸ºï¼š " << L1.size() << endl;
	}

	//é‡æ–°æŒ‡å®šå¤§å°
	L1.resize(10);
	printList(L1);

	L1.resize(2);
	printList(L1);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

- åˆ¤æ–­æ˜¯å¦ä¸ºç©º   --- empty
- è¿”å›å…ƒç´ ä¸ªæ•°   --- size
- é‡æ–°æŒ‡å®šä¸ªæ•°   --- resize











#### â€¼ï¸3.7.5 list æ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹listå®¹å™¨è¿›è¡Œæ•°æ®çš„æ’å…¥å’Œåˆ é™¤



**å‡½æ•°åŸå‹ï¼š**

* push_back(elem);									//åœ¨å®¹å™¨**å°¾éƒ¨**åŠ å…¥ä¸€ä¸ªå…ƒç´ 
* pop_back();								              //**åˆ é™¤å®¹å™¨ä¸­æœ€åä¸€ä¸ªå…ƒç´ **
* push_front(elem);								   //åœ¨å®¹å™¨å¼€å¤´æ’å…¥ä¸€ä¸ªå…ƒç´ 
* pop_front();								             //ä»å®¹å™¨**å¼€å¤´ç§»é™¤ç¬¬ä¸€ä¸ªå…ƒç´ **
* insert(pos,elem);								    //åœ¨posä½ç½®æ’elemå…ƒç´ çš„æ‹·è´ï¼Œ**è¿”å›æ–°æ•°æ®çš„ä½ç½®**ã€‚
* insert(pos,n,elem);								 //åœ¨posä½ç½®æ’å…¥nä¸ªelemæ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚
* insert(pos,beg,end);						      //åœ¨posä½ç½®æ’å…¥[beg,end)åŒºé—´çš„æ•°æ®ï¼Œæ— è¿”å›å€¼ã€‚
* clear();								                      //ç§»é™¤å®¹å™¨çš„æ‰€æœ‰æ•°æ®
* erase(beg,end);								       //åˆ é™¤[beg,end)åŒºé—´çš„æ•°æ®ï¼Œ**è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®ã€‚**
* erase(pos);								              //**åˆ é™¤posä½ç½®çš„æ•°æ®ï¼Œè¿”å›ä¸‹ä¸€ä¸ªæ•°æ®çš„ä½ç½®**ã€‚
* remove(elem);								        //**åˆ é™¤å®¹å™¨ä¸­æ‰€æœ‰ä¸elemå€¼åŒ¹é…çš„å…ƒç´ **ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <list>

void printList(const list<int>& L) {

	for (list<int>::const_iterator it = L.begin(); it != L.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

//æ’å…¥å’Œåˆ é™¤
void test01()
{
	list<int> L;
	//å°¾æ’
	L.push_back(10);
	L.push_back(20);
	L.push_back(30);
	//å¤´æ’
	L.push_front(100);
	L.push_front(200);
	L.push_front(300);

	printList(L);

	//å°¾åˆ 
	L.pop_back();
	printList(L);

	//å¤´åˆ 
	L.pop_front();
	printList(L);

	//æ’å…¥
	list<int>::iterator it = L.begin();
	L.insert(++it, 1000);  //è¿­ä»£å™¨ç§»åŠ¨
	printList(L);

	//åˆ é™¤
	it = L.begin();
	L.erase(++it);
	printList(L);

	//ç§»é™¤
	L.push_back(10000);
	L.push_back(10000);
	L.push_back(10000);
	printList(L);
	L.remove(10000);
	printList(L);
    
    //æ¸…ç©º
	L.clear();
	printList(L);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å°¾æ’   --- push_back
* å°¾åˆ    --- pop_back
* å¤´æ’   --- push_front
* å¤´åˆ    --- pop_front
* æ’å…¥   --- insert
* åˆ é™¤   --- erase
* ç§»é™¤   --- remove
* æ¸…ç©º   --- clear

















#### â—ï¸3.7.6 list æ•°æ®å­˜å–

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹listå®¹å™¨ä¸­æ•°æ®è¿›è¡Œå­˜å–



 â—ï¸ä¸æ”¯æŒ atã€[] æ¥å­˜å–å…ƒç´ ï¼Œå› ä¸ºlistå­˜å‚¨æ–¹å¼ä¸æ˜¯è¿ç»­ç©ºé—´ï¼Œè¿­ä»£å™¨ä¹Ÿä¸æ”¯æŒéšæœºè®¿é—®ï¼Œä¸ºåŒå‘è¿­ä»£å™¨

 **å‡½æ•°åŸå‹ï¼š**

* `front();`        //è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
* `back();`         //è¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <list>

//æ•°æ®å­˜å–
void test01()
{
	list<int>L1;
	L1.push_back(10);
	L1.push_back(20);
	L1.push_back(30);
	L1.push_back(40);

	
	//cout << L1.at(0) << endl;//é”™è¯¯ ä¸æ”¯æŒatè®¿é—®æ•°æ®
	//cout << L1[0] << endl; //é”™è¯¯  ä¸æ”¯æŒ[]æ–¹å¼è®¿é—®æ•°æ®
	cout << "ç¬¬ä¸€ä¸ªå…ƒç´ ä¸ºï¼š " << L1.front() << endl;
	cout << "æœ€åä¸€ä¸ªå…ƒç´ ä¸ºï¼š " << L1.back() << endl;

	//listå®¹å™¨çš„è¿­ä»£å™¨æ˜¯åŒå‘è¿­ä»£å™¨ï¼Œä¸æ”¯æŒéšæœºè®¿é—®
	list<int>::iterator it = L1.begin();
  it++; //æ”¯æŒåŒå‘
  it--;
	//it = it + 1;//é”™è¯¯ï¼Œä¸å¯ä»¥è·³è·ƒè®¿é—®ï¼Œå³ä½¿æ˜¯+1ï¼Œ-1
}

int main() {

	test01();

	system("pause");

	return 0;
}

```

æ€»ç»“ï¼š

* listå®¹å™¨ä¸­ä¸å¯ä»¥é€šè¿‡[]æˆ–è€…atæ–¹å¼è®¿é—®æ•°æ®
* è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´    --- front
* è¿”å›æœ€åä¸€ä¸ªå…ƒç´    --- back











#### â€¼ï¸3.7.7 list åè½¬å’Œæ’åº

**åŠŸèƒ½æè¿°ï¼š**

* å°†å®¹å™¨ä¸­çš„å…ƒç´ åè½¬ï¼Œä»¥åŠå°†å®¹å™¨ä¸­çš„æ•°æ®è¿›è¡Œæ’åº



**å‡½æ•°åŸå‹ï¼š**

* `reverse();`   	//åè½¬é“¾è¡¨
* `sort();`             //é“¾è¡¨æ’åº

â—ï¸æ‰€æœ‰ä¸æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨çš„å®¹å™¨ï¼Œä¸å¯ä»¥ç”¨æ ‡å‡†ç®—æ³•

ä¸æ”¯æŒéšæœºè®¿é—®è¿­ä»£å™¨çš„å®¹å™¨ï¼Œå†…éƒ¨ä¼šæä¾›ä¸€äº›ç®—æ³•ï¼Œæˆå‘˜å‡½æ•°



**ç¤ºä¾‹ï¼š**

```C++
void printList(const list<int>& L) {

	for (list<int>::const_iterator it = L.begin(); it != L.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

bool myCompare(int val1 , int val2)
{
	return val1 > val2;
}

//åè½¬å’Œæ’åº
void test01()
{
	list<int> L;
	L.push_back(90);
	L.push_back(30);
	L.push_back(20);
	L.push_back(70);
	printList(L);

	//åè½¬å®¹å™¨çš„å…ƒç´ 
	L.reverse();
	printList(L);

	//ğŸŸ¥æ’åº
	L.sort(); //é»˜è®¤çš„æ’åºè§„åˆ™ ä»å°åˆ°å¤§
	printList(L);

	L.sort(myCompare); //ğŸŸ¥æŒ‡å®šè§„åˆ™ï¼Œä»å¤§åˆ°å°ï¼Œ		æŠŠå‡½æ•°åæ”¾è¿›å»
	printList(L);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* åè½¬   --- reverse
* æ’åº   --- sort ï¼ˆæˆå‘˜å‡½æ•°ï¼‰











#### 3.7.8 æ’åºæ¡ˆä¾‹

æ¡ˆä¾‹æè¿°ï¼šå°†Personè‡ªå®šä¹‰æ•°æ®ç±»å‹è¿›è¡Œæ’åºï¼ŒPersonä¸­å±æ€§æœ‰å§“åã€å¹´é¾„ã€èº«é«˜

æ’åºè§„åˆ™ï¼šæŒ‰ç…§å¹´é¾„è¿›è¡Œå‡åºï¼Œå¦‚æœå¹´é¾„ç›¸åŒæŒ‰ç…§èº«é«˜è¿›è¡Œé™åº



**ç¤ºä¾‹ï¼š**

```C++
#include <list>
#include <string>
class Person {
public:
	Person(string name, int age , int height) {
		m_Name = name;
		m_Age = age;
		m_Height = height;
	}

public:
	string m_Name;  //å§“å
	int m_Age;      //å¹´é¾„
	int m_Height;   //èº«é«˜
};

//â­ï¸æ’åºè§„åˆ™
bool ComparePerson(Person& p1, Person& p2)
{
	if (p1.m_Age == p2.m_Age) 
  {
		return p1.m_Height  > p2.m_Height;
	}
	else
	{
		return  p1.m_Age < p2.m_Age;
	}

}

void test01() {

	list<Person> L;

	Person p1("åˆ˜å¤‡", 35 , 175);
	Person p2("æ›¹æ“", 45 , 180);
	Person p3("å­™æƒ", 40 , 170);
	Person p4("èµµäº‘", 25 , 190);
	Person p5("å¼ é£", 35 , 160);
	Person p6("å…³ç¾½", 35 , 200);

	L.push_back(p1);
	L.push_back(p2);
	L.push_back(p3);
	L.push_back(p4);
	L.push_back(p5);
	L.push_back(p6);

	for (list<Person>::iterator it = L.begin(); it != L.end(); it++) {
		cout << "å§“åï¼š " << it->m_Name << " å¹´é¾„ï¼š " << it->m_Age 
              << " èº«é«˜ï¼š " << it->m_Height << endl;
	}

	cout << "---------------------------------" << endl;
	L.sort(ComparePerson); //æ’åºï¼Œæ’åºè‡ªå®šä¹‰æ•°æ®ç±»å‹çš„æ—¶å€™ï¼Œè¦åˆ¶å®šæ’åºè§„åˆ™ï¼Œå†™å›è°ƒå‡½æ•°æˆ–è€…ä»¿å‡½æ•°

	for (list<Person>::iterator it = L.begin(); it != L.end(); it++) {
		cout << "å§“åï¼š " << it->m_Name << " å¹´é¾„ï¼š " << it->m_Age 
              << " èº«é«˜ï¼š " << it->m_Height << endl;
	}
}

int main() {

	test01();

	system("pause");

	return 0;
}
```



æ€»ç»“ï¼š

* å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œå¿…é¡»è¦æŒ‡å®šæ’åºè§„åˆ™ï¼Œå¦åˆ™ç¼–è¯‘å™¨ä¸çŸ¥é“å¦‚ä½•è¿›è¡Œæ’åº


* **é«˜çº§æ’åºåªæ˜¯åœ¨æ’åºè§„åˆ™ä¸Šå†è¿›è¡Œä¸€æ¬¡é€»è¾‘è§„åˆ™åˆ¶å®šï¼Œå¹¶ä¸å¤æ‚**



















### 3.8 set/ multiset å®¹å™¨

#### 3.8.1 setåŸºæœ¬æ¦‚å¿µ

**ç®€ä»‹ï¼š**

* æ‰€æœ‰å…ƒç´ éƒ½ä¼š**åœ¨æ’å…¥æ—¶è‡ªåŠ¨è¢«æ’åº**

**æœ¬è´¨ï¼š**

* set/multisetå±äº**å…³è”å¼å®¹å™¨**ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨**çº¢é»‘æ ‘**å®ç°ã€‚

  ï¼ˆäºŒå‰æ ‘æ˜¯ä¸€ç§åŸºæœ¬çš„æ ‘ç»“æ„ï¼Œè€Œçº¢é»‘æ ‘æ˜¯åœ¨äºŒå‰æ ‘çš„åŸºç¡€ä¸Šå¢åŠ äº†è‡ªå¹³è¡¡æ€§çš„ä¸€ç§ç‰¹æ®Šå½¢å¼ã€‚çº¢é»‘æ ‘é€šè¿‡ç‰¹å®šçš„è§„åˆ™ä¿æŒæ ‘çš„å¹³è¡¡ï¼Œä»è€Œæä¾›äº†æ›´é«˜æ•ˆçš„æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œã€‚ï¼‰



**setå’ŒmultisetåŒºåˆ«**ï¼š

* set**ä¸å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ **
* multiset**å…è®¸å®¹å™¨ä¸­æœ‰é‡å¤çš„å…ƒç´ **





#### 3.8.2 setæ„é€ å’Œèµ‹å€¼

åŠŸèƒ½æè¿°ï¼šåˆ›å»ºsetå®¹å™¨ä»¥åŠèµ‹å€¼



æ„é€ ï¼š

* `set<T> st;`                        //é»˜è®¤æ„é€ å‡½æ•°ï¼š
* `set(const set &st);`       //æ‹·è´æ„é€ å‡½æ•°

èµ‹å€¼ï¼š

* `set& operator=(const set &st);`    //é‡è½½ç­‰å·æ“ä½œç¬¦



**ç¤ºä¾‹ï¼š**

```C++
#include <set>

void printSet(set<int> & s)
{
	for (set<int>::iterator it = s.begin(); it != s.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
}

//æ„é€ å’Œèµ‹å€¼
void test01()
{
	set<int> s1;

	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);
	printSet(s1);

	//æ‹·è´æ„é€ 
	set<int>s2(s1);
	printSet(s2);

	//èµ‹å€¼
	set<int>s3;
	s3 = s2;
	printSet(s3);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* setå®¹å™¨**æ’å…¥æ•°æ®æ—¶ç”¨insert**
* setå®¹å™¨**æ’å…¥æ•°æ®çš„æ•°æ®ä¼šè‡ªåŠ¨æ’åº**
* setå®¹å™¨ä¸å…è®¸æ’å…¥é‡å¤çš„å€¼ï¼Œå³ä½¿æ’äº†ï¼Œä¸æŠ¥é”™ï¼Œä½†æ˜¯ä¸æˆåŠŸ











#### 3.8.3 setå¤§å°å’Œäº¤æ¢

**åŠŸèƒ½æè¿°ï¼š**

* ç»Ÿè®¡setå®¹å™¨å¤§å°ä»¥åŠäº¤æ¢setå®¹å™¨



**å‡½æ•°åŸå‹ï¼š**

* `size();`          //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®
* `empty();`        //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º
* `swap(st);`      //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨



**ç¤ºä¾‹ï¼š**

```C++
#include <set>

void printSet(set<int> & s)
{
	for (set<int>::iterator it = s.begin(); it != s.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
}

//å¤§å°
void test01()
{

	set<int> s1;
	
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);

	if (s1.empty())
	{
		cout << "s1ä¸ºç©º" << endl;
	}
	else
	{
		cout << "s1ä¸ä¸ºç©º" << endl;
		cout << "s1çš„å¤§å°ä¸ºï¼š " << s1.size() << endl;
	}

}

//äº¤æ¢
void test02()
{
	set<int> s1;

	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);

	set<int> s2;

	s2.insert(100);
	s2.insert(300);
	s2.insert(200);
	s2.insert(400);

	cout << "äº¤æ¢å‰" << endl;
	printSet(s1);
	printSet(s2);
	cout << endl;

	cout << "äº¤æ¢å" << endl;
	s1.swap(s2);
	printSet(s1);
	printSet(s2);
}

int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* ç»Ÿè®¡å¤§å°   --- size
* åˆ¤æ–­æ˜¯å¦ä¸ºç©º   --- empty
* äº¤æ¢å®¹å™¨   --- swap

















#### 3.8.4 setæ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

* setå®¹å™¨è¿›è¡Œæ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®





**å‡½æ•°åŸå‹ï¼š**

* `insert(elem);`           //åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚
* `clear();`                    //æ¸…é™¤æ‰€æœ‰å…ƒç´ 
* `erase(pos);`              //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚
* `erase(beg, end);`    //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚
* `erase(elem);`            //åˆ é™¤å®¹å™¨ä¸­å€¼ä¸ºelemçš„å…ƒç´ ã€‚





**ç¤ºä¾‹ï¼š**

```C++
#include <set>

void printSet(set<int> & s)
{
	for (set<int>::iterator it = s.begin(); it != s.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
}

//æ’å…¥å’Œåˆ é™¤
void test01()
{
	set<int> s1;
	//æ’å…¥
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);
	printSet(s1);

	//åˆ é™¤
	s1.erase(s1.begin());
	printSet(s1);

	s1.erase(30);
	printSet(s1);

	//æ¸…ç©º
	//s1.erase(s1.begin(), s1.end());
	s1.clear();
	printSet(s1);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* æ’å…¥   --- insert
* åˆ é™¤   --- erase
* æ¸…ç©º   --- clear











#### 3.8.5 setæŸ¥æ‰¾å’Œç»Ÿè®¡

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹setå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®



**å‡½æ•°åŸå‹ï¼š**

* `find(key);`      //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œ**è¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨**ï¼›**è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›`set.end()`**;
* `count(key);`     //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°ï¼Œï¼ˆå¯¹setå®¹å™¨è€Œè¨€ï¼Œç»“æœä¸º0æˆ–è€…1ï¼‰





**ç¤ºä¾‹ï¼š**

```C++
#include <set>

//æŸ¥æ‰¾å’Œç»Ÿè®¡
void test01()
{
	set<int> s1;
	//æ’å…¥
	s1.insert(10);
	s1.insert(30);
	s1.insert(20);
	s1.insert(40);
	
	//æŸ¥æ‰¾
	set<int>::iterator pos = s1.find(30);
	// åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°
	if (pos != s1.end())
	{
		cout << "æ‰¾åˆ°äº†å…ƒç´  ï¼š " << *pos << endl;
	}
	else
	{
		cout << "æœªæ‰¾åˆ°å…ƒç´ " << endl;
	}

	//ç»Ÿè®¡
	int num = s1.count(30);
	cout << "num = " << num << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* æŸ¥æ‰¾   ---  find    ï¼ˆ**è¿”å›çš„æ˜¯è¿­ä»£å™¨**ï¼‰
* ç»Ÿè®¡   ---  count  ï¼ˆå¯¹äºsetï¼Œç»“æœä¸º0æˆ–è€…1ï¼‰

















#### 3.8.6 setå’ŒmultisetåŒºåˆ«

**å­¦ä¹ ç›®æ ‡ï¼š**

* æŒæ¡setå’Œmultisetçš„åŒºåˆ«



**åŒºåˆ«ï¼š**

* setä¸å¯ä»¥æ’å…¥é‡å¤æ•°æ®ï¼Œè€Œmultisetå¯ä»¥
* **setæ’å…¥æ•°æ®çš„åŒæ—¶ä¼šè¿”å›æ’å…¥ç»“æœï¼Œè¡¨ç¤ºæ’å…¥æ˜¯å¦æˆåŠŸ**
* multisetä¸ä¼šæ£€æµ‹æ•°æ®ï¼Œå› æ­¤å¯ä»¥æ’å…¥é‡å¤æ•°æ®





**ç¤ºä¾‹ï¼š**

```C++
#include <set>

//setå’ŒmultisetåŒºåˆ«
void test01()
{
	set<int> s;
 
	pair<set<int>::iterator, bool>  ret = s.insert(10);
	if (ret.second) {
		cout << "ç¬¬ä¸€æ¬¡æ’å…¥æˆåŠŸ!" << endl;
	}
	else {
		cout << "ç¬¬ä¸€æ¬¡æ’å…¥å¤±è´¥!" << endl;
	}

	ret = s.insert(10);
	if (ret.second) {
		cout << "ç¬¬äºŒæ¬¡æ’å…¥æˆåŠŸ!" << endl;
	}
	else {
		cout << "ç¬¬äºŒæ¬¡æ’å…¥å¤±è´¥!" << endl;
	}
    
	//multiset
	multiset<int> ms;
	ms.insert(10);
	ms.insert(10);

	for (multiset<int>::iterator it = ms.begin(); it != ms.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å¦‚æœä¸å…è®¸æ’å…¥é‡å¤æ•°æ®å¯ä»¥åˆ©ç”¨set
* å¦‚æœéœ€è¦æ’å…¥é‡å¤æ•°æ®åˆ©ç”¨multiset











#### â•3.8.7 pairå¯¹ç»„åˆ›å»º

**åŠŸèƒ½æè¿°ï¼š**

* æˆå¯¹å‡ºç°çš„æ•°æ®ï¼Œ**åˆ©ç”¨å¯¹ç»„å¯ä»¥è¿”å›ä¸¤ä¸ªæ•°æ®**

**ä¸¤ç§åˆ›å»ºæ–¹å¼ï¼š**

* `pair<type, type> p ( value1, value2 );`
* `pair<type, type> p = make_pair( value1, value2 );`





**ç¤ºä¾‹ï¼š**

```C++
#include <string>

//å¯¹ç»„åˆ›å»º
void test01()
{
	pair<string, int> p(string("Tom"), 20);
	cout << "å§“åï¼š " <<  p.first << " å¹´é¾„ï¼š " << p.second << endl;  // p.first p.second

	pair<string, int> p2 = make_pair("Jerry", 10);
	cout << "å§“åï¼š " << p2.first << " å¹´é¾„ï¼š " << p2.second << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥åˆ›å»ºå¯¹ç»„ï¼Œè®°ä½ä¸€ç§å³å¯













#### â—ï¸3.8.8 setå®¹å™¨æ’åº

å­¦ä¹ ç›®æ ‡ï¼š

* setå®¹å™¨é»˜è®¤æ’åºè§„åˆ™ä¸ºä»å°åˆ°å¤§ï¼ŒæŒæ¡å¦‚ä½•æ”¹å˜æ’åºè§„åˆ™



ä¸»è¦æŠ€æœ¯ç‚¹ï¼š

* åˆ©ç”¨**ä»¿å‡½æ•°**ï¼Œå¯ä»¥æ”¹å˜æ’åºè§„åˆ™

ä»¿å‡½æ•°æœ¬è´¨æ˜¯ä¸€ä¸ªç±»å‹



**ç¤ºä¾‹ä¸€**   setå­˜æ”¾å†…ç½®æ•°æ®ç±»å‹

```C++
#include <set>

// ç±»å†…é‡è½½ï¼ˆï¼‰ï¼Œè¿”å›å€¼ boolç±»å‹
class MyCompare 
{
public:
	bool operator()(int v1, int v2) {
		return v1 > v2;
	}
};

void test01() 
{    
	set<int> s1;
	s1.insert(10);
	s1.insert(40);
	s1.insert(20);
	s1.insert(30);
	s1.insert(50);

	//é»˜è®¤ä»å°åˆ°å¤§
	for (set<int>::iterator it = s1.begin(); it != s1.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;

	//æŒ‡å®šæ’åºè§„åˆ™ï¼Œåœ¨æ•°æ®æ²¡æ’å…¥ä¹‹å‰ï¼Œåˆ›å»ºsetæ—¶æŒ‡å®šæ’åºè§„åˆ™
	set<int,MyCompare> s2;  // æŠŠ MyCompare ç±»å‹æ”¾è¿›æ¥ï¼Œæ¨¡æ¿å‚æ•°åˆ—è¡¨ä¸­è¦æ”¾æ•°æ®ç±»å‹
	s2.insert(10);
	s2.insert(40);
	s2.insert(20);
	s2.insert(30);
	s2.insert(50);
 // ä¸“å±çš„è¿­ä»£å™¨ set<int, MyCompare>::iterator 
	for (set<int, MyCompare>::iterator it = s2.begin(); it != s2.end(); it++)   
  {
		cout << *it << " ";
	}
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šåˆ©ç”¨ä»¿å‡½æ•°å¯ä»¥æŒ‡å®šsetå®¹å™¨çš„æ’åºè§„åˆ™



**ç¤ºä¾‹äºŒ** setå­˜æ”¾è‡ªå®šä¹‰æ•°æ®ç±»å‹

```C++
#include <set>
#include <string>

class Person
{
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}

	string m_Name;
	int m_Age;
};

// ä»¿å‡½æ•°
class comparePerson
{
public:
	bool operator()(const Person& p1, const Person &p2)   // 
	{
		//æŒ‰ç…§å¹´é¾„è¿›è¡Œæ’åº  é™åº
		return p1.m_Age > p2.m_Age;
	}
};

void test01()
{
	set<Person, comparePerson> s;

	Person p1("åˆ˜å¤‡", 23);
	Person p2("å…³ç¾½", 27);
	Person p3("å¼ é£", 25);
	Person p4("èµµäº‘", 21);

	s.insert(p1);
	s.insert(p2);
	s.insert(p3);
	s.insert(p4);

	for (set<Person, comparePerson>::iterator it = s.begin(); it != s.end(); it++)
	{
		cout << "å§“åï¼š " << it->m_Name << " å¹´é¾„ï¼š " << it->m_Age << endl;
	}
}
int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

**å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œsetå¿…é¡»æŒ‡å®šæ’åºè§„åˆ™æ‰å¯ä»¥æ’å…¥æ•°æ®**











### 3.9 map/ multimapå®¹å™¨

#### â€¼ï¸3.9.1 mapåŸºæœ¬æ¦‚å¿µ

**ç®€ä»‹ï¼š**

* mapä¸­æ‰€æœ‰å…ƒç´ éƒ½pair
* pairä¸­ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º**keyï¼ˆé”®å€¼ï¼‰**ï¼Œ**èµ·åˆ°ç´¢å¼•ä½œç”¨**ï¼Œç¬¬äºŒä¸ªå…ƒç´ ä¸ºvalueï¼ˆå®å€¼ï¼‰
* æ‰€æœ‰å…ƒç´ éƒ½ä¼š**æ ¹æ®å…ƒç´ çš„é”®å€¼è‡ªåŠ¨æ’åº**

**æœ¬è´¨ï¼š**

* map/multimapå±äº**å…³è”å¼å®¹å™¨**ï¼Œåº•å±‚ç»“æ„æ˜¯ç”¨**çº¢é»‘æ ‘**å®ç°ã€‚



**ä¼˜ç‚¹ï¼š**

* **å¯ä»¥æ ¹æ®keyå€¼å¿«é€Ÿæ‰¾åˆ°valueå€¼**

mapå’Œmultimap**åŒºåˆ«**ï¼š

- mapä¸å…è®¸å®¹å™¨ä¸­**æœ‰é‡å¤keyå€¼å…ƒç´ **
- multimapå…è®¸å®¹å™¨ä¸­æœ‰é‡å¤keyå€¼å…ƒç´ 




#### 3.9.2  mapæ„é€ å’Œèµ‹å€¼

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹mapå®¹å™¨è¿›è¡Œæ„é€ å’Œèµ‹å€¼æ“ä½œ

**å‡½æ•°åŸå‹ï¼š**

**æ„é€ ï¼š**

* `map<T1, T2> mp;`                     //mapé»˜è®¤æ„é€ å‡½æ•°: 
* `map(const map &mp);`             //æ‹·è´æ„é€ å‡½æ•°



**èµ‹å€¼ï¼š**

* `map& operator=(const map &mp);`    //é‡è½½ç­‰å·æ“ä½œç¬¦



**ç¤ºä¾‹ï¼š**

```C++
#include <map>

void printMap(map<int,int>&m)
{
	for (map<int, int>::iterator it = m.begin(); it != m.end(); it++)
	{
		cout << "key = " << (*it).first << " value = " << it->second << endl;
	}
	cout << endl;
}

void test01()
{
	map<int,int>m; //é»˜è®¤æ„é€ 
	m.insert(pair<int, int>(1, 10)); // pair<int, int>(1, 10) åŒ¿åå¯¹ç»„, æ’å…¥çš„æ˜¯å¯¹ç»„
	m.insert(pair<int, int>(2, 20));
	m.insert(pair<int, int>(3, 30));
	printMap(m);

	map<int, int>m2(m); //æ‹·è´æ„é€ 
	printMap(m2);

	map<int, int>m3;
	m3 = m2; //èµ‹å€¼
	printMap(m3);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šmapä¸­æ‰€æœ‰å…ƒç´ éƒ½æ˜¯æˆå¯¹å‡ºç°ï¼Œ**æ’å…¥æ•°æ®æ—¶å€™è¦ä½¿ç”¨å¯¹ç»„**











#### 3.9.3 mapå¤§å°å’Œäº¤æ¢

**åŠŸèƒ½æè¿°ï¼š**

* ç»Ÿè®¡mapå®¹å™¨å¤§å°ä»¥åŠäº¤æ¢mapå®¹å™¨

å‡½æ•°åŸå‹ï¼š

- `size();`          //è¿”å›å®¹å™¨ä¸­å…ƒç´ çš„æ•°ç›®
- `empty();`        //åˆ¤æ–­å®¹å™¨æ˜¯å¦ä¸ºç©º
- `swap(st);`      //äº¤æ¢ä¸¤ä¸ªé›†åˆå®¹å™¨





**ç¤ºä¾‹ï¼š**

```C++
#include <map>

void printMap(map<int,int>&m)
{
	for (map<int, int>::iterator it = m.begin(); it != m.end(); it++)
	{
		cout << "key = " << it->first << " value = " << it->second << endl; //first second
	}
	cout << endl;
}

void test01()
{
	map<int, int>m;
	m.insert(pair<int, int>(1, 10));
	m.insert(pair<int, int>(2, 20));
	m.insert(pair<int, int>(3, 30));

	if (m.empty())
	{
		cout << "mä¸ºç©º" << endl;
	}
	else
	{
		cout << "mä¸ä¸ºç©º" << endl;
		cout << "mçš„å¤§å°ä¸ºï¼š " << m.size() << endl;
	}
}


//äº¤æ¢
void test02()
{
	map<int, int>m;
	m.insert(pair<int, int>(1, 10));
	m.insert(pair<int, int>(2, 20));
	m.insert(pair<int, int>(3, 30));

	map<int, int>m2;
	m2.insert(pair<int, int>(4, 100));
	m2.insert(pair<int, int>(5, 200));
	m2.insert(pair<int, int>(6, 300));

	cout << "äº¤æ¢å‰" << endl;
	printMap(m);
	printMap(m2);

	cout << "äº¤æ¢å" << endl;
	m.swap(m2);
	printMap(m);
	printMap(m2);
}

int main() {

	test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

- ç»Ÿè®¡å¤§å°   --- size
- åˆ¤æ–­æ˜¯å¦ä¸ºç©º   --- empty
- äº¤æ¢å®¹å™¨   --- swap











#### â—ï¸3.9.4 mapæ’å…¥å’Œåˆ é™¤

**åŠŸèƒ½æè¿°ï¼š**

- mapå®¹å™¨è¿›è¡Œæ’å…¥æ•°æ®å’Œåˆ é™¤æ•°æ®





**å‡½æ•°åŸå‹ï¼š**

- `insert(elem);`           **//åœ¨å®¹å™¨ä¸­æ’å…¥å…ƒç´ ã€‚**
- `clear();`                    //æ¸…é™¤æ‰€æœ‰å…ƒç´ 
- `erase(pos);`              //åˆ é™¤posè¿­ä»£å™¨æ‰€æŒ‡çš„å…ƒç´ ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚
- `erase(beg, end);`    //åˆ é™¤åŒºé—´[beg,end)çš„æ‰€æœ‰å…ƒç´  ï¼Œè¿”å›ä¸‹ä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨ã€‚
- `erase(key);`            //åˆ é™¤å®¹å™¨ä¸­**å€¼ä¸ºkeyçš„å…ƒç´ ã€‚**



**ç¤ºä¾‹ï¼š**

```C++
#include <map>

void printMap(map<int,int>&m)
{
	for (map<int, int>::iterator it = m.begin(); it != m.end(); it++)
	{
		cout << "key = " << it->first << " value = " << it->second << endl;
	}
	cout << endl;
}

void test01()
{
	// ğŸŸ¥ æ’å…¥
	map<int, int> m;
	//ç¬¬ä¸€ç§æ’å…¥æ–¹å¼
	m.insert(pair<int, int>(1, 10));
	//ç¬¬äºŒç§æ’å…¥æ–¹å¼
	m.insert(make_pair(2, 20));
	//ç¬¬ä¸‰ç§æ’å…¥æ–¹å¼
	//m.insert(map<int, int>::value_type(3, 30));
	//ç¬¬å››ç§æ’å…¥æ–¹å¼ (ä¸å»ºè®®å»æ’å…¥ï¼Œå¯ä»¥ç”¨key è®¿é—®value)
	m[4] = 40; 
  cout<< m[4] <<endl;
  printMap(m);

	//åˆ é™¤
	m.erase(m.begin());
	printMap(m);

	m.erase(3);
	printMap(m);

	//æ¸…ç©º
	m.erase(m.begin(),m.end());
	m.clear();
	printMap(m);
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* mapæ’å…¥æ–¹å¼å¾ˆå¤šï¼Œè®°ä½å…¶ä¸€å³å¯

- æ’å…¥   --- insert 
- åˆ é™¤   --- erase
- æ¸…ç©º   --- clear













#### 3.9.5 mapæŸ¥æ‰¾å’Œç»Ÿè®¡

**åŠŸèƒ½æè¿°ï¼š**

- å¯¹mapå®¹å™¨è¿›è¡ŒæŸ¥æ‰¾æ•°æ®ä»¥åŠç»Ÿè®¡æ•°æ®



**å‡½æ•°åŸå‹ï¼š**

- `find(key);`                  //æŸ¥æ‰¾keyæ˜¯å¦å­˜åœ¨,è‹¥å­˜åœ¨ï¼Œ**è¿”å›è¯¥é”®çš„å…ƒç´ çš„è¿­ä»£å™¨**ï¼›**è‹¥ä¸å­˜åœ¨ï¼Œè¿”å›set.end();**
- `count(key);`                //ç»Ÿè®¡keyçš„å…ƒç´ ä¸ªæ•°



**ç¤ºä¾‹ï¼š**

```C++
#include <map>

//æŸ¥æ‰¾å’Œç»Ÿè®¡
void test01()
{
	map<int, int>m; 
	m.insert(pair<int, int>(1, 10));
	m.insert(pair<int, int>(2, 20));
	m.insert(pair<int, int>(3, 30));

	//æŸ¥æ‰¾
	map<int, int>::iterator pos = m.find(3);

	if (pos != m.end())
	{
    // pos æœ¬èº«æ˜¯è¿­ä»£å™¨ï¼Œ
		cout << "æ‰¾åˆ°äº†å…ƒç´  key = " << (*pos).first << " value = " << pos->second << endl;
	}
	else
	{
		cout << "æœªæ‰¾åˆ°å…ƒç´ " << endl;
	}

	//ç»Ÿè®¡
	int num = m.count(3);
	cout << "num = " << num << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

- æŸ¥æ‰¾   ---  find    ï¼ˆè¿”å›çš„æ˜¯è¿­ä»£å™¨ï¼‰
- ç»Ÿè®¡   ---  count  ï¼ˆå¯¹äºmapï¼Œç»“æœä¸º0æˆ–è€…1ï¼‰















#### 3.9.6 mapå®¹å™¨æ’åº

**å­¦ä¹ ç›®æ ‡ï¼š**

- mapå®¹å™¨é»˜è®¤æ’åºè§„åˆ™ä¸º æŒ‰ç…§keyå€¼è¿›è¡Œ ä»å°åˆ°å¤§æ’åºï¼ŒæŒæ¡å¦‚ä½•æ”¹å˜æ’åºè§„åˆ™

**ä¸»è¦æŠ€æœ¯ç‚¹:**

- åˆ©ç”¨**ä»¿å‡½æ•°**ï¼Œå¯ä»¥æ”¹å˜æ’åºè§„åˆ™





**ç¤ºä¾‹ï¼š**

```C++
#include <map>

class MyCompare {
public:
	bool operator()(int v1, int v2) {
		return v1 > v2;
	}
};

void test01() 
{
	//é»˜è®¤ä»å°åˆ°å¤§æ’åº
	//åˆ©ç”¨ä»¿å‡½æ•°å®ç°ä»å¤§åˆ°å°æ’åº
	map<int, int, MyCompare> m;

	m.insert(make_pair(1, 10));
	m.insert(make_pair(2, 20));
	m.insert(make_pair(3, 30));
	m.insert(make_pair(4, 40));
	m.insert(make_pair(5, 50));

	for (map<int, int, MyCompare>::iterator it = m.begin(); it != m.end(); it++) {
		cout << "key:" << it->first << " value:" << it->second << endl;
	}
}
int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* åˆ©ç”¨ä»¿å‡½æ•°å¯ä»¥æŒ‡å®šmapå®¹å™¨çš„æ’åºè§„åˆ™
* å¯¹äºè‡ªå®šä¹‰æ•°æ®ç±»å‹ï¼Œmapå¿…é¡»è¦æŒ‡å®šæ’åºè§„åˆ™,åŒsetå®¹å™¨













### 3.10 æ¡ˆä¾‹-å‘˜å·¥åˆ†ç»„

#### 3.10.1 æ¡ˆä¾‹æè¿°

* å…¬å¸ä»Šå¤©æ‹›è˜äº†10ä¸ªå‘˜å·¥ï¼ˆABCDEFGHIJï¼‰ï¼Œ10åå‘˜å·¥è¿›å…¥å…¬å¸ä¹‹åï¼Œéœ€è¦æŒ‡æ´¾å‘˜å·¥åœ¨é‚£ä¸ªéƒ¨é—¨å·¥ä½œ
* å‘˜å·¥ä¿¡æ¯æœ‰: å§“å  å·¥èµ„ç»„æˆï¼›éƒ¨é—¨åˆ†ä¸ºï¼šç­–åˆ’ã€ç¾æœ¯ã€ç ”å‘
* éšæœºç»™10åå‘˜å·¥åˆ†é…éƒ¨é—¨å’Œå·¥èµ„
* é€šè¿‡multimapè¿›è¡Œä¿¡æ¯çš„æ’å…¥  key(éƒ¨é—¨ç¼–å·) value(å‘˜å·¥)
* åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯





#### â•3.10.2 å®ç°æ­¥éª¤

1. åˆ›å»º10åå‘˜å·¥ï¼Œæ”¾åˆ°vectorä¸­
2. éå†vectorå®¹å™¨ï¼Œå–å‡ºæ¯ä¸ªå‘˜å·¥ï¼Œè¿›è¡Œéšæœºåˆ†ç»„
3. åˆ†ç»„åï¼Œå°†å‘˜å·¥éƒ¨é—¨ç¼–å·ä½œä¸ºkeyï¼Œå…·ä½“å‘˜å·¥ä½œä¸ºvalueï¼Œæ”¾å…¥åˆ°multimapå®¹å™¨ä¸­
4. åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯





**æ¡ˆä¾‹ä»£ç ï¼š**

```C++
#include<iostream>
using namespace std;
#include <vector>
#include <string>
#include <map>
#include <ctime>

/*
- å…¬å¸ä»Šå¤©æ‹›è˜äº†10ä¸ªå‘˜å·¥ï¼ˆABCDEFGHIJï¼‰ï¼Œ10åå‘˜å·¥è¿›å…¥å…¬å¸ä¹‹åï¼Œéœ€è¦æŒ‡æ´¾å‘˜å·¥åœ¨é‚£ä¸ªéƒ¨é—¨å·¥ä½œ
- å‘˜å·¥ä¿¡æ¯æœ‰: å§“å  å·¥èµ„ç»„æˆï¼›éƒ¨é—¨åˆ†ä¸ºï¼šç­–åˆ’ã€ç¾æœ¯ã€ç ”å‘
- éšæœºç»™10åå‘˜å·¥åˆ†é…éƒ¨é—¨å’Œå·¥èµ„
- é€šè¿‡multimapè¿›è¡Œä¿¡æ¯çš„æ’å…¥  key(éƒ¨é—¨ç¼–å·) value(å‘˜å·¥)
- åˆ†éƒ¨é—¨æ˜¾ç¤ºå‘˜å·¥ä¿¡æ¯
*/

#define CEHUA  0
#define MEISHU 1
#define YANFA  2

class Worker
{
public:
	string m_Name;
	int m_Salary;
};

void createWorker(vector<Worker>&v)
{
	string nameSeed = "ABCDEFGHIJ";
	for (int i = 0; i < 10; i++)
	{
		Worker worker;
		worker.m_Name = "å‘˜å·¥";
		worker.m_Name += nameSeed[i];

		worker.m_Salary = rand() % 10000 + 10000; // 10000 ~ 19999
		//å°†å‘˜å·¥æ”¾å…¥åˆ°å®¹å™¨ä¸­
		v.push_back(worker);
	}
}

//å‘˜å·¥åˆ†ç»„
void setGroup(vector<Worker>&v,multimap<int,Worker>&m)
{
	for (vector<Worker>::iterator it = v.begin(); it != v.end(); it++)
	{
		//äº§ç”Ÿéšæœºéƒ¨é—¨ç¼–å·
		int deptId = rand() % 3; // 0 1 2 

		//å°†å‘˜å·¥æ’å…¥åˆ°åˆ†ç»„ä¸­
		//keyéƒ¨é—¨ç¼–å·ï¼Œvalueå…·ä½“å‘˜å·¥     it æ˜¯è¿­ä»£å™¨ï¼Œ*it å°±æ˜¯åˆ›å»ºçš„worker
		m.insert(make_pair(deptId, *it));
	}
}

void showWorkerByGourp(multimap<int,Worker>&m)
{
	// 0  A  B  C   1  D  E   2  F G ...
	cout << "ç­–åˆ’éƒ¨é—¨ï¼š" << endl;

	multimap<int,Worker>::iterator pos = m.find(CEHUA);
	int count = m.count(CEHUA); // ç»Ÿè®¡å…·ä½“äººæ•°
	int index = 0;
	for (; pos != m.end() && index < count; pos++ , index++)
	{
		cout << "å§“åï¼š " << pos->second.m_Name << " å·¥èµ„ï¼š " << pos->second.m_Salary << endl;
	}

	cout << "----------------------" << endl;
	cout << "ç¾æœ¯éƒ¨é—¨ï¼š " << endl;
	pos = m.find(MEISHU);
	count = m.count(MEISHU); // ç»Ÿè®¡å…·ä½“äººæ•°
	index = 0;
	for (; pos != m.end() && index < count; pos++, index++)
	{
		cout << "å§“åï¼š " << pos->second.m_Name << " å·¥èµ„ï¼š " << pos->second.m_Salary << endl;
	}

	cout << "----------------------" << endl;
	cout << "ç ”å‘éƒ¨é—¨ï¼š " << endl;
	pos = m.find(YANFA);
	count = m.count(YANFA); // ç»Ÿè®¡å…·ä½“äººæ•°
	index = 0;
	for (; pos != m.end() && index < count; pos++, index++)
	{
		cout << "å§“åï¼š " << pos->second.m_Name << " å·¥èµ„ï¼š " << pos->second.m_Salary << endl;
	}

}

int main() {

	srand((unsigned int)time(NULL));

	//1ã€åˆ›å»ºå‘˜å·¥
	vector<Worker>vWorker;
	createWorker(vWorker);

	//2ã€å‘˜å·¥åˆ†ç»„
	multimap<int, Worker>mWorker;
	setGroup(vWorker, mWorker);


	//3ã€åˆ†ç»„æ˜¾ç¤ºå‘˜å·¥
	showWorkerByGourp(mWorker);

	////æµ‹è¯•
	//for (vector<Worker>::iterator it = vWorker.begin(); it != vWorker.end(); it++)
	//{
	//	cout << "å§“åï¼š " << it->m_Name << " å·¥èµ„ï¼š " << it->m_Salary << endl;
	//}

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* å½“æ•°æ®ä»¥é”®å€¼å¯¹å½¢å¼å­˜åœ¨ï¼Œå¯ä»¥è€ƒè™‘ç”¨map æˆ– multimap







## 4 STL- å‡½æ•°å¯¹è±¡

### 4.1 å‡½æ•°å¯¹è±¡

#### 4.1.1 å‡½æ•°å¯¹è±¡æ¦‚å¿µ

**æ¦‚å¿µï¼š**

* é‡è½½**å‡½æ•°è°ƒç”¨æ“ä½œç¬¦**çš„ç±»ï¼Œå…¶å¯¹è±¡å¸¸ç§°ä¸º**å‡½æ•°å¯¹è±¡**
* **å‡½æ•°å¯¹è±¡**ä½¿ç”¨é‡è½½çš„()æ—¶ï¼Œè¡Œä¸ºç±»ä¼¼å‡½æ•°è°ƒç”¨ï¼Œä¹Ÿå«**ä»¿å‡½æ•°**



**æœ¬è´¨ï¼š**

å‡½æ•°å¯¹è±¡(ä»¿å‡½æ•°)æ˜¯ä¸€ä¸ª**ç±»**ï¼Œä¸æ˜¯ä¸€ä¸ªå‡½æ•°



#### â€¼ï¸4.1.2  å‡½æ•°å¯¹è±¡ä½¿ç”¨

**ç‰¹ç‚¹ï¼š**

* å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨, **å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼**
* å‡½æ•°å¯¹è±¡è¶…å‡ºæ™®é€šå‡½æ•°çš„æ¦‚å¿µï¼Œå‡½æ•°å¯¹è±¡**å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€**
* å‡½æ•°å¯¹è±¡**å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’**





**ç¤ºä¾‹:**

```C++
#include <string>

//1ã€å‡½æ•°å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ï¼Œå¯ä»¥åƒæ™®é€šå‡½æ•°é‚£æ ·è°ƒç”¨, å¯ä»¥æœ‰å‚æ•°ï¼Œå¯ä»¥æœ‰è¿”å›å€¼
class MyAdd
{
public :
	int operator()(int v1,int v2)
	{
		return v1 + v2;
	}
};

void test01()
{
	MyAdd myAdd;
	cout << myAdd(10, 10) << endl;
}

//2ã€å‡½æ•°å¯¹è±¡å¯ä»¥æœ‰è‡ªå·±çš„çŠ¶æ€
class MyPrint
{
public:
	MyPrint()
	{
		count = 0;
	}
	void operator()(string test)
	{
		cout << test << endl;
		count++; //ç»Ÿè®¡ä½¿ç”¨æ¬¡æ•°
	}

	int count; //å†…éƒ¨è‡ªå·±çš„çŠ¶æ€
};
void test02()
{
	MyPrint myPrint;
	myPrint("hello world");
	myPrint("hello world");
	myPrint("hello world");
	cout << "myPrintè°ƒç”¨æ¬¡æ•°ä¸ºï¼š " << myPrint.count << endl;
}


//ğŸŸ¥3ã€å‡½æ•°å¯¹è±¡å¯ä»¥ä½œä¸ºå‚æ•°ä¼ é€’
void doPrint(MyPrint &mp , string test)
{
	mp(test);
}

void test03()
{
	MyPrint myPrint;
	doPrint(myPrint, "Hello C++");
}

int main() {

	//test01();
	//test02();
	test03();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼š

* ä»¿å‡½æ•°å†™æ³•éå¸¸çµæ´»ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚













### 4.2  è°“è¯

#### 4.2.1 è°“è¯æ¦‚å¿µ



**æ¦‚å¿µï¼š**

* è¿”å›boolç±»å‹çš„ä»¿å‡½æ•°ç§°ä¸º**è°“è¯**
* å¦‚æœoperator()æ¥å—ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå«åšä¸€å…ƒè°“è¯
* å¦‚æœoperator()æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆå«åšäºŒå…ƒè°“è¯





#### 4.2.2 ä¸€å…ƒè°“è¯

**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>

//1.ä¸€å…ƒè°“è¯
struct GreaterFive
{
	bool operator()(int val)
  {
		return val > 5;
	}
};

void test01() {

	vector<int> v;
	for (int i = 0; i < 10; i++)
	{
		v.push_back(i);
	}

	vector<int>::iterator it = find_if(v.begin(), v.end(), GreaterFive());
	if (it == v.end()) {
		cout << "æ²¡æ‰¾åˆ°!" << endl;
	}
	else {
		cout << "æ‰¾åˆ°:" << *it << endl;
	}

}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå‚æ•°åªæœ‰ä¸€ä¸ªçš„è°“è¯ï¼Œç§°ä¸ºä¸€å…ƒè°“è¯











#### 4.2.3 äºŒå…ƒè°“è¯

**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>
//äºŒå…ƒè°“è¯
class MyCompare
{
public:
	bool operator()(int num1, int num2)
	{
		return num1 > num2;
	}
};

void test01()
{
	vector<int> v;
	v.push_back(10);
	v.push_back(40);
	v.push_back(20);
	v.push_back(30);
	v.push_back(50);

	//é»˜è®¤ä»å°åˆ°å¤§
	sort(v.begin(), v.end());
	for (vector<int>::iterator it = v.begin(); it != v.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
	cout << "----------------------------" << endl;

	//ä½¿ç”¨å‡½æ•°å¯¹è±¡æ”¹å˜ç®—æ³•ç­–ç•¥ï¼Œæ’åºä»å¤§åˆ°å°
	sort(v.begin(), v.end(), MyCompare());
	for (vector<int>::iterator it = v.begin(); it != v.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå‚æ•°åªæœ‰ä¸¤ä¸ªçš„è°“è¯ï¼Œç§°ä¸ºäºŒå…ƒè°“è¯

















### 4.3 å†…å»ºå‡½æ•°å¯¹è±¡

#### 4.3.1 å†…å»ºå‡½æ•°å¯¹è±¡æ„ä¹‰

**æ¦‚å¿µï¼š**

* STLå†…å»ºäº†ä¸€äº›å‡½æ•°å¯¹è±¡



**åˆ†ç±»:**

* ç®—æœ¯ä»¿å‡½æ•°

* å…³ç³»ä»¿å‡½æ•°

* é€»è¾‘ä»¿å‡½æ•°

**ç”¨æ³•ï¼š**

* è¿™äº›ä»¿å‡½æ•°æ‰€äº§ç”Ÿçš„å¯¹è±¡ï¼Œç”¨æ³•å’Œä¸€èˆ¬å‡½æ•°å®Œå…¨ç›¸åŒ
* ä½¿ç”¨å†…å»ºå‡½æ•°å¯¹è±¡ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ `#include<functional>`







#### 4.3.2 ç®—æœ¯ä»¿å‡½æ•°

**åŠŸèƒ½æè¿°ï¼š**

* å®ç°å››åˆ™è¿ç®—
* å…¶ä¸­negateæ˜¯ä¸€å…ƒè¿ç®—ï¼Œå…¶ä»–éƒ½æ˜¯äºŒå…ƒè¿ç®—



**ä»¿å‡½æ•°åŸå‹ï¼š**

* `template<class T> T plus<T>`                //åŠ æ³•ä»¿å‡½æ•°
* `template<class T> T minus<T>`              //å‡æ³•ä»¿å‡½æ•°
* `template<class T> T multiplies<T>`    //ä¹˜æ³•ä»¿å‡½æ•°
* `template<class T> T divides<T>`         //é™¤æ³•ä»¿å‡½æ•°
* `template<class T> T modulus<T>`         //å–æ¨¡ä»¿å‡½æ•°
* `template<class T> T negate<T>`           //å–åä»¿å‡½æ•°



**ç¤ºä¾‹ï¼š**

```C++
#include <functional>
//negate
void test01()
{
	negate<int> n;
	cout << n(50) << endl;
}

//plus
void test02()
{
	plus<int> p;
	cout << p(10, 20) << endl;
}

int main() {

	test01();
	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šä½¿ç”¨å†…å»ºå‡½æ•°å¯¹è±¡æ—¶ï¼Œéœ€è¦å¼•å…¥å¤´æ–‡ä»¶ `#include <functional>`









#### 4.3.3 å…³ç³»ä»¿å‡½æ•°

**åŠŸèƒ½æè¿°ï¼š**

- å®ç°å…³ç³»å¯¹æ¯”



**ä»¿å‡½æ•°åŸå‹ï¼š**

* `template<class T> bool equal_to<T>`                    //ç­‰äº
* `template<class T> bool not_equal_to<T>`            //ä¸ç­‰äº
* `template<class T> bool greater<T>`                      //å¤§äº
* `template<class T> bool greater_equal<T>`          //å¤§äºç­‰äº
* `template<class T> bool less<T>`                           //å°äº
* `template<class T> bool less_equal<T>`               //å°äºç­‰äº



**ç¤ºä¾‹ï¼š**

```C++
#include <functional>
#include <vector>
#include <algorithm>

class MyCompare
{
public:
	bool operator()(int v1,int v2)
	{
		return v1 > v2;
	}
};
void test01()
{
	vector<int> v;

	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(40);
	v.push_back(20);

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;

	//è‡ªå·±å®ç°ä»¿å‡½æ•°
	//sort(v.begin(), v.end(), MyCompare());
	//STLå†…å»ºä»¿å‡½æ•°  å¤§äºä»¿å‡½æ•°
	sort(v.begin(), v.end(), greater<int>());

	for (vector<int>::iterator it = v.begin(); it != v.end(); it++) {
		cout << *it << " ";
	}
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šå…³ç³»ä»¿å‡½æ•°ä¸­æœ€å¸¸ç”¨çš„å°±æ˜¯greater<>å¤§äº











#### 4.3.4 é€»è¾‘ä»¿å‡½æ•°

**åŠŸèƒ½æè¿°ï¼š**

- å®ç°é€»è¾‘è¿ç®—



**å‡½æ•°åŸå‹ï¼š**

* `template<class T> bool logical_and<T>`              //é€»è¾‘ä¸
* `template<class T> bool logical_or<T>`                //é€»è¾‘æˆ–
* `template<class T> bool logical_not<T>`              //é€»è¾‘é



**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <functional>
#include <algorithm>
void test01()
{
	vector<bool> v;
	v.push_back(true);
	v.push_back(false);
	v.push_back(true);
	v.push_back(false);

	for (vector<bool>::iterator it = v.begin();it!= v.end();it++)
	{
		cout << *it << " ";
	}
	cout << endl;

	//é€»è¾‘é  å°†vå®¹å™¨æ¬è¿åˆ°v2ä¸­ï¼Œå¹¶æ‰§è¡Œé€»è¾‘éè¿ç®—
	vector<bool> v2;
	v2.resize(v.size());
	transform(v.begin(), v.end(),  v2.begin(), logical_not<bool>());
	for (vector<bool>::iterator it = v2.begin(); it != v2.end(); it++)
	{
		cout << *it << " ";
	}
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šé€»è¾‘ä»¿å‡½æ•°å®é™…åº”ç”¨è¾ƒå°‘ï¼Œäº†è§£å³å¯







## 5 STL- å¸¸ç”¨ç®—æ³•



**æ¦‚è¿°**:

* ç®—æ³•ä¸»è¦æ˜¯ç”±å¤´æ–‡ä»¶`<algorithm>` `<functional>` `<numeric>`ç»„æˆã€‚



* `<algorithm>`æ˜¯æ‰€æœ‰STLå¤´æ–‡ä»¶ä¸­æœ€å¤§çš„ä¸€ä¸ªï¼ŒèŒƒå›´æ¶‰åŠåˆ°æ¯”è¾ƒã€ **äº¤æ¢ã€æŸ¥æ‰¾ã€éå†æ“ä½œã€å¤åˆ¶ã€ä¿®æ”¹**ç­‰ç­‰
* `<numeric>`ä½“ç§¯å¾ˆå°ï¼ŒåªåŒ…æ‹¬å‡ ä¸ªåœ¨åºåˆ—ä¸Šé¢è¿›è¡Œç®€å•æ•°å­¦è¿ç®—çš„æ¨¡æ¿å‡½æ•°
* `<functional>`å®šä¹‰äº†ä¸€äº›æ¨¡æ¿ç±»,ç”¨ä»¥å£°æ˜å‡½æ•°å¯¹è±¡ã€‚





### 5.1 å¸¸ç”¨éå†ç®—æ³•

**å­¦ä¹ ç›®æ ‡ï¼š**

* æŒæ¡å¸¸ç”¨çš„éå†ç®—æ³•



**ç®—æ³•ç®€ä»‹ï¼š**

* `for_each`     //éå†å®¹å™¨
* `transform`   //æ¬è¿å®¹å™¨åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­





#### 5.1.1 for_each

**åŠŸèƒ½æè¿°ï¼š**

* å®ç°éå†å®¹å™¨

**å‡½æ•°åŸå‹ï¼š**

* `for_each(iterator beg, iterator end, _func);  `

  // éå†ç®—æ³• éå†å®¹å™¨å…ƒç´ 

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // **_func å‡½æ•°æˆ–è€…å‡½æ•°å¯¹è±¡**



**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>

//æ™®é€šå‡½æ•°
void print01(int val) 
{
	cout << val << " ";
}
//å‡½æ•°å¯¹è±¡
class print02 
{
 public:
	void operator()(int val) 
	{
		cout << val << " ";
	}
};

//for_eachç®—æ³•åŸºæœ¬ç”¨æ³•
void test01() {

	vector<int> v;
	for (int i = 0; i < 10; i++) 
	{
		v.push_back(i);
	}

	//éå†ç®—æ³•
	for_each(v.begin(), v.end(), print01);
	cout << endl;

	for_each(v.begin(), v.end(), print02());  //ä¼ ä¸€ä¸ªåŒ¿åå‡½æ•°å¯¹è±¡è¿‘æ¥
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**for_eachåœ¨å®é™…å¼€å‘ä¸­æ˜¯æœ€å¸¸ç”¨éå†ç®—æ³•ï¼Œéœ€è¦ç†Ÿç»ƒæŒæ¡









#### 5.1.2 transform

**åŠŸèƒ½æè¿°ï¼š**

* æ¬è¿å®¹å™¨åˆ°å¦ä¸€ä¸ªå®¹å™¨ä¸­

**å‡½æ•°åŸå‹ï¼š**

* `transform(iterator beg1, iterator end1, iterator beg2, _func);`

//beg1 æºå®¹å™¨å¼€å§‹è¿­ä»£å™¨

//end1 æºå®¹å™¨ç»“æŸè¿­ä»£å™¨

//beg2 ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨

//_func å‡½æ•°æˆ–è€…å‡½æ•°å¯¹è±¡



**ç¤ºä¾‹ï¼š**

```C++
#include<vector>
#include<algorithm>

//å¸¸ç”¨éå†ç®—æ³•  æ¬è¿ transform

class TransForm
{
public:
	int operator()(int val)
	{
		return val;
	}

};

class MyPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int>v;
	for (int i = 0; i < 10; i++)
	{
		v.push_back(i);
	}

	vector<int>vTarget; //ç›®æ ‡å®¹å™¨

	vTarget.resize(v.size()); // ç›®æ ‡å®¹å™¨éœ€è¦æå‰å¼€è¾Ÿç©ºé—´

	transform(v.begin(), v.end(), vTarget.begin(), TransForm());

	for_each(vTarget.begin(), vTarget.end(), MyPrint());
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** æ¬è¿çš„ç›®æ ‡å®¹å™¨å¿…é¡»è¦æå‰å¼€è¾Ÿç©ºé—´ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸æ¬è¿







### 5.2 å¸¸ç”¨æŸ¥æ‰¾ç®—æ³•

å­¦ä¹ ç›®æ ‡ï¼š

- æŒæ¡å¸¸ç”¨çš„æŸ¥æ‰¾ç®—æ³•





**ç®—æ³•ç®€ä»‹ï¼š**

- `find`                     //æŸ¥æ‰¾å…ƒç´ 
- `find_if`               //æŒ‰æ¡ä»¶æŸ¥æ‰¾å…ƒç´ 
- `adjacent_find`    //æŸ¥æ‰¾**ç›¸é‚»é‡å¤å…ƒç´ **
- `binary_search`    //äºŒåˆ†æŸ¥æ‰¾æ³•
- `count`                   //ç»Ÿè®¡å…ƒç´ ä¸ªæ•°
- `count_if`             //æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ ä¸ªæ•°




#### 5.2.1 find

**åŠŸèƒ½æè¿°ï¼š**

* æŸ¥æ‰¾æŒ‡å®šå…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šå…ƒç´ çš„è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨end()



**å‡½æ•°åŸå‹ï¼š**

- `find(iterator beg, iterator end, value);  `

  // æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œ**æ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨**ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // value æŸ¥æ‰¾çš„å…ƒç´ 





**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>
#include <string>
void test01() {

	vector<int> v;
	for (int i = 0; i < 10; i++) {
		v.push_back(i + 1);
	}
	//æŸ¥æ‰¾å®¹å™¨ä¸­æ˜¯å¦æœ‰ 5 è¿™ä¸ªå…ƒç´ 
	vector<int>::iterator it = find(v.begin(), v.end(), 5);
	if (it == v.end()) 
	{
		cout << "æ²¡æœ‰æ‰¾åˆ°!" << endl;
	}
	else 
	{
		cout << "æ‰¾åˆ°:" << *it << endl;
	}
}

class Person {
public:
	Person(string name, int age) 
	{
		this->m_Name = name;
		this->m_Age = age;
	}
	//é‡è½½==
	bool operator==(const Person& p) 
	{
		if (this->m_Name == p.m_Name && this->m_Age == p.m_Age) 
		{
			return true;
		}
		return false;
	}

public:
	string m_Name;
	int m_Age;
};

void test02() {

	vector<Person> v;

	//åˆ›å»ºæ•°æ®
	Person p1("aaa", 10);
	Person p2("bbb", 20);
	Person p3("ccc", 30);
	Person p4("ddd", 40);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);

	vector<Person>::iterator it = find(v.begin(), v.end(), p2);
	if (it == v.end()) 
	{
		cout << "æ²¡æœ‰æ‰¾åˆ°!" << endl;
	}
	else 
	{
		cout << "æ‰¾åˆ°å§“å:" << it->m_Name << " å¹´é¾„: " << it->m_Age << endl;
	}
}
```

æ€»ç»“ï¼š åˆ©ç”¨findå¯ä»¥åœ¨å®¹å™¨ä¸­æ‰¾æŒ‡å®šçš„å…ƒç´ ï¼Œè¿”å›å€¼æ˜¯**è¿­ä»£å™¨**













#### 5.2.2 find_if

**åŠŸèƒ½æè¿°ï¼š**

* æŒ‰æ¡ä»¶æŸ¥æ‰¾å…ƒç´ 

**å‡½æ•°åŸå‹ï¼š**

- `find_if(iterator beg, iterator end, _Pred);  `

  // æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // _Pred å‡½æ•°æˆ–è€…è°“è¯ï¼ˆè¿”å›boolç±»å‹çš„ä»¿å‡½æ•°ï¼‰



**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>
#include <string>

//å†…ç½®æ•°æ®ç±»å‹
class GreaterFive
{
public:
	bool operator()(int val)
	{
		return val > 5;
	}
};

void test01() {

	vector<int> v;
	for (int i = 0; i < 10; i++) {
		v.push_back(i + 1);
	}

	vector<int>::iterator it = find_if(v.begin(), v.end(), GreaterFive());
	if (it == v.end()) {
		cout << "æ²¡æœ‰æ‰¾åˆ°!" << endl;
	}
	else {
		cout << "æ‰¾åˆ°å¤§äº5çš„æ•°å­—:" << *it << endl;
	}
}

//è‡ªå®šä¹‰æ•°æ®ç±»å‹
class Person {
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}
public:
	string m_Name;
	int m_Age;
};

class Greater20
{
public:
	bool operator()(Person &p)
	{
		return p.m_Age > 20;
	}

};

void test02() {

	vector<Person> v;

	//åˆ›å»ºæ•°æ®
	Person p1("aaa", 10);
	Person p2("bbb", 20);
	Person p3("ccc", 30);
	Person p4("ddd", 40);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);

	vector<Person>::iterator it = find_if(v.begin(), v.end(), Greater20());
	if (it == v.end())
	{
		cout << "æ²¡æœ‰æ‰¾åˆ°!" << endl;
	}
	else
	{
		cout << "æ‰¾åˆ°å§“å:" << it->m_Name << " å¹´é¾„: " << it->m_Age << endl;
	}
}

int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

æ€»ç»“ï¼šfind_ifæŒ‰æ¡ä»¶æŸ¥æ‰¾ä½¿æŸ¥æ‰¾æ›´åŠ çµæ´»ï¼Œæä¾›çš„ä»¿å‡½æ•°å¯ä»¥æ”¹å˜ä¸åŒçš„ç­–ç•¥















#### 5.2.3 adjacent_find

**åŠŸèƒ½æè¿°ï¼š**

* æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ 



**å‡½æ•°åŸå‹ï¼š**

- `adjacent_find(iterator beg, iterator end);  `

  // æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ ,è¿”å›ç›¸é‚»å…ƒç´ çš„ç¬¬ä¸€ä¸ªä½ç½®çš„è¿­ä»£å™¨

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  



**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>

void test01()
{
	vector<int> v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(5);
	v.push_back(2);
	v.push_back(4);
	v.push_back(4);
	v.push_back(3);

	//æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ 
	vector<int>::iterator it = adjacent_find(v.begin(), v.end());
	if (it == v.end()) {
		cout << "æ‰¾ä¸åˆ°!" << endl;
	}
	else {
		cout << "æ‰¾åˆ°ç›¸é‚»é‡å¤å…ƒç´ ä¸º:" << *it << endl;
	}
}
```

æ€»ç»“ï¼šé¢è¯•é¢˜ä¸­**å¦‚æœå‡ºç°æŸ¥æ‰¾ç›¸é‚»é‡å¤å…ƒç´ **ï¼Œè®°å¾—ç”¨STLä¸­çš„adjacent_findç®—æ³•









#### 5.2.4 binary_search

**åŠŸèƒ½æè¿°ï¼š**

* æŸ¥æ‰¾æŒ‡å®šå…ƒç´ æ˜¯å¦å­˜åœ¨



**å‡½æ•°åŸå‹ï¼š**

- `bool binary_search(iterator beg, iterator end, value);  `

  // æŸ¥æ‰¾æŒ‡å®šçš„å…ƒç´ ï¼ŒæŸ¥åˆ° è¿”å›true  å¦åˆ™false

  // æ³¨æ„: åœ¨**æ— åºåºåˆ—ä¸­ä¸å¯ç”¨**

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // value æŸ¥æ‰¾çš„å…ƒç´ 





**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>

void test01()
{
	vector<int>v;

	for (int i = 0; i < 10; i++)
	{
		v.push_back(i);
	}
	//äºŒåˆ†æŸ¥æ‰¾
	bool ret = binary_search(v.begin(), v.end(),2);
	if (ret)
	{
		cout << "æ‰¾åˆ°äº†" << endl;
	}
	else
	{
		cout << "æœªæ‰¾åˆ°" << endl;
	}
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**äºŒåˆ†æŸ¥æ‰¾æ³•æŸ¥æ‰¾æ•ˆç‡å¾ˆé«˜ï¼Œ**å€¼å¾—æ³¨æ„çš„æ˜¯æŸ¥æ‰¾çš„å®¹å™¨ä¸­å…ƒç´ å¿…é¡»çš„æœ‰åºåºåˆ—**









#### 5.2.5 count

**åŠŸèƒ½æè¿°ï¼š**

* ç»Ÿè®¡å…ƒç´ ä¸ªæ•°



**å‡½æ•°åŸå‹ï¼š**

- `count(iterator beg, iterator end, value);  `

  // ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // value ç»Ÿè®¡çš„å…ƒç´ 





**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>

//å†…ç½®æ•°æ®ç±»å‹
void test01()
{
	vector<int> v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(4);
	v.push_back(5);
	v.push_back(3);
	v.push_back(4);
	v.push_back(4);

	int num = count(v.begin(), v.end(), 4);

	cout << "4çš„ä¸ªæ•°ä¸ºï¼š " << num << endl;
}

//è‡ªå®šä¹‰æ•°æ®ç±»å‹
class Person
{
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}
	bool operator==(const Person & p)
	{
		if (this->m_Age == p.m_Age)
		{
			return true;
		}
		else
		{
			return false;
		}
	}
	string m_Name;
	int m_Age;
};

void test02()
{
	vector<Person> v;

	Person p1("åˆ˜å¤‡", 35);
	Person p2("å…³ç¾½", 35);
	Person p3("å¼ é£", 35);
	Person p4("èµµäº‘", 30);
	Person p5("æ›¹æ“", 25);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);
	v.push_back(p5);
    
    Person p("è¯¸è‘›äº®",35);

	int num = count(v.begin(), v.end(), p);
	cout << "num = " << num << endl;
}
int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** ç»Ÿè®¡è‡ªå®šä¹‰æ•°æ®ç±»å‹æ—¶å€™ï¼Œ**éœ€è¦é…åˆé‡è½½ `operator==`**

















#### 5.2.6 count_if

**åŠŸèƒ½æè¿°ï¼š**

* æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ ä¸ªæ•°

**å‡½æ•°åŸå‹ï¼š**

- `count_if(iterator beg, iterator end, _Pred);  `

  // æŒ‰æ¡ä»¶ç»Ÿè®¡å…ƒç´ å‡ºç°æ¬¡æ•°

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // _Pred è°“è¯

  

**ç¤ºä¾‹ï¼š**

```C++
#include <algorithm>
#include <vector>

class Greater4
{
public:
	bool operator()(int val)
	{
		return val >= 4;
	}
};

//å†…ç½®æ•°æ®ç±»å‹
void test01()
{
	vector<int> v;
	v.push_back(1);
	v.push_back(2);
	v.push_back(4);
	v.push_back(5);
	v.push_back(3);
	v.push_back(4);
	v.push_back(4);

	int num = count_if(v.begin(), v.end(), Greater4());

	cout << "å¤§äº4çš„ä¸ªæ•°ä¸ºï¼š " << num << endl;
}

//è‡ªå®šä¹‰æ•°æ®ç±»å‹
class Person
{
public:
	Person(string name, int age)
	{
		this->m_Name = name;
		this->m_Age = age;
	}

	string m_Name;
	int m_Age;
};

class AgeLess35
{
public:
	bool operator()(const Person &p)
	{
		return p.m_Age < 35;
	}
};
void test02()
{
	vector<Person> v;

	Person p1("åˆ˜å¤‡", 35);
	Person p2("å…³ç¾½", 35);
	Person p3("å¼ é£", 35);
	Person p4("èµµäº‘", 30);
	Person p5("æ›¹æ“", 25);

	v.push_back(p1);
	v.push_back(p2);
	v.push_back(p3);
	v.push_back(p4);
	v.push_back(p5);

	int num = count_if(v.begin(), v.end(), AgeLess35());
	cout << "å°äº35å²çš„ä¸ªæ•°ï¼š" << num << endl;
}


int main() {

	//test01();

	test02();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**æŒ‰å€¼ç»Ÿè®¡ç”¨countï¼ŒæŒ‰æ¡ä»¶ç»Ÿè®¡ç”¨count_if













### 5.3 å¸¸ç”¨æ’åºç®—æ³•

**å­¦ä¹ ç›®æ ‡ï¼š**

- æŒæ¡å¸¸ç”¨çš„æ’åºç®—æ³•

**ç®—æ³•ç®€ä»‹ï¼š**

- `sort`             //å¯¹å®¹å™¨å†…å…ƒç´ è¿›è¡Œæ’åº
- `random_shuffle`   //æ´—ç‰Œ   æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº
- `merge `           // å®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­
- `reverse`       // åè½¬æŒ‡å®šèŒƒå›´çš„å…ƒç´ 





#### 5.3.1 sort

**åŠŸèƒ½æè¿°ï¼š**

* å¯¹å®¹å™¨å†…å…ƒç´ è¿›è¡Œæ’åº





**å‡½æ•°åŸå‹ï¼š**

- `sort(iterator beg, iterator end, _Pred);  `

  // æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®

  //  beg    å¼€å§‹è¿­ä»£å™¨

  //  end    ç»“æŸè¿­ä»£å™¨

  // _Pred  è°“è¯





**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

void myPrint(int val)
{
	cout << val << " ";
}

void test01() {
	vector<int> v;
	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(20);
	v.push_back(40);

	//sorté»˜è®¤ä»å°åˆ°å¤§æ’åº
	sort(v.begin(), v.end());
	for_each(v.begin(), v.end(), myPrint);
	cout << endl;

	//ä»å¤§åˆ°å°æ’åº
	sort(v.begin(), v.end(), greater<int>());
	for_each(v.begin(), v.end(), myPrint);
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**sortå±äºå¼€å‘ä¸­æœ€å¸¸ç”¨çš„ç®—æ³•ä¹‹ä¸€ï¼Œéœ€ç†Ÿç»ƒæŒæ¡













#### 5.3.2 random_shuffle

**åŠŸèƒ½æè¿°ï¼š**

* æ´—ç‰Œ   æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº



**å‡½æ•°åŸå‹ï¼š**

- `random_shuffle(iterator beg, iterator end);  `

  // æŒ‡å®šèŒƒå›´å†…çš„å…ƒç´ éšæœºè°ƒæ•´æ¬¡åº

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  

**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>
#include <ctime>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	srand((unsigned int)time(NULL));
	vector<int> v;
	for(int i = 0 ; i < 10;i++)
	{
		v.push_back(i);
	}
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;

	//æ‰“ä¹±é¡ºåº
	random_shuffle(v.begin(), v.end());
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**random_shuffleæ´—ç‰Œç®—æ³•æ¯”è¾ƒå®ç”¨ï¼Œä½¿ç”¨æ—¶è®°å¾—åŠ éšæœºæ•°ç§å­















#### 5.3.3 merge

**åŠŸèƒ½æè¿°ï¼š**

* ä¸¤ä¸ªå®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­



**å‡½æ•°åŸå‹ï¼š**

- `merge(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);  `

  // å®¹å™¨å…ƒç´ åˆå¹¶ï¼Œå¹¶å­˜å‚¨åˆ°å¦ä¸€å®¹å™¨ä¸­

  // æ³¨æ„: ä¸¤ä¸ªå®¹å™¨å¿…é¡»æ˜¯**æœ‰åºçš„**

  // beg1   å®¹å™¨1å¼€å§‹è¿­ä»£å™¨
  // end1   å®¹å™¨1ç»“æŸè¿­ä»£å™¨
  // beg2   å®¹å™¨2å¼€å§‹è¿­ä»£å™¨
  // end2   å®¹å™¨2ç»“æŸè¿­ä»£å™¨
  // dest    ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨

  

**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	vector<int> v2;
	for (int i = 0; i < 10 ; i++) 
    {
		v1.push_back(i);
		v2.push_back(i + 1);
	}

	vector<int> vtarget;
	//ç›®æ ‡å®¹å™¨éœ€è¦æå‰å¼€è¾Ÿç©ºé—´
	vtarget.resize(v1.size() + v2.size());
	//åˆå¹¶  éœ€è¦ä¸¤ä¸ªæœ‰åºåºåˆ—
	merge(v1.begin(), v1.end(), v2.begin(), v2.end(), vtarget.begin());
	for_each(vtarget.begin(), vtarget.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**mergeåˆå¹¶çš„ä¸¤ä¸ªå®¹å™¨å¿…é¡»çš„æœ‰åºåºåˆ—











#### 5.3.4 reverse

**åŠŸèƒ½æè¿°ï¼š**

* å°†å®¹å™¨å†…å…ƒç´ è¿›è¡Œåè½¬



**å‡½æ•°åŸå‹ï¼š**

- `reverse(iterator beg, iterator end);  `

  // åè½¬æŒ‡å®šèŒƒå›´çš„å…ƒç´ 

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  

**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v;
	v.push_back(10);
	v.push_back(30);
	v.push_back(50);
	v.push_back(20);
	v.push_back(40);

	cout << "åè½¬å‰ï¼š " << endl;
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;

	cout << "åè½¬åï¼š " << endl;

	reverse(v.begin(), v.end());
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**reverseåè½¬åŒºé—´å†…å…ƒç´ ï¼Œé¢è¯•é¢˜å¯èƒ½æ¶‰åŠåˆ°









### 5.4 å¸¸ç”¨æ‹·è´å’Œæ›¿æ¢ç®—æ³•

**å­¦ä¹ ç›®æ ‡ï¼š**

- æŒæ¡å¸¸ç”¨çš„æ‹·è´å’Œæ›¿æ¢ç®—æ³•

**ç®—æ³•ç®€ä»‹ï¼š**

- `copy`                      // å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€å®¹å™¨ä¸­
- `replace`                // å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„æ—§å…ƒç´ ä¿®æ”¹ä¸ºæ–°å…ƒç´ 
- `replace_if `          // å®¹å™¨å†…æŒ‡å®šèŒƒå›´æ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ›¿æ¢ä¸ºæ–°å…ƒç´ 
- `swap`                     // äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ 




#### 5.4.1 copy

**åŠŸèƒ½æè¿°ï¼š**

* å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„å…ƒç´ æ‹·è´åˆ°å¦ä¸€å®¹å™¨ä¸­



**å‡½æ•°åŸå‹ï¼š**

- `copy(iterator beg, iterator end, iterator dest);  `

  // æŒ‰å€¼æŸ¥æ‰¾å…ƒç´ ï¼Œæ‰¾åˆ°è¿”å›æŒ‡å®šä½ç½®è¿­ä»£å™¨ï¼Œæ‰¾ä¸åˆ°è¿”å›ç»“æŸè¿­ä»£å™¨ä½ç½®

  // beg  å¼€å§‹è¿­ä»£å™¨

  // end  ç»“æŸè¿­ä»£å™¨

  // dest ç›®æ ‡èµ·å§‹è¿­ä»£å™¨



**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	for (int i = 0; i < 10; i++) {
		v1.push_back(i + 1);
	}
	vector<int> v2;
	v2.resize(v1.size());
	copy(v1.begin(), v1.end(), v2.begin());

	for_each(v2.begin(), v2.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**åˆ©ç”¨copyç®—æ³•åœ¨æ‹·è´æ—¶ï¼Œ**ç›®æ ‡å®¹å™¨è®°å¾—æå‰å¼€è¾Ÿç©ºé—´**















#### 5.4.2 replace

**åŠŸèƒ½æè¿°ï¼š**

* å°†å®¹å™¨å†…æŒ‡å®šèŒƒå›´çš„æ—§å…ƒç´ ä¿®æ”¹ä¸ºæ–°å…ƒç´ 



**å‡½æ•°åŸå‹ï¼š**

- `replace(iterator beg, iterator end, oldvalue, newvalue);  `

  // å°†åŒºé—´å†…æ—§å…ƒç´  æ›¿æ¢æˆ æ–°å…ƒç´ 

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // oldvalue æ—§å…ƒç´ 

  // newvalue æ–°å…ƒç´ 



**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v;
	v.push_back(20);
	v.push_back(30);
	v.push_back(20);
	v.push_back(40);
	v.push_back(50);
	v.push_back(10);
	v.push_back(20);

	cout << "æ›¿æ¢å‰ï¼š" << endl;
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;

	//å°†å®¹å™¨ä¸­çš„20 æ›¿æ¢æˆ 2000
	cout << "æ›¿æ¢åï¼š" << endl;
	replace(v.begin(), v.end(), 20,2000);
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**replaceä¼šæ›¿æ¢åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ 













#### 5.4.3 replace_if

**åŠŸèƒ½æè¿°:**  

* å°†åŒºé—´å†…æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œæ›¿æ¢æˆæŒ‡å®šå…ƒç´ 



**å‡½æ•°åŸå‹ï¼š**

- `replace_if(iterator beg, iterator end, _pred, newvalue);  `

  // æŒ‰æ¡ä»¶æ›¿æ¢å…ƒç´ ï¼Œæ»¡è¶³æ¡ä»¶çš„æ›¿æ¢æˆæŒ‡å®šå…ƒç´ 

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // _pred è°“è¯

  // newvalue æ›¿æ¢çš„æ–°å…ƒç´ 



**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

class ReplaceGreater30
{
public:
	bool operator()(int val)
	{
		return val >= 30;
	}

};

void test01()
{
	vector<int> v;
	v.push_back(20);
	v.push_back(30);
	v.push_back(20);
	v.push_back(40);
	v.push_back(50);
	v.push_back(10);
	v.push_back(20);

	cout << "æ›¿æ¢å‰ï¼š" << endl;
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;

	//å°†å®¹å™¨ä¸­å¤§äºç­‰äºçš„30 æ›¿æ¢æˆ 3000
	cout << "æ›¿æ¢åï¼š" << endl;
	replace_if(v.begin(), v.end(), ReplaceGreater30(), 3000);
	for_each(v.begin(), v.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**replace_ifæŒ‰æ¡ä»¶æŸ¥æ‰¾ï¼Œå¯ä»¥åˆ©ç”¨ä»¿å‡½æ•°çµæ´»ç­›é€‰æ»¡è¶³çš„æ¡ä»¶







#### 5.4.4 swap

**åŠŸèƒ½æè¿°ï¼š**

* äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ 



**å‡½æ•°åŸå‹ï¼š**

- `swap(container c1, container c2);  `

  // äº’æ¢ä¸¤ä¸ªå®¹å™¨çš„å…ƒç´ 

  // c1å®¹å™¨1

  // c2å®¹å™¨2

  

**ç¤ºä¾‹ï¼š**

```c++
#include <algorithm>
#include <vector>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	vector<int> v2;
	for (int i = 0; i < 10; i++) {
		v1.push_back(i);
		v2.push_back(i+100);
	}

	cout << "äº¤æ¢å‰ï¼š " << endl;
	for_each(v1.begin(), v1.end(), myPrint());
	cout << endl;
	for_each(v2.begin(), v2.end(), myPrint());
	cout << endl;

	cout << "äº¤æ¢åï¼š " << endl;
	swap(v1, v2);
	for_each(v1.begin(), v1.end(), myPrint());
	cout << endl;
	for_each(v2.begin(), v2.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**swapäº¤æ¢å®¹å™¨æ—¶ï¼Œæ³¨æ„äº¤æ¢çš„å®¹å™¨è¦åŒç§ç±»å‹













### 5.5 å¸¸ç”¨ç®—æœ¯ç”Ÿæˆç®—æ³•

**å­¦ä¹ ç›®æ ‡ï¼š**

- æŒæ¡å¸¸ç”¨çš„ç®—æœ¯ç”Ÿæˆç®—æ³•



**æ³¨æ„ï¼š**

* ç®—æœ¯ç”Ÿæˆç®—æ³•å±äºå°å‹ç®—æ³•ï¼Œä½¿ç”¨æ—¶åŒ…å«çš„å¤´æ–‡ä»¶ä¸º **`#include <numeric>`**



**ç®—æ³•ç®€ä»‹ï¼š**

- `accumulate`      // è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ

- `fill`                 // å‘å®¹å™¨ä¸­æ·»åŠ å…ƒç´ 

  

#### 5.5.1 accumulate

**åŠŸèƒ½æè¿°ï¼š**

*  è®¡ç®—åŒºé—´å†… å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ



**å‡½æ•°åŸå‹ï¼š**

- `accumulate(iterator beg, iterator end, value);  `

  // è®¡ç®—å®¹å™¨å…ƒç´ ç´¯è®¡æ€»å’Œ

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // value èµ·å§‹çš„ç´¯åŠ å€¼  



**ç¤ºä¾‹ï¼š**

```c++
#include <numeric>
#include <vector>
void test01()
{
	vector<int> v;
	for (int i = 0; i <= 100; i++) {
		v.push_back(i);
	}

	int total = accumulate(v.begin(), v.end(), 0);

	cout << "total = " << total << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**accumulateä½¿ç”¨æ—¶å¤´æ–‡ä»¶æ³¨æ„æ˜¯ numericï¼Œè¿™ä¸ªç®—æ³•å¾ˆå®ç”¨



#### 5.5.2 fill

**åŠŸèƒ½æè¿°ï¼š**

* å‘å®¹å™¨ä¸­å¡«å……æŒ‡å®šçš„å…ƒç´ 



**å‡½æ•°åŸå‹ï¼š**

- `fill(iterator beg, iterator end, value);  `

  // å‘å®¹å™¨ä¸­å¡«å……å…ƒç´ 

  // beg å¼€å§‹è¿­ä»£å™¨

  // end ç»“æŸè¿­ä»£å™¨

  // value å¡«å……çš„å€¼



**ç¤ºä¾‹ï¼š**

```c++
#include <numeric>
#include <vector>
#include <algorithm>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{

	vector<int> v;
	v.resize(10);
	//åæœŸ é‡æ–°å¡«å……
	fill(v.begin(), v.end(), 100);

	for_each(v.begin(), v.end(), myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š**åˆ©ç”¨fillå¯ä»¥å°†å®¹å™¨åŒºé—´å†…å…ƒç´ å¡«å……ä¸º æŒ‡å®šçš„å€¼





### 5.6 å¸¸ç”¨é›†åˆç®—æ³•

**å­¦ä¹ ç›®æ ‡ï¼š**

- æŒæ¡å¸¸ç”¨çš„é›†åˆç®—æ³•



**ç®—æ³•ç®€ä»‹ï¼š**

- `set_intersection`          // æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†

- `set_union`                       // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å¹¶é›†

- `set_difference `              // æ±‚ä¸¤ä¸ªå®¹å™¨çš„å·®é›†

  



#### 5.6.1 set_intersection

**åŠŸèƒ½æè¿°ï¼š**

* æ±‚ä¸¤ä¸ªå®¹å™¨çš„äº¤é›†



**å‡½æ•°åŸå‹ï¼š**

- `set_intersection(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);  `

  //æ±‚ä¸¤ä¸ªé›†åˆçš„äº¤é›†

  // **æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—**

  // beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨
  // end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨
  // beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨
  // end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨
  // dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨



**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	vector<int> v2;
	for (int i = 0; i < 10; i++)
    {
		v1.push_back(i);
		v2.push_back(i+5);
	}

	vector<int> vTarget;
	//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå°çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´
	vTarget.resize(min(v1.size(), v2.size()));

	// è¿”å› ç›®æ ‡å®¹å™¨çš„ æœ€åä¸€ä¸ªå…ƒç´  çš„è¿­ä»£å™¨åœ°å€
	vector<int>::iterator itEnd = 
        set_intersection(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());

  //ä½¿ç”¨è¿­ä»£å™¨ itEnd
	for_each(vTarget.begin(), itEnd, myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** 

* æ±‚äº¤é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—
* ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»**ä¸¤ä¸ªå®¹å™¨ä¸­å–å°å€¼**
* set_intersectionè¿”å›å€¼æ—¢ **æ˜¯äº¤é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®**













#### 5.6.2 set_union

**åŠŸèƒ½æè¿°ï¼š**

* æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†



**å‡½æ•°åŸå‹ï¼š**

- `set_union(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);  `

  // æ±‚ä¸¤ä¸ªé›†åˆçš„å¹¶é›†

  // **æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—**

  // beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨
  // end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨
  // beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨
  // end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨
  // dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨

  

**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	vector<int> v2;
	for (int i = 0; i < 10; i++) {
		v1.push_back(i);
		v2.push_back(i+5);
	}

	vector<int> vTarget;
	//å–ä¸¤ä¸ªå®¹å™¨çš„å’Œç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´
	vTarget.resize(v1.size() + v2.size());

	//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€
	vector<int>::iterator itEnd = 
        set_union(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());

	for_each(vTarget.begin(), itEnd, myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** 

- æ±‚å¹¶é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—
- ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦**ä¸¤ä¸ªå®¹å™¨ç›¸åŠ **
- set_unionè¿”å›å€¼æ—¢æ˜¯å¹¶é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½®








#### 5.6.3  set_difference

**åŠŸèƒ½æè¿°ï¼š**

* æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†



**å‡½æ•°åŸå‹ï¼š**

- `set_difference(iterator beg1, iterator end1, iterator beg2, iterator end2, iterator dest);  `

  // æ±‚ä¸¤ä¸ªé›†åˆçš„å·®é›†

  // **æ³¨æ„:ä¸¤ä¸ªé›†åˆå¿…é¡»æ˜¯æœ‰åºåºåˆ—**

  // beg1 å®¹å™¨1å¼€å§‹è¿­ä»£å™¨
  // end1 å®¹å™¨1ç»“æŸè¿­ä»£å™¨
  // beg2 å®¹å™¨2å¼€å§‹è¿­ä»£å™¨
  // end2 å®¹å™¨2ç»“æŸè¿­ä»£å™¨
  // dest ç›®æ ‡å®¹å™¨å¼€å§‹è¿­ä»£å™¨

  

**ç¤ºä¾‹ï¼š**

```C++
#include <vector>
#include <algorithm>

class myPrint
{
public:
	void operator()(int val)
	{
		cout << val << " ";
	}
};

void test01()
{
	vector<int> v1;
	vector<int> v2;
	for (int i = 0; i < 10; i++) {
		v1.push_back(i);
		v2.push_back(i+5);
	}

	vector<int> vTarget;
	//å–ä¸¤ä¸ªé‡Œé¢è¾ƒå¤§çš„å€¼ç»™ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´
	vTarget.resize( max(v1.size() , v2.size()));

	//è¿”å›ç›®æ ‡å®¹å™¨çš„æœ€åä¸€ä¸ªå…ƒç´ çš„è¿­ä»£å™¨åœ°å€
	cout << "v1ä¸v2çš„å·®é›†ä¸ºï¼š " << endl;
	vector<int>::iterator itEnd = 
        set_difference(v1.begin(), v1.end(), v2.begin(), v2.end(), vTarget.begin());
	for_each(vTarget.begin(), itEnd, myPrint());
	cout << endl;


	cout << "v2ä¸v1çš„å·®é›†ä¸ºï¼š " << endl;
	itEnd = set_difference(v2.begin(), v2.end(), v1.begin(), v1.end(), vTarget.begin());
	for_each(vTarget.begin(), itEnd, myPrint());
	cout << endl;
}

int main() {

	test01();

	system("pause");

	return 0;
}
```

**æ€»ç»“ï¼š** 

- æ±‚å·®é›†çš„ä¸¤ä¸ªé›†åˆå¿…é¡»çš„æœ‰åºåºåˆ—
- ç›®æ ‡å®¹å™¨å¼€è¾Ÿç©ºé—´éœ€è¦ä»**ä¸¤ä¸ªå®¹å™¨å–è¾ƒå¤§å€¼**
- set_differenceè¿”å›å€¼æ—¢æ˜¯å·®é›†ä¸­æœ€åä¸€ä¸ªå…ƒç´ çš„ä½ç½® 